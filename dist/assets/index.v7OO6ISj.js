var dc=e=>{throw TypeError(e)};var r0=(e,t,n)=>t.has(e)||dc("Cannot "+n);var m=(e,t,n)=>(r0(e,t,"read from private field"),n?n.call(e):t.get(e)),R=(e,t,n)=>t.has(e)?dc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),C=(e,t,n,r)=>(r0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),H=(e,t,n)=>(r0(e,t,"access private method"),n);var Oa=(e,t,n,r)=>({set _(i){C(e,t,i,n)},get _(){return m(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function k4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t2={exports:{}},Nl={},n2={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),M4=Symbol.for("react.portal"),T4=Symbol.for("react.fragment"),C4=Symbol.for("react.strict_mode"),D4=Symbol.for("react.profiler"),L4=Symbol.for("react.provider"),R4=Symbol.for("react.context"),A4=Symbol.for("react.forward_ref"),I4=Symbol.for("react.suspense"),b4=Symbol.for("react.memo"),_4=Symbol.for("react.lazy"),hc=Symbol.iterator;function N4(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var r2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i2=Object.assign,s2={};function Ki(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||r2}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a2(){}a2.prototype=Ki.prototype;function a1(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||r2}var o1=a1.prototype=new a2;o1.constructor=a1;i2(o1,Ki.prototype);o1.isPureReactComponent=!0;var fc=Array.isArray,o2=Object.prototype.hasOwnProperty,l1={current:null},l2={key:!0,ref:!0,__self:!0,__source:!0};function u2(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)o2.call(t,r)&&!l2.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ca,type:e,key:s,ref:a,props:i,_owner:l1.current}}function P4(e,t){return{$$typeof:Ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function u1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ca}function F4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mc=/\/+/g;function i0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F4(""+e.key):t.toString(36)}function fo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ca:case M4:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+i0(a,0):r,fc(i)?(n="",e!=null&&(n=e.replace(mc,"$&/")+"/"),fo(i,t,n,"",function(u){return u})):i!=null&&(u1(i)&&(i=P4(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mc,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",fc(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+i0(s,o);a+=fo(s,t,n,l,i)}else if(l=N4(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+i0(s,o++),a+=fo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ba(e,t,n){if(e==null)return e;var r=[],i=0;return fo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function O4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},mo={transition:null},B4={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:mo,ReactCurrentOwner:l1};function c2(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ba,forEach:function(e,t,n){Ba(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ba(e,function(){t++}),t},toArray:function(e){return Ba(e,function(t){return t})||[]},only:function(e){if(!u1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Ki;Q.Fragment=T4;Q.Profiler=D4;Q.PureComponent=a1;Q.StrictMode=C4;Q.Suspense=I4;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4;Q.act=c2;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=i2({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=l1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)o2.call(t,l)&&!l2.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ca,type:e.type,key:i,ref:s,props:r,_owner:a}};Q.createContext=function(e){return e={$$typeof:R4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L4,_context:e},e.Consumer=e};Q.createElement=u2;Q.createFactory=function(e){var t=u2.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:A4,render:e}};Q.isValidElement=u1;Q.lazy=function(e){return{$$typeof:_4,_payload:{_status:-1,_result:e},_init:O4}};Q.memo=function(e,t){return{$$typeof:b4,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=mo.transition;mo.transition={};try{e()}finally{mo.transition=t}};Q.unstable_act=c2;Q.useCallback=function(e,t){return qe.current.useCallback(e,t)};Q.useContext=function(e){return qe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return qe.current.useEffect(e,t)};Q.useId=function(){return qe.current.useId()};Q.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return qe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};Q.useRef=function(e){return qe.current.useRef(e)};Q.useState=function(e){return qe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return qe.current.useTransition()};Q.version="18.3.1";n2.exports=Q;var E=n2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4=E,U4=Symbol.for("react.element"),V4=Symbol.for("react.fragment"),W4=Object.prototype.hasOwnProperty,G4=j4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function d2(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)W4.call(t,r)&&!H4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:U4,type:e,key:s,ref:a,props:i,_owner:G4.current}}Nl.Fragment=V4;Nl.jsx=d2;Nl.jsxs=d2;t2.exports=Nl;var x=t2.exports,h2={exports:{}},ft={},f2={exports:{}},m2={};(function(e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function t(O,W){var G=O.length;O.push(W);e:for(;0<G;){var z=G-1>>>1,M=O[z];if(0<i(M,W))O[z]=W,O[G]=M,G=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],G=O.pop();if(G!==W){O[0]=G;e:for(var z=0,M=O.length,P=M>>>1;z<P;){var b=2*(z+1)-1,T=O[b],$=b+1,de=O[$];if(0>i(T,G))$<M&&0>i(de,T)?(O[z]=de,O[$]=G,z=$):(O[z]=T,O[b]=G,z=b);else if($<M&&0>i(de,G))O[z]=de,O[$]=G,z=$;else break e}}return W}function i(O,W){var G=O.sortIndex-W.sortIndex;return G!==0?G:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,v=!1,D=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=O)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function k(O){if(v=!1,w(O),!p)if(n(l)!==null)p=!0,xe(I);else{var W=n(u);W!==null&&Pe(k,W.startTime-O)}}function I(O,W){p=!1,v&&(v=!1,g(B),B=-1),f=!0;var G=d;try{for(w(W),h=n(l);h!==null&&(!(h.expirationTime>W)||O&&!U());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var M=z(h.expirationTime<=W);W=e.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),w(W)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var b=n(u);b!==null&&Pe(k,b.startTime-W),P=!1}return P}finally{h=null,d=G,f=!1}}var A=!1,L=null,B=-1,q=5,N=-1;function U(){return!(e.unstable_now()-N<q)}function te(){if(L!==null){var O=e.unstable_now();N=O;var W=!0;try{W=L(!0,O)}finally{W?ye():(A=!1,L=null)}}else A=!1}var ye;if(typeof y=="function")ye=function(){y(te)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ce=Ne.port2;Ne.port1.onmessage=te,ye=function(){Ce.postMessage(null)}}else ye=function(){D(te,0)};function xe(O){L=O,A||(A=!0,ye())}function Pe(O,W){B=D(function(){O(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,xe(I))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var G=d;d=W;try{return O()}finally{d=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=d;d=O;try{return W()}finally{d=G}},e.unstable_scheduleCallback=function(O,W,G){var z=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?z+G:z):G=z,O){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,O={id:c++,callback:W,priorityLevel:O,startTime:G,expirationTime:M,sortIndex:-1},G>z?(O.sortIndex=G,t(u,O),n(l)===null&&O===n(u)&&(v?(g(B),B=-1):v=!0,Pe(k,G-z))):(O.sortIndex=M,t(l,O),p||f||(p=!0,xe(I))),O},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(O){var W=d;return function(){var G=d;d=W;try{return O.apply(this,arguments)}finally{d=G}}}})(m2);f2.exports=m2;var $4=f2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4=E,dt=$4;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p2=new Set,Is={};function $r(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for(Is[e]=t,e=0;e<t.length;e++)p2.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},gc={};function Y4(e){return U0.call(gc,e)?!0:U0.call(pc,e)?!1:q4.test(e)?gc[e]=!0:(pc[e]=!0,!1)}function K4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X4(e,t,n,r){if(t===null||typeof t>"u"||K4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var c1=/[\-:]([a-z])/g;function d1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c1,d1);_e[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c1,d1);_e[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c1,d1);_e[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function h1(e,t,n,r){var i=_e.hasOwnProperty(t)?_e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X4(t,n,i,r)&&(n=null),r||i===null?Y4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=Q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),g2=Symbol.for("react.provider"),y2=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),p1=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),v2=Symbol.for("react.offscreen"),yc=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,s0;function ps(e){if(s0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);s0=t&&t[1]||""}return`
`+s0+e}var a0=!1;function o0(e,t){if(!e||a0)return"";a0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{a0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function Z4(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=o0(e.type,!1),e;case 11:return e=o0(e.type.render,!1),e;case 1:return e=o0(e.type,!0),e;default:return""}}function H0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ni:return"Portal";case V0:return"Profiler";case f1:return"StrictMode";case W0:return"Suspense";case G0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y2:return(e.displayName||"Context")+".Consumer";case g2:return(e._context.displayName||"Context")+".Provider";case m1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case p1:return t=e.displayName||null,t!==null?t:H0(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return H0(e(t))}catch{}}return null}function J4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H0(t);case 8:return t===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ep(e){var t=w2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){e._valueTracker||(e._valueTracker=ep(e))}function x2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=w2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $0(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S2(e,t){t=t.checked,t!=null&&h1(e,"checked",t,!1)}function Q0(e,t){S2(e,t);var n=nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q0(e,t.type,n):t.hasOwnProperty("defaultValue")&&q0(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function q0(e,t,n){(t!=="number"||Io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gs=Array.isArray;function pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Y0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(gs(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function z2(e,t){var n=nr(t.value),r=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Va,k2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tp=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){tp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function M2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function T2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var np=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X0(e,t){if(t){if(np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Z0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=null;function g1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,gi=null,yi=null;function zc(e){if(e=Ra(e)){if(typeof eu!="function")throw Error(_(280));var t=e.stateNode;t&&(t=jl(t),eu(e.stateNode,e.type,t))}}function C2(e){gi?yi?yi.push(e):yi=[e]:gi=e}function D2(){if(gi){var e=gi,t=yi;if(yi=gi=null,zc(e),t)for(e=0;e<t.length;e++)zc(t[e])}}function L2(e,t){return e(t)}function R2(){}var l0=!1;function A2(e,t,n){if(l0)return e(t,n);l0=!0;try{return L2(e,t,n)}finally{l0=!1,(gi!==null||yi!==null)&&(R2(),D2())}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var tu=!1;if(pn)try{var is={};Object.defineProperty(is,"passive",{get:function(){tu=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{tu=!1}function rp(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zs=!1,bo=null,_o=!1,nu=null,ip={onError:function(e){zs=!0,bo=e}};function sp(e,t,n,r,i,s,a,o,l){zs=!1,bo=null,rp.apply(ip,arguments)}function ap(e,t,n,r,i,s,a,o,l){if(sp.apply(this,arguments),zs){if(zs){var u=bo;zs=!1,bo=null}else throw Error(_(198));_o||(_o=!0,nu=u)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function I2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ec(e){if(Qr(e)!==e)throw Error(_(188))}function op(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ec(i),e;if(s===r)return Ec(i),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function b2(e){return e=op(e),e!==null?_2(e):null}function _2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_2(e);if(t!==null)return t;e=e.sibling}return null}var N2=dt.unstable_scheduleCallback,kc=dt.unstable_cancelCallback,lp=dt.unstable_shouldYield,up=dt.unstable_requestPaint,pe=dt.unstable_now,cp=dt.unstable_getCurrentPriorityLevel,y1=dt.unstable_ImmediatePriority,P2=dt.unstable_UserBlockingPriority,No=dt.unstable_NormalPriority,dp=dt.unstable_LowPriority,F2=dt.unstable_IdlePriority,Pl=null,qt=null;function hp(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:pp,fp=Math.log,mp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(fp(e)/mp|0)|0}var Wa=64,Ga=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ys(o):(s&=a,s!==0&&(r=ys(s)))}else a=n&~i,a!==0?r=ys(a):s!==0&&(r=ys(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),i=1<<n,r|=e[n],t&=~i;return r}function gp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pt(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=gp(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function O2(){var e=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),e}function u0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function vp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function v1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function B2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j2,w1,U2,V2,W2,iu=!1,Ha=[],Hn=null,$n=null,Qn=null,Ns=new Map,Ps=new Map,An=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mc(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function ss(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ra(t),t!==null&&w1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xp(e,t,n,r,i){switch(t){case"focusin":return Hn=ss(Hn,e,t,n,r,i),!0;case"dragenter":return $n=ss($n,e,t,n,r,i),!0;case"mouseover":return Qn=ss(Qn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ns.set(s,ss(Ns.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ps.set(s,ss(Ps.get(s)||null,e,t,n,r,i)),!0}return!1}function G2(e){var t=gr(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=I2(n),t!==null){e.blockedOn=t,W2(e.priority,function(){U2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);J0=r,n.target.dispatchEvent(r),J0=null}else return t=Ra(n),t!==null&&w1(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){po(e)&&n.delete(t)}function Sp(){iu=!1,Hn!==null&&po(Hn)&&(Hn=null),$n!==null&&po($n)&&($n=null),Qn!==null&&po(Qn)&&(Qn=null),Ns.forEach(Tc),Ps.forEach(Tc)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Sp)))}function Fs(e){function t(i){return as(i,e)}if(0<Ha.length){as(Ha[0],e);for(var n=1;n<Ha.length;n++){var r=Ha[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&as(Hn,e),$n!==null&&as($n,e),Qn!==null&&as(Qn,e),Ns.forEach(t),Ps.forEach(t),n=0;n<An.length;n++)r=An[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)G2(n),n.blockedOn===null&&An.shift()}var vi=xn.ReactCurrentBatchConfig,Fo=!0;function zp(e,t,n,r){var i=Z,s=vi.transition;vi.transition=null;try{Z=1,x1(e,t,n,r)}finally{Z=i,vi.transition=s}}function Ep(e,t,n,r){var i=Z,s=vi.transition;vi.transition=null;try{Z=4,x1(e,t,n,r)}finally{Z=i,vi.transition=s}}function x1(e,t,n,r){if(Fo){var i=su(e,t,n,r);if(i===null)w0(e,t,r,Oo,n),Mc(e,r);else if(xp(i,e,t,n,r))r.stopPropagation();else if(Mc(e,r),t&4&&-1<wp.indexOf(e)){for(;i!==null;){var s=Ra(i);if(s!==null&&j2(s),s=su(e,t,n,r),s===null&&w0(e,t,r,Oo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else w0(e,t,r,null,n)}}var Oo=null;function su(e,t,n,r){if(Oo=null,e=g1(r),e=gr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=I2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function H2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case y1:return 1;case P2:return 4;case No:case dp:return 16;case F2:return 536870912;default:return 16}default:return 16}}var Wn=null,S1=null,go=null;function $2(){if(go)return go;var e,t=S1,n=t.length,r,i="value"in Wn?Wn.value:Wn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return go=i.slice(e,1<r?1-r:void 0)}function yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $a(){return!0}function Cc(){return!1}function mt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$a:Cc,this.isPropagationStopped=Cc,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),t}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z1=mt(Xi),La=ce({},Xi,{view:0,detail:0}),kp=mt(La),c0,d0,os,Fl=ce({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(c0=e.screenX-os.screenX,d0=e.screenY-os.screenY):d0=c0=0,os=e),c0)},movementY:function(e){return"movementY"in e?e.movementY:d0}}),Dc=mt(Fl),Mp=ce({},Fl,{dataTransfer:0}),Tp=mt(Mp),Cp=ce({},La,{relatedTarget:0}),h0=mt(Cp),Dp=ce({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=mt(Dp),Rp=ce({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ap=mt(Rp),Ip=ce({},Xi,{data:0}),Lc=mt(Ip),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Np[e])?!!t[e]:!1}function E1(){return Pp}var Fp=ce({},La,{key:function(e){if(e.key){var t=bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_p[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E1,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=mt(Fp),Bp=ce({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=mt(Bp),jp=ce({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E1}),Up=mt(jp),Vp=ce({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wp=mt(Vp),Gp=ce({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=mt(Gp),$p=[9,13,27,32],k1=pn&&"CompositionEvent"in window,Es=null;pn&&"documentMode"in document&&(Es=document.documentMode);var Qp=pn&&"TextEvent"in window&&!Es,Q2=pn&&(!k1||Es&&8<Es&&11>=Es),Ac=" ",Ic=!1;function q2(e,t){switch(e){case"keyup":return $p.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function qp(e,t){switch(e){case"compositionend":return Y2(t);case"keypress":return t.which!==32?null:(Ic=!0,Ac);case"textInput":return e=t.data,e===Ac&&Ic?null:e;default:return null}}function Yp(e,t){if(ii)return e==="compositionend"||!k1&&q2(e,t)?(e=$2(),go=S1=Wn=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q2&&t.locale!=="ko"?null:t.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kp[e.type]:t==="textarea"}function K2(e,t,n,r){C2(r),t=Bo(t,"onChange"),0<t.length&&(n=new z1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ks=null,Os=null;function Xp(e){oh(e,0)}function Ol(e){var t=oi(e);if(x2(t))return e}function Zp(e,t){if(e==="change")return t}var X2=!1;if(pn){var f0;if(pn){var m0="oninput"in document;if(!m0){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),m0=typeof _c.oninput=="function"}f0=m0}else f0=!1;X2=f0&&(!document.documentMode||9<document.documentMode)}function Nc(){ks&&(ks.detachEvent("onpropertychange",Z2),Os=ks=null)}function Z2(e){if(e.propertyName==="value"&&Ol(Os)){var t=[];K2(t,Os,e,g1(e)),A2(Xp,t)}}function Jp(e,t,n){e==="focusin"?(Nc(),ks=t,Os=n,ks.attachEvent("onpropertychange",Z2)):e==="focusout"&&Nc()}function e5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Os)}function t5(e,t){if(e==="click")return Ol(t)}function n5(e,t){if(e==="input"||e==="change")return Ol(t)}function r5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:r5;function Bs(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!U0.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pc(n)}}function J2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eh(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Io(e.document)}return t}function M1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i5(e){var t=eh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&J2(n.ownerDocument.documentElement,n)){if(r!==null&&M1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Fc(n,s);var a=Fc(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s5=pn&&"documentMode"in document&&11>=document.documentMode,si=null,au=null,Ms=null,ou=!1;function Oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ou||si==null||si!==Io(r)||(r=si,"selectionStart"in r&&M1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&Bs(Ms,r)||(Ms=r,r=Bo(au,"onSelect"),0<r.length&&(t=new z1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=si)))}function Qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},p0={},th={};pn&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Bl(e){if(p0[e])return p0[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in th)return p0[e]=t[n];return e}var nh=Bl("animationend"),rh=Bl("animationiteration"),ih=Bl("animationstart"),sh=Bl("transitionend"),ah=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){ah.set(e,t),$r(t,[e])}for(var g0=0;g0<Bc.length;g0++){var y0=Bc[g0],a5=y0.toLowerCase(),o5=y0[0].toUpperCase()+y0.slice(1);ir(a5,"on"+o5)}ir(nh,"onAnimationEnd");ir(rh,"onAnimationIteration");ir(ih,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(sh,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l5=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ap(r,t,void 0,e),e.currentTarget=null}function oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jc(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jc(i,o,u),s=l}}}if(_o)throw e=nu,_o=!1,nu=null,e}function ne(e,t){var n=t[hu];n===void 0&&(n=t[hu]=new Set);var r=e+"__bubble";n.has(r)||(lh(t,e,2,!1),n.add(r))}function v0(e,t,n){var r=0;t&&(r|=4),lh(n,e,r,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[qa]){e[qa]=!0,p2.forEach(function(n){n!=="selectionchange"&&(l5.has(n)||v0(n,!1,e),v0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qa]||(t[qa]=!0,v0("selectionchange",!1,t))}}function lh(e,t,n,r){switch(H2(t)){case 1:var i=zp;break;case 4:i=Ep;break;default:i=x1}n=i.bind(null,t,n,e),i=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function w0(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=gr(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}A2(function(){var u=s,c=g1(n),h=[];e:{var d=ah.get(e);if(d!==void 0){var f=z1,p=e;switch(e){case"keypress":if(yo(n)===0)break e;case"keydown":case"keyup":f=Op;break;case"focusin":p="focus",f=h0;break;case"focusout":p="blur",f=h0;break;case"beforeblur":case"afterblur":f=h0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Up;break;case nh:case rh:case ih:f=Lp;break;case sh:f=Wp;break;case"scroll":f=kp;break;case"wheel":f=Hp;break;case"copy":case"cut":case"paste":f=Ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Rc}var v=(t&4)!==0,D=!v&&e==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=_s(y,g),k!=null&&v.push(Us(y,k,w)))),D)break;y=y.return}0<v.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==J0&&(p=n.relatedTarget||n.fromElement)&&(gr(p)||p[gn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?gr(p):null,p!==null&&(D=Qr(p),p!==D||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(v=Dc,k="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Rc,k="onPointerLeave",g="onPointerEnter",y="pointer"),D=f==null?d:oi(f),w=p==null?d:oi(p),d=new v(k,y+"leave",f,n,c),d.target=D,d.relatedTarget=w,k=null,gr(c)===u&&(v=new v(g,y+"enter",p,n,c),v.target=w,v.relatedTarget=D,k=v),D=k,f&&p)t:{for(v=f,g=p,y=0,w=v;w;w=Kr(w))y++;for(w=0,k=g;k;k=Kr(k))w++;for(;0<y-w;)v=Kr(v),y--;for(;0<w-y;)g=Kr(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Kr(v),g=Kr(g)}v=null}else v=null;f!==null&&Uc(h,d,f,v,!1),p!==null&&D!==null&&Uc(h,D,p,v,!0)}}e:{if(d=u?oi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=Zp;else if(bc(d))if(X2)I=n5;else{I=e5;var A=Jp}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=t5);if(I&&(I=I(e,u))){K2(h,I,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&q0(d,"number",d.value)}switch(A=u?oi(u):window,e){case"focusin":(bc(A)||A.contentEditable==="true")&&(si=A,au=u,Ms=null);break;case"focusout":Ms=au=si=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Oc(h,n,c);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":Oc(h,n,c)}var L;if(k1)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ii?q2(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Q2&&n.locale!=="ko"&&(ii||B!=="onCompositionStart"?B==="onCompositionEnd"&&ii&&(L=$2()):(Wn=c,S1="value"in Wn?Wn.value:Wn.textContent,ii=!0)),A=Bo(u,B),0<A.length&&(B=new Lc(B,e,null,n,c),h.push({event:B,listeners:A}),L?B.data=L:(L=Y2(n),L!==null&&(B.data=L)))),(L=Qp?qp(e,n):Yp(e,n))&&(u=Bo(u,"onBeforeInput"),0<u.length&&(c=new Lc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=L))}oh(h,t)})}function Us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_s(e,n),s!=null&&r.unshift(Us(e,s,i)),s=_s(e,t),s!=null&&r.push(Us(e,s,i))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=_s(n,s),l!=null&&a.unshift(Us(n,l,o))):i||(l=_s(n,s),l!=null&&a.push(Us(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var u5=/\r\n?/g,c5=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(u5,`
`).replace(c5,"")}function Ya(e,t,n){if(t=Vc(t),Vc(e)!==t&&n)throw Error(_(425))}function jo(){}var lu=null,uu=null;function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,d5=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,h5=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(e){return Wc.resolve(null).then(e).catch(f5)}:du;function f5(e){setTimeout(function(){throw e})}function x0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fs(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Zi,Vs="__reactProps$"+Zi,gn="__reactContainer$"+Zi,hu="__reactEvents$"+Zi,m5="__reactListeners$"+Zi,p5="__reactHandles$"+Zi;function gr(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gc(e);e!==null;){if(n=e[Ht])return n;e=Gc(e)}return t}e=n,n=e.parentNode}return null}function Ra(e){return e=e[Ht]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function jl(e){return e[Vs]||null}var fu=[],li=-1;function sr(e){return{current:e}}function ie(e){0>li||(e.current=fu[li],fu[li]=null,li--)}function ee(e,t){li++,fu[li]=e.current,e.current=t}var rr={},je=sr(rr),nt=sr(!1),jr=rr;function ji(e,t){var n=e.type.contextTypes;if(!n)return rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function Uo(){ie(nt),ie(je)}function Hc(e,t,n){if(je.current!==rr)throw Error(_(168));ee(je,t),ee(nt,n)}function uh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_(108,J4(e)||"Unknown",i));return ce({},n,r)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,jr=je.current,ee(je,e),ee(nt,nt.current),!0}function $c(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=uh(e,t,jr),r.__reactInternalMemoizedMergedChildContext=e,ie(nt),ie(je),ee(je,e)):ie(nt),ee(nt,n)}var rn=null,Ul=!1,S0=!1;function ch(e){rn===null?rn=[e]:rn.push(e)}function g5(e){Ul=!0,ch(e)}function ar(){if(!S0&&rn!==null){S0=!0;var e=0,t=Z;try{var n=rn;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Ul=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),N2(y1,ar),i}finally{Z=t,S0=!1}}return null}var ui=[],ci=0,Wo=null,Go=0,yt=[],vt=0,Ur=null,un=1,cn="";function dr(e,t){ui[ci++]=Go,ui[ci++]=Wo,Wo=e,Go=t}function dh(e,t,n){yt[vt++]=un,yt[vt++]=cn,yt[vt++]=Ur,Ur=e;var r=un;e=cn;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var s=32-Pt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,un=1<<32-Pt(t)+i|n<<i|r,cn=s+e}else un=1<<s|n<<i|r,cn=e}function T1(e){e.return!==null&&(dr(e,1),dh(e,1,0))}function C1(e){for(;e===Wo;)Wo=ui[--ci],ui[ci]=null,Go=ui[--ci],ui[ci]=null;for(;e===Ur;)Ur=yt[--vt],yt[vt]=null,cn=yt[--vt],yt[vt]=null,un=yt[--vt],yt[vt]=null}var ut=null,ot=null,ae=!1,_t=null;function hh(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ot=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ur!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ot=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(ae){var t=ot;if(t){var n=t;if(!Qc(e,t)){if(mu(e))throw Error(_(418));t=qn(n.nextSibling);var r=ut;t&&Qc(e,t)?hh(r,n):(e.flags=e.flags&-4097|2,ae=!1,ut=e)}}else{if(mu(e))throw Error(_(418));e.flags=e.flags&-4097|2,ae=!1,ut=e}}}function qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Ka(e){if(e!==ut)return!1;if(!ae)return qc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cu(e.type,e.memoizedProps)),t&&(t=ot)){if(mu(e))throw fh(),Error(_(418));for(;t;)hh(e,t),t=qn(t.nextSibling)}if(qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=ut?qn(e.stateNode.nextSibling):null;return!0}function fh(){for(var e=ot;e;)e=qn(e.nextSibling)}function Ui(){ot=ut=null,ae=!1}function D1(e){_t===null?_t=[e]:_t.push(e)}var y5=xn.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yc(e){var t=e._init;return t(e._payload)}function mh(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Zn(g,y),g.index=0,g.sibling=null,g}function s(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,y,w,k){return y===null||y.tag!==6?(y=D0(w,g.mode,k),y.return=g,y):(y=i(y,w),y.return=g,y)}function l(g,y,w,k){var I=w.type;return I===ri?c(g,y,w.props.children,k,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Dn&&Yc(I)===y.type)?(k=i(y,w.props),k.ref=ls(g,y,w),k.return=g,k):(k=ko(w.type,w.key,w.props,null,g.mode,k),k.ref=ls(g,y,w),k.return=g,k)}function u(g,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=L0(w,g.mode,k),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function c(g,y,w,k,I){return y===null||y.tag!==7?(y=Pr(w,g.mode,k,I),y.return=g,y):(y=i(y,w),y.return=g,y)}function h(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=D0(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:return w=ko(y.type,y.key,y.props,null,g.mode,w),w.ref=ls(g,null,y),w.return=g,w;case ni:return y=L0(y,g.mode,w),y.return=g,y;case Dn:var k=y._init;return h(g,k(y._payload),w)}if(gs(y)||rs(y))return y=Pr(y,g.mode,w,null),y.return=g,y;Xa(g,y)}return null}function d(g,y,w,k){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:o(g,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ja:return w.key===I?l(g,y,w,k):null;case ni:return w.key===I?u(g,y,w,k):null;case Dn:return I=w._init,d(g,y,I(w._payload),k)}if(gs(w)||rs(w))return I!==null?null:c(g,y,w,k,null);Xa(g,w)}return null}function f(g,y,w,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,o(y,g,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ja:return g=g.get(k.key===null?w:k.key)||null,l(y,g,k,I);case ni:return g=g.get(k.key===null?w:k.key)||null,u(y,g,k,I);case Dn:var A=k._init;return f(g,y,w,A(k._payload),I)}if(gs(k)||rs(k))return g=g.get(w)||null,c(y,g,k,I,null);Xa(y,k)}return null}function p(g,y,w,k){for(var I=null,A=null,L=y,B=y=0,q=null;L!==null&&B<w.length;B++){L.index>B?(q=L,L=null):q=L.sibling;var N=d(g,L,w[B],k);if(N===null){L===null&&(L=q);break}e&&L&&N.alternate===null&&t(g,L),y=s(N,y,B),A===null?I=N:A.sibling=N,A=N,L=q}if(B===w.length)return n(g,L),ae&&dr(g,B),I;if(L===null){for(;B<w.length;B++)L=h(g,w[B],k),L!==null&&(y=s(L,y,B),A===null?I=L:A.sibling=L,A=L);return ae&&dr(g,B),I}for(L=r(g,L);B<w.length;B++)q=f(L,g,B,w[B],k),q!==null&&(e&&q.alternate!==null&&L.delete(q.key===null?B:q.key),y=s(q,y,B),A===null?I=q:A.sibling=q,A=q);return e&&L.forEach(function(U){return t(g,U)}),ae&&dr(g,B),I}function v(g,y,w,k){var I=rs(w);if(typeof I!="function")throw Error(_(150));if(w=I.call(w),w==null)throw Error(_(151));for(var A=I=null,L=y,B=y=0,q=null,N=w.next();L!==null&&!N.done;B++,N=w.next()){L.index>B?(q=L,L=null):q=L.sibling;var U=d(g,L,N.value,k);if(U===null){L===null&&(L=q);break}e&&L&&U.alternate===null&&t(g,L),y=s(U,y,B),A===null?I=U:A.sibling=U,A=U,L=q}if(N.done)return n(g,L),ae&&dr(g,B),I;if(L===null){for(;!N.done;B++,N=w.next())N=h(g,N.value,k),N!==null&&(y=s(N,y,B),A===null?I=N:A.sibling=N,A=N);return ae&&dr(g,B),I}for(L=r(g,L);!N.done;B++,N=w.next())N=f(L,g,B,N.value,k),N!==null&&(e&&N.alternate!==null&&L.delete(N.key===null?B:N.key),y=s(N,y,B),A===null?I=N:A.sibling=N,A=N);return e&&L.forEach(function(te){return t(g,te)}),ae&&dr(g,B),I}function D(g,y,w,k){if(typeof w=="object"&&w!==null&&w.type===ri&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ja:e:{for(var I=w.key,A=y;A!==null;){if(A.key===I){if(I=w.type,I===ri){if(A.tag===7){n(g,A.sibling),y=i(A,w.props.children),y.return=g,g=y;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Dn&&Yc(I)===A.type){n(g,A.sibling),y=i(A,w.props),y.ref=ls(g,A,w),y.return=g,g=y;break e}n(g,A);break}else t(g,A);A=A.sibling}w.type===ri?(y=Pr(w.props.children,g.mode,k,w.key),y.return=g,g=y):(k=ko(w.type,w.key,w.props,null,g.mode,k),k.ref=ls(g,y,w),k.return=g,g=k)}return a(g);case ni:e:{for(A=w.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=L0(w,g.mode,k),y.return=g,g=y}return a(g);case Dn:return A=w._init,D(g,y,A(w._payload),k)}if(gs(w))return p(g,y,w,k);if(rs(w))return v(g,y,w,k);Xa(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=D0(w,g.mode,k),y.return=g,g=y),a(g)):n(g,y)}return D}var Vi=mh(!0),ph=mh(!1),Ho=sr(null),$o=null,di=null,L1=null;function R1(){L1=di=$o=null}function A1(e){var t=Ho.current;ie(Ho),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){$o=e,L1=di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(L1!==e)if(e={context:e,memoizedValue:t,next:null},di===null){if($o===null)throw Error(_(308));di=e,$o.dependencies={lanes:0,firstContext:e}}else di=di.next=e;return t}var yr=null;function I1(e){yr===null?yr=[e]:yr.push(e)}function gh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,I1(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ln=!1;function b1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,I1(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function vo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,v1(e,n)}}function Kc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qo(e,t,n,r){var i=e.updateQueue;Ln=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var d=o.lane,f=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(d=t,f=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ce({},h,d);break e;case 2:Ln=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wr|=a,e.lanes=a,e.memoizedState=h}}function Xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var Aa={},Yt=sr(Aa),Ws=sr(Aa),Gs=sr(Aa);function vr(e){if(e===Aa)throw Error(_(174));return e}function _1(e,t){switch(ee(Gs,t),ee(Ws,e),ee(Yt,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K0(t,e)}ie(Yt),ee(Yt,t)}function Wi(){ie(Yt),ie(Ws),ie(Gs)}function vh(e){vr(Gs.current);var t=vr(Yt.current),n=K0(t,e.type);t!==n&&(ee(Ws,e),ee(Yt,n))}function N1(e){Ws.current===e&&(ie(Yt),ie(Ws))}var le=sr(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var z0=[];function P1(){for(var e=0;e<z0.length;e++)z0[e]._workInProgressVersionPrimary=null;z0.length=0}var wo=xn.ReactCurrentDispatcher,E0=xn.ReactCurrentBatchConfig,Vr=0,ue=null,ve=null,Me=null,Yo=!1,Ts=!1,Hs=0,v5=0;function Fe(){throw Error(_(321))}function F1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function O1(e,t,n,r,i,s){if(Vr=s,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wo.current=e===null||e.memoizedState===null?z5:E5,e=n(r,i),Ts){s=0;do{if(Ts=!1,Hs=0,25<=s)throw Error(_(301));s+=1,Me=ve=null,t.updateQueue=null,wo.current=k5,e=n(r,i)}while(Ts)}if(wo.current=Ko,t=ve!==null&&ve.next!==null,Vr=0,Me=ve=ue=null,Yo=!1,t)throw Error(_(300));return e}function B1(){var e=Hs!==0;return Hs=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ue.memoizedState=Me=e:Me=Me.next=e,Me}function kt(){if(ve===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Me===null?ue.memoizedState:Me.next;if(t!==null)Me=t,ve=e;else{if(e===null)throw Error(_(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Me===null?ue.memoizedState=Me=e:Me=Me.next=e}return Me}function $s(e,t){return typeof t=="function"?t(e):t}function k0(e){var t=kt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,ue.lanes|=c,Wr|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ot(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ue.lanes|=s,Wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function M0(e){var t=kt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ot(s,t.memoizedState)||(tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wh(){}function xh(e,t){var n=ue,r=kt(),i=t(),s=!Ot(r.memoizedState,i);if(s&&(r.memoizedState=i,tt=!0),r=r.queue,j1(Eh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Qs(9,zh.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(_(349));Vr&30||Sh(n,t,i)}return i}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,r){t.value=n,t.getSnapshot=r,kh(t)&&Mh(e)}function Eh(e,t,n){return n(function(){kh(t)&&Mh(e)})}function kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Mh(e){var t=yn(e,1);t!==null&&Ft(t,e,1,-1)}function Zc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=S5.bind(null,ue,e),[t.memoizedState,e]}function Qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Th(){return kt().memoizedState}function xo(e,t,n,r){var i=jt();ue.flags|=e,i.memoizedState=Qs(1|t,n,void 0,r===void 0?null:r)}function Vl(e,t,n,r){var i=kt();r=r===void 0?null:r;var s=void 0;if(ve!==null){var a=ve.memoizedState;if(s=a.destroy,r!==null&&F1(r,a.deps)){i.memoizedState=Qs(t,n,s,r);return}}ue.flags|=e,i.memoizedState=Qs(1|t,n,s,r)}function Jc(e,t){return xo(8390656,8,e,t)}function j1(e,t){return Vl(2048,8,e,t)}function Ch(e,t){return Vl(4,2,e,t)}function Dh(e,t){return Vl(4,4,e,t)}function Lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,Lh.bind(null,t,e),n)}function U1(){}function Ah(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ih(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bh(e,t,n){return Vr&21?(Ot(n,t)||(n=O2(),ue.lanes|=n,Wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function w5(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=E0.transition;E0.transition={};try{e(!1),t()}finally{Z=n,E0.transition=r}}function _h(){return kt().memoizedState}function x5(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nh(e))Ph(t,n);else if(n=gh(e,t,n,r),n!==null){var i=$e();Ft(n,e,r,i),Fh(n,t,r)}}function S5(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nh(e))Ph(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ot(o,a)){var l=t.interleaved;l===null?(i.next=i,I1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=gh(e,t,i,r),n!==null&&(i=$e(),Ft(n,e,r,i),Fh(n,t,r))}}function Nh(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Ph(e,t){Ts=Yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,v1(e,n)}}var Ko={readContext:Et,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},z5={readContext:Et,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Jc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xo(4194308,4,Lh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=x5.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Zc,useDebugValue:U1,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Zc(!1),t=e[0];return e=w5.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,i=jt();if(ae){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Te===null)throw Error(_(349));Vr&30||Sh(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Jc(Eh.bind(null,r,s,e),[e]),r.flags|=2048,Qs(9,zh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=jt(),t=Te.identifierPrefix;if(ae){var n=cn,r=un;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=v5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E5={readContext:Et,useCallback:Ah,useContext:Et,useEffect:j1,useImperativeHandle:Rh,useInsertionEffect:Ch,useLayoutEffect:Dh,useMemo:Ih,useReducer:k0,useRef:Th,useState:function(){return k0($s)},useDebugValue:U1,useDeferredValue:function(e){var t=kt();return bh(t,ve.memoizedState,e)},useTransition:function(){var e=k0($s)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:xh,useId:_h,unstable_isNewReconciler:!1},k5={readContext:Et,useCallback:Ah,useContext:Et,useEffect:j1,useImperativeHandle:Rh,useInsertionEffect:Ch,useLayoutEffect:Dh,useMemo:Ih,useReducer:M0,useRef:Th,useState:function(){return M0($s)},useDebugValue:U1,useDeferredValue:function(e){var t=kt();return ve===null?t.memoizedState=e:bh(t,ve.memoizedState,e)},useTransition:function(){var e=M0($s)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:xh,useId:_h,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=Xn(e),s=dn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Yn(e,s,i),t!==null&&(Ft(t,e,i,r),vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=Xn(e),s=dn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Yn(e,s,i),t!==null&&(Ft(t,e,i,r),vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=Xn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Yn(e,i,r),t!==null&&(Ft(t,e,r,n),vo(t,e,r))}};function ed(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Bs(n,r)||!Bs(i,s):!0}function Oh(e,t,n){var r=!1,i=rr,s=t.contextType;return typeof s=="object"&&s!==null?s=Et(s):(i=rt(t)?jr:je.current,r=t.contextTypes,s=(r=r!=null)?ji(e,i):rr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function td(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function vu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},b1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Et(s):(s=rt(t)?jr:je.current,i.context=ji(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wl.enqueueReplaceState(i,i.state,null),Qo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,t){try{var n="",r=t;do n+=Z4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function T0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function Bh(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,Lu=r),wu(e,t)},n}function jh(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wu(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function nd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B5.bind(null,e,t,n),t.then(e,e))}function rd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e)}var T5=xn.ReactCurrentOwner,tt=!1;function We(e,t,n,r){t.child=e===null?ph(t,null,n,r):Vi(t,e.child,n,r)}function sd(e,t,n,r,i){n=n.render;var s=t.ref;return wi(t,i),r=O1(e,t,n,r,s,i),n=B1(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ae&&n&&T1(t),t.flags|=1,We(e,t,r,i),t.child)}function ad(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Y1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Uh(e,t,s,r,i)):(e=ko(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(a,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=Zn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Bs(s,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return xu(e,t,n,r,i)}function Vh(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(fi,at),at|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(fi,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(fi,at),at|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ee(fi,at),at|=r;return We(e,t,i,n),t.child}function Wh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var s=rt(n)?jr:je.current;return s=ji(t,s),wi(t,i),n=O1(e,t,n,r,s,i),r=B1(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ae&&r&&T1(t),t.flags|=1,We(e,t,n,i),t.child)}function od(e,t,n,r,i){if(rt(n)){var s=!0;Vo(t)}else s=!1;if(wi(t,i),t.stateNode===null)So(e,t),Oh(t,n,r),vu(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=rt(n)?jr:je.current,u=ji(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&td(t,a,r,u),Ln=!1;var d=t.memoizedState;a.state=d,Qo(t,r,a,i),l=t.memoizedState,o!==r||d!==l||nt.current||Ln?(typeof c=="function"&&(yu(t,n,c,r),l=t.memoizedState),(o=Ln||ed(t,n,o,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Rt(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=rt(n)?jr:je.current,l=ji(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&td(t,a,r,l),Ln=!1,d=t.memoizedState,a.state=d,Qo(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||nt.current||Ln?(typeof f=="function"&&(yu(t,n,f,r),p=t.memoizedState),(u=Ln||ed(t,n,u,r,d,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,s,i)}function Su(e,t,n,r,i,s){Wh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&$c(t,n,!1),vn(e,t,s);r=t.stateNode,T5.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Vi(t,e.child,null,s),t.child=Vi(t,null,o,s)):We(e,t,o,s),t.memoizedState=r.state,i&&$c(t,n,!0),t.child}function Gh(e){var t=e.stateNode;t.pendingContext?Hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hc(e,t.context,!1),_1(e,t.containerInfo)}function ld(e,t,n,r,i){return Ui(),D1(i),t.flags|=256,We(e,t,n,r),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hh(e,t,n){var r=t.pendingProps,i=le.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(le,i&1),e===null)return pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=$l(a,r,0,null),e=Pr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Eu(n),t.memoizedState=zu,e):V1(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return C5(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Zn(o,s):(s=Pr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Eu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=zu,r}return s=e.child,e=s.sibling,r=Zn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function V1(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Za(e,t,n,r){return r!==null&&D1(r),Vi(t,e.child,null,n),e=V1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C5(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=T0(Error(_(422))),Za(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=$l({mode:"visible",children:r.children},i,0,null),s=Pr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vi(t,e.child,null,a),t.child.memoizedState=Eu(a),t.memoizedState=zu,s);if(!(t.mode&1))return Za(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(_(419)),r=T0(s,r,void 0),Za(e,t,a,r)}if(o=(a&e.childLanes)!==0,tt||o){if(r=Te,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yn(e,i),Ft(r,e,i,-1))}return q1(),r=T0(Error(_(421))),Za(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=j5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ot=qn(i.nextSibling),ut=t,ae=!0,_t=null,e!==null&&(yt[vt++]=un,yt[vt++]=cn,yt[vt++]=Ur,un=e.id,cn=e.overflow,Ur=t),t=V1(t,r.children),t.flags|=4096,t)}function ud(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function C0(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $h(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(We(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,n,t);else if(e.tag===19)ud(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(le,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),C0(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}C0(t,!0,n,null,s);break;case"together":C0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function D5(e,t,n){switch(t.tag){case 3:Gh(t),Ui();break;case 5:vh(t);break;case 1:rt(t.type)&&Vo(t);break;case 4:_1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(Ho,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Hh(e,t,n):(ee(le,le.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $h(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Vh(e,t,n)}return vn(e,t,n)}var Qh,ku,qh,Yh;Qh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ku=function(){};qh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vr(Yt.current);var s=null;switch(n){case"input":i=$0(e,i),r=$0(e,r),s=[];break;case"select":i=ce({},i,{value:void 0}),r=ce({},r,{value:void 0}),s=[];break;case"textarea":i=Y0(e,i),r=Y0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jo)}X0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Yh=function(e,t,n,r){n!==r&&(t.flags|=4)};function us(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function L5(e,t,n){var r=t.pendingProps;switch(C1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return rt(t.type)&&Uo(),Oe(t),null;case 3:return r=t.stateNode,Wi(),ie(nt),ie(je),P1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Iu(_t),_t=null))),ku(e,t),Oe(t),null;case 5:N1(t);var i=vr(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)qh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Oe(t),null}if(e=vr(Yt.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ht]=t,r[Vs]=s,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<vs.length;i++)ne(vs[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":vc(r,s),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ne("invalid",r);break;case"textarea":xc(r,s),ne("invalid",r)}X0(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,o,e),i=["children",""+o]):Is.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ne("scroll",r)}switch(n){case"input":Ua(r),wc(r,s,!0);break;case"textarea":Ua(r),Sc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ht]=t,e[Vs]=r,Qh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Z0(n,r),n){case"dialog":ne("cancel",e),ne("close",e),i=r;break;case"iframe":case"object":case"embed":ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)ne(vs[i],e);i=r;break;case"source":ne("error",e),i=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),i=r;break;case"details":ne("toggle",e),i=r;break;case"input":vc(e,r),i=$0(e,r),ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ce({},r,{value:void 0}),ne("invalid",e);break;case"textarea":xc(e,r),i=Y0(e,r),ne("invalid",e);break;default:i=r}X0(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?T2(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&k2(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bs(e,l):typeof l=="number"&&bs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Is.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ne("scroll",e):l!=null&&h1(e,s,l,a))}switch(n){case"input":Ua(e),wc(e,r,!1);break;case"textarea":Ua(e),Sc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?pi(e,!!r.multiple,s,!1):r.defaultValue!=null&&pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Yh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=vr(Gs.current),vr(Yt.current),Ka(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(s=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Ya(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Oe(t),null;case 13:if(ie(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&ot!==null&&t.mode&1&&!(t.flags&128))fh(),Ui(),t.flags|=98560,s=!1;else if(s=Ka(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[Ht]=t}else Ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else _t!==null&&(Iu(_t),_t=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?we===0&&(we=3):q1())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Wi(),ku(e,t),e===null&&js(t.stateNode.containerInfo),Oe(t),null;case 10:return A1(t.type._context),Oe(t),null;case 17:return rt(t.type)&&Uo(),Oe(t),null;case 19:if(ie(le),s=t.memoizedState,s===null)return Oe(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)us(s,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=qo(e),a!==null){for(t.flags|=128,us(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>Hi&&(t.flags|=128,r=!0,us(s,!1),t.lanes=4194304)}else{if(!r)if(e=qo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ae)return Oe(t),null}else 2*pe()-s.renderingStartTime>Hi&&n!==1073741824&&(t.flags|=128,r=!0,us(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Q1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function R5(e,t){switch(C1(t),t.tag){case 1:return rt(t.type)&&Uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wi(),ie(nt),ie(je),P1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return N1(t),null;case 13:if(ie(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(le),null;case 4:return Wi(),null;case 10:return A1(t.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var Ja=!1,Be=!1,A5=typeof WeakSet=="function"?WeakSet:Set,j=null;function hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Mu(e,t,n){try{n()}catch(r){fe(e,t,r)}}var cd=!1;function I5(e,t){if(lu=Fo,e=eh(),M1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(o=a),d===s&&++c===r&&(l=a),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uu={focusedElem:e,selectionRange:n},Fo=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,D=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Rt(t.type,v),D);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(k){fe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return p=cd,cd=!1,p}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mu(t,n,s)}i=i.next}while(i!==r)}}function Gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kh(e){var t=e.alternate;t!==null&&(e.alternate=null,Kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Vs],delete t[hu],delete t[m5],delete t[p5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xh(e){return e.tag===5||e.tag===3||e.tag===4}function dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jo));else if(r!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}var Ae=null,bt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)Zh(e,t,n),n=n.sibling}function Zh(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Be||hi(n,t);case 6:var r=Ae,i=bt;Ae=null,Mn(e,t,n),Ae=r,bt=i,Ae!==null&&(bt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(bt?(e=Ae,n=n.stateNode,e.nodeType===8?x0(e.parentNode,n):e.nodeType===1&&x0(e,n),Fs(e)):x0(Ae,n.stateNode));break;case 4:r=Ae,i=bt,Ae=n.stateNode.containerInfo,bt=!0,Mn(e,t,n),Ae=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Mu(n,t,a),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!Be&&(hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fe(n,t,o)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Mn(e,t,n),Be=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A5),t.forEach(function(r){var i=U5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ae=o.stateNode,bt=!1;break e;case 3:Ae=o.stateNode.containerInfo,bt=!0;break e;case 4:Ae=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(Ae===null)throw Error(_(160));Zh(s,a,i),Ae=null,bt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jh(t,e),t=t.sibling}function Jh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Bt(e),r&4){try{Cs(3,e,e.return),Gl(3,e)}catch(v){fe(e,e.return,v)}try{Cs(5,e,e.return)}catch(v){fe(e,e.return,v)}}break;case 1:Ct(t,e),Bt(e),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Ct(t,e),Bt(e),r&512&&n!==null&&hi(n,n.return),e.flags&32){var i=e.stateNode;try{bs(i,"")}catch(v){fe(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&S2(i,s),Z0(o,a);var u=Z0(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?T2(i,h):c==="dangerouslySetInnerHTML"?k2(i,h):c==="children"?bs(i,h):h1(i,c,h,u)}switch(o){case"input":Q0(i,s);break;case"textarea":z2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?pi(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?pi(i,!!s.multiple,s.defaultValue,!0):pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vs]=s}catch(v){fe(e,e.return,v)}}break;case 6:if(Ct(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(_(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){fe(e,e.return,v)}}break;case 3:if(Ct(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(v){fe(e,e.return,v)}break;case 4:Ct(t,e),Bt(e);break;case 13:Ct(t,e),Bt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H1=pe())),r&4&&hd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||c,Ct(t,e),Be=u):Ct(t,e),Bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(h=j=c;j!==null;){switch(d=j,f=d.child,d.tag){case 0:case 11:case 14:case 15:Cs(4,d,d.return);break;case 1:hi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:hi(d,d.return);break;case 22:if(d.memoizedState!==null){md(h);continue}}f!==null?(f.return=d,j=f):md(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=M2("display",a))}catch(v){fe(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){fe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ct(t,e),Bt(e),r&4&&hd(e);break;case 21:break;default:Ct(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xh(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bs(i,""),r.flags&=-33);var s=dd(e);Du(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=dd(e);Cu(e,o,a);break;default:throw Error(_(161))}}catch(l){fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b5(e,t,n){j=e,ef(e)}function ef(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ja;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Be;o=Ja;var u=Be;if(Ja=a,(Be=l)&&!u)for(j=i;j!==null;)a=j,l=a.child,a.tag===22&&a.memoizedState!==null?pd(i):l!==null?(l.return=a,j=l):pd(i);for(;s!==null;)j=s,ef(s),s=s.sibling;j=i,Ja=o,Be=u}fd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):fd(e)}}function fd(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Fs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Be||t.flags&512&&Tu(t)}catch(d){fe(t,t.return,d)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function md(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function pd(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gl(4,t)}catch(l){fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){fe(t,i,l)}}var s=t.return;try{Tu(t)}catch(l){fe(t,s,l)}break;case 5:var a=t.return;try{Tu(t)}catch(l){fe(t,a,l)}}}catch(l){fe(t,t.return,l)}if(t===e){j=null;break}var o=t.sibling;if(o!==null){o.return=t.return,j=o;break}j=t.return}}var _5=Math.ceil,Xo=xn.ReactCurrentDispatcher,W1=xn.ReactCurrentOwner,zt=xn.ReactCurrentBatchConfig,Y=0,Te=null,ge=null,be=0,at=0,fi=sr(0),we=0,qs=null,Wr=0,Hl=0,G1=0,Ds=null,Je=null,H1=0,Hi=1/0,tn=null,Zo=!1,Lu=null,Kn=null,eo=!1,Gn=null,Jo=0,Ls=0,Ru=null,zo=-1,Eo=0;function $e(){return Y&6?pe():zo!==-1?zo:zo=pe()}function Xn(e){return e.mode&1?Y&2&&be!==0?be&-be:y5.transition!==null?(Eo===0&&(Eo=O2()),Eo):(e=Z,e!==0||(e=window.event,e=e===void 0?16:H2(e.type)),e):1}function Ft(e,t,n,r){if(50<Ls)throw Ls=0,Ru=null,Error(_(185));Da(e,n,r),(!(Y&2)||e!==Te)&&(e===Te&&(!(Y&2)&&(Hl|=n),we===4&&In(e,be)),it(e,r),n===1&&Y===0&&!(t.mode&1)&&(Hi=pe()+500,Ul&&ar()))}function it(e,t){var n=e.callbackNode;yp(e,t);var r=Po(e,e===Te?be:0);if(r===0)n!==null&&kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kc(n),t===1)e.tag===0?g5(gd.bind(null,e)):ch(gd.bind(null,e)),h5(function(){!(Y&6)&&ar()}),n=null;else{switch(B2(r)){case 1:n=y1;break;case 4:n=P2;break;case 16:n=No;break;case 536870912:n=F2;break;default:n=No}n=uf(n,tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tf(e,t){if(zo=-1,Eo=0,Y&6)throw Error(_(327));var n=e.callbackNode;if(xi()&&e.callbackNode!==n)return null;var r=Po(e,e===Te?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=el(e,r);else{t=r;var i=Y;Y|=2;var s=rf();(Te!==e||be!==t)&&(tn=null,Hi=pe()+500,Nr(e,t));do try{F5();break}catch(o){nf(e,o)}while(!0);R1(),Xo.current=s,Y=i,ge!==null?t=0:(Te=null,be=0,t=we)}if(t!==0){if(t===2&&(i=ru(e),i!==0&&(r=i,t=Au(e,i))),t===1)throw n=qs,Nr(e,0),In(e,r),it(e,pe()),n;if(t===6)In(e,r);else{if(i=e.current.alternate,!(r&30)&&!N5(i)&&(t=el(e,r),t===2&&(s=ru(e),s!==0&&(r=s,t=Au(e,s))),t===1))throw n=qs,Nr(e,0),In(e,r),it(e,pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:hr(e,Je,tn);break;case 3:if(In(e,r),(r&130023424)===r&&(t=H1+500-pe(),10<t)){if(Po(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=du(hr.bind(null,e,Je,tn),t);break}hr(e,Je,tn);break;case 4:if(In(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pt(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_5(r/1960))-r,10<r){e.timeoutHandle=du(hr.bind(null,e,Je,tn),r);break}hr(e,Je,tn);break;case 5:hr(e,Je,tn);break;default:throw Error(_(329))}}}return it(e,pe()),e.callbackNode===n?tf.bind(null,e):null}function Au(e,t){var n=Ds;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=el(e,t),e!==2&&(t=Je,Je=n,t!==null&&Iu(t)),e}function Iu(e){Je===null?Je=e:Je.push.apply(Je,e)}function N5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~G1,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function gd(e){if(Y&6)throw Error(_(327));xi();var t=Po(e,0);if(!(t&1))return it(e,pe()),null;var n=el(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=qs,Nr(e,0),In(e,t),it(e,pe()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Je,tn),it(e,pe()),null}function $1(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Hi=pe()+500,Ul&&ar())}}function Gr(e){Gn!==null&&Gn.tag===0&&!(Y&6)&&xi();var t=Y;Y|=1;var n=zt.transition,r=Z;try{if(zt.transition=null,Z=1,e)return e()}finally{Z=r,zt.transition=n,Y=t,!(Y&6)&&ar()}}function Q1(){at=fi.current,ie(fi)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,d5(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(C1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uo();break;case 3:Wi(),ie(nt),ie(je),P1();break;case 5:N1(r);break;case 4:Wi();break;case 13:ie(le);break;case 19:ie(le);break;case 10:A1(r.type._context);break;case 22:case 23:Q1()}n=n.return}if(Te=e,ge=e=Zn(e.current,null),be=at=t,we=0,qs=null,G1=Hl=Wr=0,Je=Ds=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}yr=null}return e}function nf(e,t){do{var n=ge;try{if(R1(),wo.current=Ko,Yo){for(var r=ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yo=!1}if(Vr=0,Me=ve=ue=null,Ts=!1,Hs=0,W1.current=null,n===null||n.return===null){we=1,qs=t,ge=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=be,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=rd(a);if(f!==null){f.flags&=-257,id(f,a,o,s,t),f.mode&1&&nd(s,u,t),t=f,l=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){nd(s,u,t),q1();break e}l=Error(_(426))}}else if(ae&&o.mode&1){var D=rd(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),id(D,a,o,s,t),D1(Gi(l,o));break e}}s=l=Gi(l,o),we!==4&&(we=2),Ds===null?Ds=[s]:Ds.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Bh(s,l,t);Kc(s,g);break e;case 1:o=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kn===null||!Kn.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=jh(s,o,t);Kc(s,k);break e}}s=s.return}while(s!==null)}af(n)}catch(I){t=I,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function rf(){var e=Xo.current;return Xo.current=Ko,e===null?Ko:e}function q1(){(we===0||we===3||we===2)&&(we=4),Te===null||!(Wr&268435455)&&!(Hl&268435455)||In(Te,be)}function el(e,t){var n=Y;Y|=2;var r=rf();(Te!==e||be!==t)&&(tn=null,Nr(e,t));do try{P5();break}catch(i){nf(e,i)}while(!0);if(R1(),Y=n,Xo.current=r,ge!==null)throw Error(_(261));return Te=null,be=0,we}function P5(){for(;ge!==null;)sf(ge)}function F5(){for(;ge!==null&&!lp();)sf(ge)}function sf(e){var t=lf(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?af(e):ge=t,W1.current=null}function af(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=R5(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ge=null;return}}else if(n=L5(n,t,at),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);we===0&&(we=5)}function hr(e,t,n){var r=Z,i=zt.transition;try{zt.transition=null,Z=1,O5(e,t,n,r)}finally{zt.transition=i,Z=r}return null}function O5(e,t,n,r){do xi();while(Gn!==null);if(Y&6)throw Error(_(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vp(e,s),e===Te&&(ge=Te=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eo||(eo=!0,uf(No,function(){return xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var a=Z;Z=1;var o=Y;Y|=4,W1.current=null,I5(e,n),Jh(n,e),i5(uu),Fo=!!lu,uu=lu=null,e.current=n,b5(n),up(),Y=o,Z=a,zt.transition=s}else e.current=n;if(eo&&(eo=!1,Gn=e,Jo=i),s=e.pendingLanes,s===0&&(Kn=null),hp(n.stateNode),it(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zo)throw Zo=!1,e=Lu,Lu=null,e;return Jo&1&&e.tag!==0&&xi(),s=e.pendingLanes,s&1?e===Ru?Ls++:(Ls=0,Ru=e):Ls=0,ar(),null}function xi(){if(Gn!==null){var e=B2(Jo),t=zt.transition,n=Z;try{if(zt.transition=null,Z=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,Jo=0,Y&6)throw Error(_(331));var i=Y;for(Y|=4,j=e.current;j!==null;){var s=j,a=s.child;if(j.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Cs(8,c,s)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var d=c.sibling,f=c.return;if(Kh(c),c===u){j=null;break}if(d!==null){d.return=f,j=d;break}j=f}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var D=v.sibling;v.sibling=null,v=D}while(v!==null)}}j=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,j=a;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var y=e.current;for(j=y;j!==null;){a=j;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,j=w;else e:for(a=y;j!==null;){if(o=j,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gl(9,o)}}catch(I){fe(o,o.return,I)}if(o===a){j=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,j=k;break e}j=o.return}}if(Y=i,ar(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pl,e)}catch{}r=!0}return r}finally{Z=n,zt.transition=t}}return!1}function yd(e,t,n){t=Gi(n,t),t=Bh(e,t,1),e=Yn(e,t,1),t=$e(),e!==null&&(Da(e,1,t),it(e,t))}function fe(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Gi(n,e),e=jh(t,e,1),t=Yn(t,e,1),e=$e(),t!==null&&(Da(t,1,e),it(t,e));break}}t=t.return}}function B5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(be&n)===n&&(we===4||we===3&&(be&130023424)===be&&500>pe()-H1?Nr(e,0):G1|=n),it(e,t)}function of(e,t){t===0&&(e.mode&1?(t=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):t=1);var n=$e();e=yn(e,t),e!==null&&(Da(e,t,n),it(e,n))}function j5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),of(e,n)}function U5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),of(e,n)}var lf;lf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,D5(e,t,n);tt=!!(e.flags&131072)}else tt=!1,ae&&t.flags&1048576&&dh(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;So(e,t),e=t.pendingProps;var i=ji(t,je.current);wi(t,n),i=O1(null,t,r,e,i,n);var s=B1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(s=!0,Vo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,b1(t),i.updater=Wl,t.stateNode=i,i._reactInternals=t,vu(t,r,e,n),t=Su(null,t,r,!0,s,n)):(t.tag=0,ae&&s&&T1(t),We(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(So(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=W5(r),e=Rt(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=od(null,t,r,e,n);break e;case 11:t=sd(null,t,r,e,n);break e;case 14:t=ad(null,t,r,Rt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),xu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),od(e,t,r,i,n);case 3:e:{if(Gh(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,i=s.element,yh(e,t),Qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Gi(Error(_(423)),t),t=ld(e,t,r,n,i);break e}else if(r!==i){i=Gi(Error(_(424)),t),t=ld(e,t,r,n,i);break e}else for(ot=qn(t.stateNode.containerInfo.firstChild),ut=t,ae=!0,_t=null,n=ph(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===i){t=vn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return vh(t),e===null&&pu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,cu(r,i)?a=null:s!==null&&cu(r,s)&&(t.flags|=32),Wh(e,t),We(e,t,a,n),t.child;case 6:return e===null&&pu(t),null;case 13:return Hh(e,t,n);case 4:return _1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vi(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),sd(e,t,r,i,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ee(Ho,r._currentValue),r._currentValue=a,s!==null)if(Ot(s.value,a)){if(s.children===i.children&&!nt.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gu(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),gu(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}We(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wi(t,n),i=Et(i),r=r(i),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,i=Rt(r,t.pendingProps),i=Rt(r.type,i),ad(e,t,r,i,n);case 15:return Uh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rt(r,i),So(e,t),t.tag=1,rt(r)?(e=!0,Vo(t)):e=!1,wi(t,n),Oh(t,r,i),vu(t,r,i,n),Su(null,t,r,!0,e,n);case 19:return $h(e,t,n);case 22:return Vh(e,t,n)}throw Error(_(156,t.tag))};function uf(e,t){return N2(e,t)}function V5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new V5(e,t,n,r)}function Y1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W5(e){if(typeof e=="function")return Y1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m1)return 11;if(e===p1)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ko(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Y1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ri:return Pr(n.children,i,s,t);case f1:a=8,i|=8;break;case V0:return e=xt(12,n,t,i|2),e.elementType=V0,e.lanes=s,e;case W0:return e=xt(13,n,t,i),e.elementType=W0,e.lanes=s,e;case G0:return e=xt(19,n,t,i),e.elementType=G0,e.lanes=s,e;case v2:return $l(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g2:a=10;break e;case y2:a=9;break e;case m1:a=11;break e;case p1:a=14;break e;case Dn:a=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=xt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pr(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=xt(22,e,r,t),e.elementType=v2,e.lanes=n,e.stateNode={isHidden:!1},e}function D0(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function L0(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u0(0),this.expirationTimes=u0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function K1(e,t,n,r,i,s,a,o,l){return e=new G5(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b1(s),e}function H5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cf(e){if(!e)return rr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(rt(n))return uh(e,n,t)}return t}function df(e,t,n,r,i,s,a,o,l){return e=K1(n,r,!0,e,i,s,a,o,l),e.context=cf(null),n=e.current,r=$e(),i=Xn(n),s=dn(r,i),s.callback=t??null,Yn(n,s,i),e.current.lanes=i,Da(e,i,r),it(e,r),e}function Ql(e,t,n,r){var i=t.current,s=$e(),a=Xn(i);return n=cf(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yn(i,t,a),e!==null&&(Ft(e,i,a,s),vo(e,i,a)),a}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function X1(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function $5(){return null}var hf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Z1(e){this._internalRoot=e}ql.prototype.render=Z1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Ql(e,t,null,null)};ql.prototype.unmount=Z1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gr(function(){Ql(null,e,null,null)}),t[gn]=null}};function ql(e){this._internalRoot=e}ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=V2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<An.length&&t!==0&&t<An[n].priority;n++);An.splice(n,0,e),n===0&&G2(e)}};function J1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Q5(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tl(a);s.call(u)}}var a=df(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=a,e[gn]=a.current,js(e.nodeType===8?e.parentNode:e),Gr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=tl(l);o.call(u)}}var l=K1(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=l,e[gn]=l.current,js(e.nodeType===8?e.parentNode:e),Gr(function(){Ql(t,l,n,r)}),l}function Kl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=tl(a);o.call(l)}}Ql(t,a,e,i)}else a=Q5(n,t,e,i,r);return tl(a)}j2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ys(t.pendingLanes);n!==0&&(v1(t,n|1),it(t,pe()),!(Y&6)&&(Hi=pe()+500,ar()))}break;case 13:Gr(function(){var r=yn(e,1);if(r!==null){var i=$e();Ft(r,e,1,i)}}),X1(e,1)}};w1=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=$e();Ft(t,e,134217728,n)}X1(e,134217728)}};U2=function(e){if(e.tag===13){var t=Xn(e),n=yn(e,t);if(n!==null){var r=$e();Ft(n,e,t,r)}X1(e,t)}};V2=function(){return Z};W2=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};eu=function(e,t,n){switch(t){case"input":if(Q0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jl(r);if(!i)throw Error(_(90));x2(r),Q0(r,i)}}}break;case"textarea":z2(e,n);break;case"select":t=n.value,t!=null&&pi(e,!!n.multiple,t,!1)}};L2=$1;R2=Gr;var q5={usingClientEntryPoint:!1,Events:[Ra,oi,jl,C2,D2,$1]},cs={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y5={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b2(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||$5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Pl=to.inject(Y5),qt=to}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q5;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(t))throw Error(_(200));return H5(e,t,null,n)};ft.createRoot=function(e,t){if(!J1(e))throw Error(_(299));var n=!1,r="",i=hf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=K1(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,js(e.nodeType===8?e.parentNode:e),new Z1(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=b2(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Gr(e)};ft.hydrate=function(e,t,n){if(!Yl(t))throw Error(_(200));return Kl(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!J1(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=hf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=df(t,null,e,1,n??null,i,!1,s,a),e[gn]=t.current,js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ql(t)};ft.render=function(e,t,n){if(!Yl(t))throw Error(_(200));return Kl(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(_(40));return e._reactRootContainer?(Gr(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};ft.unstable_batchedUpdates=$1;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Kl(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function ff(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ff)}catch(e){console.error(e)}}ff(),h2.exports=ft;var K5=h2.exports,mf,xd=K5;mf=xd.createRoot,xd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Mt=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>E.createElement("svg",{ref:c,...X5,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Z5(e)}`,o].join(" "),...u},[...t.map(([h,d])=>E.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Mt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Mt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Mt("Cuboid",[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Mt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),c6=({info:e,isOpen:t,onClose:n})=>{const r=(i,s="- n/a -")=>i??s;return x.jsx(x.Fragment,{children:t&&x.jsxs("dialog",{open:!0,className:"modal",children:[x.jsxs("div",{className:"modal-box",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"batteryLevel",children:"Battery"})}),x.jsx("input",{id:"batteryLevel",type:"text",readOnly:!0,value:r(e==null?void 0:e.batteryLevel,"0%")+"%",className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"deviceMAC",children:"Device MAC"})}),x.jsx("input",{id:"deviceMAC",type:"text",readOnly:!0,value:r(e==null?void 0:e.deviceMAC),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"deviceName",children:"Device Name"})}),x.jsx("input",{id:"deviceName",type:"text",readOnly:!0,value:r(e==null?void 0:e.deviceName),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"gyroSupported",children:"Gyro Supported"})}),x.jsx("input",{id:"gyroSupported",type:"text",readOnly:!0,value:r(e==null?void 0:e.gyroSupported,"NO"),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"hardwareName",children:"Hardware Name"})}),x.jsx("input",{id:"hardwareName",type:"text",readOnly:!0,value:r(e==null?void 0:e.hardwareName),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"softwareVersion",children:"Software Version"})}),x.jsx("input",{id:"softwareVersion",type:"text",readOnly:!0,value:r(e==null?void 0:e.softwareVersion),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"hardwareVersion",children:"Hardware Version"})}),x.jsx("input",{id:"hardwareVersion",type:"text",readOnly:!0,value:r(e==null?void 0:e.hardwareVersion),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]})]}),x.jsx("form",{method:"dialog",className:"modal-backdrop",children:x.jsx("button",{onClick:n,children:"Close"})})]})})},pf=E.createContext(null),Xl=()=>{const e=E.useContext(pf);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},d6=({isOpen:e,onClose:t})=>{const{settings:n,updateSetting:r}=Xl();return x.jsx(x.Fragment,{children:e&&x.jsx("dialog",{open:!0,className:"modal",children:x.jsxs("div",{className:`modal-box ${n.theme==="dark"?"dark-theme":"light-theme"}`,children:[x.jsx("h3",{className:"font-bold text-lg mb-4",children:"Settings"}),x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"themeToggle",children:"Dark Mode"})}),x.jsx("input",{id:"themeToggle",type:"checkbox",className:"toggle",checked:n.theme==="dark",onChange:()=>r("theme",n.theme==="light"?"dark":"light")})]}),x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"gyroToggle",children:"Use Gyroscope"})}),x.jsx("input",{id:"gyroToggle",type:"checkbox",className:"toggle",checked:n.useGyroscope||!1,onChange:i=>r("useGyroscope",i.target.checked)})]}),x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"gyroToggle",children:"Use Image Moves Notation"})}),x.jsx("input",{id:"imageNotation",type:"checkbox",className:"toggle",checked:n.imageNotation||!1,onChange:i=>r("imageNotation",i.target.checked)})]}),x.jsx("div",{className:"modal-action",children:x.jsx("form",{method:"dialog",children:x.jsx("button",{className:"p-1.5 rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",onClick:t,children:"Close"})})})]})})})},gf=E.createContext(null),Zl=()=>E.useContext(gf),h6="modulepreload",f6=function(e){return"/smart-cube-timer/"+e},zd={},X=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=f6(l),l in zd)return;zd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":h6,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var yf=class{is(e){return this instanceof e}as(e){return this instanceof e?this:null}},or=class extends yf{constructor(){super()}get log(){return console.log.bind(console,this,this.toString())}};function m6(e,t=!0){if(!t)return e;switch(e){case 1:return-1;case-1:return 1}}function vf(e,t){return t===-1?Array.from(e).reverse():e}function p6(e){return Array.from(e).reverse()}function*g6(e,t){t===-1?yield*y6(e):yield*e}function*y6(e){for(const t of Array.from(e).reverse())yield t}var bu=2147483647,_u="2^31 - 1",v6=-2147483648,xr,Sr,Fr,wt=(Fr=class extends or{constructor(n,r){super();R(this,xr);R(this,Sr);C(this,xr,Ys(n)),C(this,Sr,Ys(r))}get A(){return m(this,xr)}get B(){return m(this,Sr)}isIdentical(n){const r=n.as(Fr);return!!(r!=null&&r.A.isIdentical(this.A)&&(r!=null&&r.B.isIdentical(this.B)))}invert(){return new Fr(m(this,Sr),m(this,xr))}*experimentalExpand(n=1,r){r??(r=1/0),r===0?yield n===1?this:this.invert():n===1?(yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(1,r-1),yield*this.A.experimentalExpand(-1,r-1),yield*this.B.experimentalExpand(-1,r-1)):(yield*this.B.experimentalExpand(1,r-1),yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(-1,r-1),yield*this.A.experimentalExpand(-1,r-1))}toString(n){return`[${m(this,xr).toString(n)}, ${m(this,Sr).toString(n)}]`}},xr=new WeakMap,Sr=new WeakMap,Fr),Si,zi,Or,et=(Or=class extends or{constructor(n,r){super();R(this,Si);R(this,zi);C(this,Si,Ys(n)),C(this,zi,Ys(r))}get A(){return m(this,Si)}get B(){return m(this,zi)}isIdentical(n){const r=n.as(Or);return!!(r!=null&&r.A.isIdentical(this.A)&&(r!=null&&r.B.isIdentical(this.B)))}invert(){return new Or(m(this,Si),m(this,zi).invert())}*experimentalExpand(n,r){r??(r=1/0),r===0?yield n===1?this:this.invert():(yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(n,r-1),yield*this.A.experimentalExpand(-1,r-1))}toString(n){return`[${this.A.toString(n)}: ${this.B.toString(n)}]`}},Si=new WeakMap,zi=new WeakMap,Or),bn,Ei,Ji=(Ei=class extends or{constructor(n){super();R(this,bn);if(n.includes(`
`)||n.includes("\r"))throw new Error("LineComment cannot contain newline");C(this,bn,n)}get text(){return m(this,bn)}isIdentical(n){const r=n;return n.is(Ei)&&m(this,bn)===m(r,bn)}invert(){return this}*experimentalExpand(n=1,r=1/0){yield this}toString(n){return`//${m(this,bn)}`}},bn=new WeakMap,Ei),Jn=class wf extends or{toString(t){return`
`}isIdentical(t){return t.is(wf)}invert(){return this}*experimentalExpand(t=1,n=1/0){yield this}},Qe=class xf extends or{toString(t){return"."}isIdentical(t){return t.is(xf)}invert(){return this}*experimentalExpand(t=1,n=1/0){yield this}},zr,k3,nl=(k3=class{constructor(){R(this,zr,[])}push(e){m(this,zr).push(e)}experimentalPushAlg(e){for(const t of e.childAlgNodes())this.push(t)}experimentalNumAlgNodes(){return m(this,zr).length}toAlg(){return new F(m(this,zr))}reset(){C(this,zr,[])}},zr=new WeakMap,k3);function no(e,t){return e?parseInt(e):t}var Ed=/^(\d+)?('?)/,w6=/^[_\dA-Za-z]/,x6=/^((([1-9]\d*)-)?([1-9]\d*))?([_A-Za-z]+)/,S6=/^[^\n]*/,z6=/^(-?\d+), ?/,E6=/^(-?\d+)\)/;function Sf(e){return new ec().parseAlg(e)}function k6(e){return new ec().parseMove(e)}function M6(e){return new ec().parseQuantumMove(e)}var ct=Symbol("startCharIndex"),Kt=Symbol("endCharIndex");function Se(e,t,n){const r=e;return r[ct]=t,r[Kt]=n,r}function T6(e,t){return ct in e&&(t[ct]=e[ct]),Kt in e&&(t[Kt]=e[Kt]),t}var Ke,V,ki,M3,ec=(M3=class{constructor(){R(this,Ke,"");R(this,V,0);R(this,ki,[])}parseAlg(e){C(this,Ke,e),C(this,V,0);const t=this.parseAlgWithStopping([]);this.mustBeAtEndOfInput();const n=Array.from(t.childAlgNodes());if(m(this,ki).length>0)for(const a of m(this,ki).reverse())n.push(a);const r=new F(n),{[ct]:i,[Kt]:s}=t;return Se(r,i,s),r}parseMove(e){C(this,Ke,e),C(this,V,0);const t=this.parseMoveImpl();return this.mustBeAtEndOfInput(),t}parseQuantumMove(e){C(this,Ke,e),C(this,V,0);const t=this.parseQuantumMoveImpl();return this.mustBeAtEndOfInput(),t}mustBeAtEndOfInput(){if(m(this,V)!==m(this,Ke).length)throw new Error("parsing unexpectedly ended early")}parseAlgWithStopping(e){let t=m(this,V),n=m(this,V);const r=new nl;let i=!1;const s=a=>{if(i)throw new Error(`Unexpected character at index ${a}. Are you missing a space?`)};e:for(;m(this,V)<m(this,Ke).length;){const a=m(this,V);if(e.includes(m(this,Ke)[m(this,V)]))return Se(r.toAlg(),t,n);if(this.tryConsumeNext(" ")){i=!1,r.experimentalNumAlgNodes()===0&&(t=m(this,V));continue e}else if(w6.test(m(this,Ke)[m(this,V)])){s(a);const o=this.parseMoveImpl();r.push(o),i=!0,n=m(this,V);continue e}else if(this.tryConsumeNext("(")){s(a);const o=this.tryRegex(z6);if(o){const l=o[1],u=m(this,V),c=this.parseRegex(E6),h=Se(new S(new hn("U_SQ_"),parseInt(l)),a+1,a+1+l.length),d=Se(new S(new hn("D_SQ_"),parseInt(c[1])),u,m(this,V)-1),f=Se(new F([h,d]),a+1,m(this,V)-1);r.push(Se(new He(f),a,m(this,V))),i=!0,n=m(this,V);continue e}else{const l=this.parseAlgWithStopping([")"]);this.mustConsumeNext(")");const u=this.parseAmount();r.push(Se(new He(l,u),a,m(this,V))),i=!0,n=m(this,V);continue e}}else if(this.tryConsumeNext("^")){this.mustConsumeNext("(");const o=this.parseAlgWithStopping([")"]);this.popNext();const l=new He(o,-1),u=new Qe;l.experimentalNISSPlaceholder=u,u.experimentalNISSGrouping=l,m(this,ki).push(l),r.push(u)}else if(this.tryConsumeNext("[")){s(a);const o=this.parseAlgWithStopping([",",":"]),l=this.popNext(),u=this.parseAlgWithStopping(["]"]);this.mustConsumeNext("]");let c;switch(l){case":":{c=Se(new et(o,u),a,m(this,V)),i=!0,n=m(this,V);break}case",":{c=Se(new wt(o,u),a,m(this,V)),i=!0,n=m(this,V);break}default:throw new Error("unexpected parsing error")}const h=m(this,V),d=this.parseAmount();if(d===1)r.push(c);else{const f=Se(new F([c]),a,h),p=Se(new He(f,d),a,m(this,V));r.push(p)}i=!0,n=m(this,V);continue e}else if(this.tryConsumeNext(`
`)){r.push(Se(new Jn,a,m(this,V))),i=!1,n=m(this,V);continue e}else if(this.tryConsumeNext("/"))if(this.tryConsumeNext("/")){s(a);const[o]=this.parseRegex(S6);r.push(Se(new Ji(o),a,m(this,V))),i=!1,n=m(this,V);continue e}else{r.push(Se(new S("_SLASH_"),a,m(this,V))),i=!0,n=m(this,V);continue e}else if(this.tryConsumeNext(".")){s(a),r.push(Se(new Qe,a,m(this,V))),i=!0,n=m(this,V);continue e}else throw new Error(`Unexpected character: ${this.popNext()}`)}if(m(this,V)!==m(this,Ke).length)throw new Error("did not finish parsing?");if(e.length>0)throw new Error("expected stopping");return Se(r.toAlg(),t,n)}parseQuantumMoveImpl(){const[,,,e,t,n]=this.parseRegex(x6);return new hn(n,no(t,void 0),no(e,void 0))}parseMoveImpl(){const e=m(this,V);if(this.tryConsumeNext("/"))return Se(new S("_SLASH_"),e,m(this,V));let t=this.parseQuantumMoveImpl(),[n,r]=this.parseAmountAndTrackEmptyAbsAmount();const i=this.parseMoveSuffix();if(i){if(n<0)throw new Error("uh-oh");if((i==="++"||i==="--")&&n!==1)throw new Error("Pochmann ++ or -- moves cannot have an amount other than 1.");if((i==="++"||i==="--")&&!r)throw new Error("Pochmann ++ or -- moves cannot have an amount written as a number.");if((i==="+"||i==="-")&&r)throw new Error("Clock dial moves must have an amount written as a natural number followed by + or -.");i.startsWith("+")&&(t=t.modified({family:`${t.family}_${i==="+"?"PLUS":"PLUSPLUS"}_`})),i.startsWith("-")&&(t=t.modified({family:`${t.family}_${i==="-"?"PLUS":"PLUSPLUS"}_`}),n*=-1)}return Se(new S(t,n),e,m(this,V))}parseMoveSuffix(){return this.tryConsumeNext("+")?this.tryConsumeNext("+")?"++":"+":this.tryConsumeNext("-")?this.tryConsumeNext("-")?"--":"-":null}parseAmountAndTrackEmptyAbsAmount(){const e=m(this,V),[,t,n]=this.parseRegex(Ed);if(t!=null&&t.startsWith("0")&&t!=="0")throw new Error(`Error at char index ${e}: An amount can only start with 0 if it's exactly the digit 0.`);return[no(t,1)*(n==="'"?-1:1),!t]}parseAmount(){const e=m(this,V),[,t,n]=this.parseRegex(Ed);if(t!=null&&t.startsWith("0")&&t!=="0")throw new Error(`Error at char index ${e}: An amount number can only start with 0 if it's exactly the digit 0.`);return no(t,1)*(n==="'"?-1:1)}parseRegex(e){const t=e.exec(this.remaining());if(t===null)throw new Error("internal parsing error");return C(this,V,m(this,V)+t[0].length),t}tryRegex(e){const t=e.exec(this.remaining());return t===null?null:(C(this,V,m(this,V)+t[0].length),t)}remaining(){return m(this,Ke).slice(m(this,V))}popNext(){const e=m(this,Ke)[m(this,V)];return Oa(this,V)._++,e}tryConsumeNext(e){return m(this,Ke)[m(this,V)]===e?(Oa(this,V)._++,!0):!1}mustConsumeNext(e){const t=this.popNext();if(t!==e)throw new Error(`expected \`${e}\` while parsing, encountered ${t}`);return t}},Ke=new WeakMap,V=new WeakMap,ki=new WeakMap,M3),kd=new Set;function zf(e){kd.has(e)||(console.warn(e),kd.add(e))}var Nu=class{constructor(e,t=1){if(this.quantum=e,this.amount=t,!Number.isInteger(this.amount)||this.amount<v6||this.amount>bu)throw new Error(`AlgNode amount absolute value must be a non-negative integer below ${_u}.`)}suffix(){let e="";const t=Math.abs(this.amount);return t!==1&&(e+=t),this.amount<0&&(e+="'"),e}isIdentical(e){return this.quantum.isIdentical(e.quantum)&&this.amount===e.amount}*experimentalExpand(e,t){const n=Math.abs(this.amount),r=m6(e,this.amount<0);for(let i=0;i<n;i++)yield*this.quantum.experimentalExpand(r,t)}},sn,Le,Re,Br,hn=(Br=class extends yf{constructor(n,r,i){super();R(this,sn);R(this,Le);R(this,Re);if(C(this,sn,n),C(this,Le,r??null),C(this,Re,i??null),Object.freeze(this),m(this,Le)!==null&&(!Number.isInteger(m(this,Le))||m(this,Le)<1||m(this,Le)>bu))throw new Error(`QuantumMove inner layer must be a positive integer below ${_u}.`);if(m(this,Re)!==null&&(!Number.isInteger(m(this,Re))||m(this,Re)<1||m(this,Re)>bu))throw new Error(`QuantumMove outer layer must be a positive integer below ${_u}.`);if(m(this,Re)!==null&&m(this,Le)!==null&&m(this,Le)<=m(this,Re))throw new Error("QuantumMove outer layer must be smaller than inner layer.");if(m(this,Re)!==null&&m(this,Le)===null)throw new Error("QuantumMove with an outer layer must have an inner layer")}static fromString(n){return M6(n)}modified(n){return new Br(n.family??m(this,sn),n.innerLayer??m(this,Le),n.outerLayer??m(this,Re))}isIdentical(n){const r=n;return n.is(Br)&&m(this,sn)===m(r,sn)&&m(this,Le)===m(r,Le)&&m(this,Re)===m(r,Re)}get family(){return m(this,sn)}get outerLayer(){return m(this,Re)}get innerLayer(){return m(this,Le)}experimentalExpand(){throw new Error("experimentalExpand() cannot be called on a `QuantumMove` directly.")}toString(n){let r=m(this,sn);return m(this,Le)!==null&&(r=String(m(this,Le))+r,m(this,Re)!==null&&(r=`${String(m(this,Re))}-${r}`)),r}},sn=new WeakMap,Le=new WeakMap,Re=new WeakMap,Br),ke,pl,ia,Pu,$t,S=($t=class extends or{constructor(...n){super();R(this,ia);R(this,ke);R(this,pl);if(typeof n[0]=="string")if(n[1]??null){C(this,ke,new Nu(hn.fromString(n[0]),n[1]));return}else return $t.fromString(n[0]);C(this,ke,new Nu(n[0],n[1]))}isIdentical(n){const r=n.as($t);return!!r&&m(this,ke).isIdentical(m(r,ke))}invert(){return T6(this,new $t(m(this,ke).quantum,H(this,ia,Pu).call(this)?this.amount:-this.amount))}*experimentalExpand(n=1){n===1?yield this:yield this.modified({amount:-this.amount})}get quantum(){return m(this,ke).quantum}modified(n){return new $t(m(this,ke).quantum.modified(n),n.amount??this.amount)}static fromString(n){return k6(n)}get amount(){return m(this,ke).amount}get type(){return zf("deprecated: type"),"blockMove"}get family(){return m(this,ke).quantum.family??void 0}get outerLayer(){return m(this,ke).quantum.outerLayer??void 0}get innerLayer(){return m(this,ke).quantum.innerLayer??void 0}toString(n){if((n==null?void 0:n.notation)!=="LGN"){if(H(this,ia,Pu).call(this))return"/";if(this.family.endsWith("_PLUS_"))return m(this,ke).quantum.toString().slice(0,-6)+Math.abs(this.amount)+(this.amount<0?"-":"+");if(this.family.endsWith("_PLUSPLUS_")){const r=Math.abs(this.amount);return m(this,ke).quantum.toString().slice(0,-10)+(r===1?"":r)+(this.amount<0?"--":"++")}}return m(this,ke).quantum.toString(n)+m(this,ke).suffix()}},ke=new WeakMap,pl=new WeakMap,ia=new WeakSet,Pu=function(){return this.isIdentical(m(this,pl)??C(this,pl,new $t("_SLASH_")))},$t),C6=class{constructor(){this.quantumU_SQ_=null,this.quantumD_SQ_=null}format(e,t){if((t==null?void 0:t.notation)==="LGN"||e.amount!==1)return null;const n=this.tuple(e);return n?`(${n.map(r=>r.amount).join(", ")})`:null}tuple(e){var n,r;if(e.amount!==1)return null;this.quantumU_SQ_||(this.quantumU_SQ_=new hn("U_SQ_")),this.quantumD_SQ_||(this.quantumD_SQ_=new hn("D_SQ_"));const t=e.alg;if(t.experimentalNumChildAlgNodes()===2){const[i,s]=t.childAlgNodes();if((n=i.as(S))!=null&&n.quantum.isIdentical(this.quantumU_SQ_)&&((r=s.as(S))!=null&&r.quantum.isIdentical(this.quantumD_SQ_)))return[i,s]}return null}},R0=new C6,Xe,gl,Ef,tr,He=(tr=class extends or{constructor(n,r){super();R(this,gl);R(this,Xe);const i=Ys(n);C(this,Xe,new Nu(i,r))}isIdentical(n){const r=n;return n.is(tr)&&m(this,Xe).isIdentical(m(r,Xe))}get alg(){return m(this,Xe).quantum}get amount(){return m(this,Xe).amount}get experimentalRepetitionSuffix(){return m(this,Xe).suffix()}invert(){const n=R0.tuple(this);if(n){const[r,i]=n;return new tr(new F([r.invert(),i.invert()]))}return new tr(m(this,Xe).quantum,-m(this,Xe).amount)}*experimentalExpand(n=1,r){r??(r=1/0),r===0?yield n===1?this:this.invert():yield*m(this,Xe).experimentalExpand(n,r-1)}static fromString(){throw new Error("unimplemented")}toString(n){return R0.format(this,n)??`${H(this,gl,Ef).call(this,n)}${m(this,Xe).suffix()}`}experimentalAsSquare1Tuple(){return R0.tuple(this)}},Xe=new WeakMap,gl=new WeakSet,Ef=function(n){const r=m(this,Xe).quantum.toString(n),i=this.alg.childAlgNodes(),{value:s}=i.next();return i.next().done&&(s!=null&&s.is(wt)||s!=null&&s.is(et))?r:`(${r})`},tr);function nn(e,t){return e instanceof t}function D6(e){return nn(e,He)||nn(e,Ji)||nn(e,wt)||nn(e,et)||nn(e,S)||nn(e,Jn)||nn(e,Qe)}function kf(e,t,n){if(t.is(He))return e.traverseGrouping(t,n);if(t.is(S))return e.traverseMove(t,n);if(t.is(wt))return e.traverseCommutator(t,n);if(t.is(et))return e.traverseConjugate(t,n);if(t.is(Qe))return e.traversePause(t,n);if(t.is(Jn))return e.traverseNewline(t,n);if(t.is(Ji))return e.traverseLineComment(t,n);throw new Error("unknown AlgNode")}function Mf(e){if(e.is(He)||e.is(S)||e.is(wt)||e.is(et)||e.is(Qe)||e.is(Jn)||e.is(Ji))return e;throw new Error("internal error: expected AlgNode")}var es=class{traverseAlgNode(e,t){return kf(this,e,t)}traverseIntoAlgNode(e,t){return Mf(this.traverseAlgNode(e,t))}},qr=class extends es{traverseAlgNode(e){return kf(this,e,void 0)}traverseIntoAlgNode(e){return Mf(this.traverseAlgNode(e))}};function pt(e,t){const n=new e(...t??[]);return n.traverseAlg.bind(n)}var L6="any-direction",Tf=class{constructor(e={}){this.config=e}cancelQuantum(){const{cancel:e}=this.config;return e===!0?L6:e===!1?"none":(e==null?void 0:e.directional)??"none"}cancelAny(){return this.config.cancel&&this.cancelQuantum()!=="none"}cancelPuzzleSpecificModWrap(){const{cancel:e}=this.config;return e===!0||e===!1?"canonical-centered":e!=null&&e.puzzleSpecificModWrap?e==null?void 0:e.puzzleSpecificModWrap:(e==null?void 0:e.directional)==="same-direction"?"preserve-sign":"canonical-centered"}puzzleSpecificSimplifyOptions(){var e;return((e=this.config.puzzleLoader)==null?void 0:e.puzzleSpecificSimplifyOptions)??this.config.puzzleSpecificSimplifyOptions}};function R6(e,t){return e*Math.sign(t.amount)>=0}function Cf(e,t,n=0){return((e-n)%t+t)%t+n}function Df(e,t,n){var l;const r=new Tf(n),i=Array.from(e.childAlgNodes());let s=[t];function a(){return new F([...i,...s])}function o(u){var p;if(r.cancelPuzzleSpecificModWrap()==="none")return u;const c=(p=r.puzzleSpecificSimplifyOptions())==null?void 0:p.quantumMoveOrder;if(!c)return u;const h=c(t.quantum);let d;switch(r.cancelPuzzleSpecificModWrap()){case"gravity":{d=-Math.floor((h-(u.amount<0?0:1))/2);break}case"canonical-centered":{d=-Math.floor((h-1)/2);break}case"canonical-positive":{d=0;break}case"preserve-sign":{d=u.amount<0?1-h:0;break}default:throw new Error("Unknown mod wrap")}const f=Cf(u.amount,h,d);return u.modified({amount:f})}if(r.cancelAny()){let u;const c=(l=r.puzzleSpecificSimplifyOptions())==null?void 0:l.axis;if(c)u=v=>c.areQuantumMovesSameAxis(t.quantum,v.quantum);else{const v=t.quantum.toString();u=D=>D.quantum.toString()===v}const h=r.cancelQuantum()==="same-direction",d=new Map;d.set(t.quantum.toString(),Math.sign(t.amount));let f;for(f=i.length-1;f>=0;f--){const v=i[f].as(S);if(!v||!u(v))break;const D=v.quantum.toString();if(h){const g=d.get(D);if(g&&!R6(g,v))break;d.set(D,Math.sign(v.amount))}}const p=[...i.splice(f+1),t];if(c)s=c.simplifySameAxisMoves(p,r.cancelPuzzleSpecificModWrap()!=="none");else{const v=p.reduce((D,g)=>D+g.amount,0);if(d.size!==1)throw new Error("Internal error: multiple quantums when one was expected");s=[new S(t.quantum,v)]}}return s=s.map(u=>o(u)).filter(u=>u.amount!==0),a()}function A6(e,t,n){const r=t.as(S);return r?Df(e,r,n):new F([...e.childAlgNodes(),t])}var yl,lt,Fu,ws,Ou,T3,I6=(T3=class extends es{constructor(){super(...arguments);R(this,lt);R(this,yl)}*traverseAlg(t,n){if(n.depth===0){yield*t.childAlgNodes();return}let r=[];const i=H(this,lt,ws).call(this,n);for(const s of t.childAlgNodes())for(const a of this.traverseAlgNode(s,i))r=Array.from(A6(new F(r),a,i).childAlgNodes());for(const s of r)yield s}*traverseGrouping(t,n){if(n.depth===0){yield t;return}if(t.amount===0)return;const r=new He(this.traverseAlg(t.alg,H(this,lt,ws).call(this,n)),t.amount);if(r.alg.experimentalIsEmpty())return;const i=H(this,lt,Fu).call(this).get(t);i&&(r.experimentalNISSPlaceholder=i,i.experimentalNISSGrouping=r),yield r}*traverseMove(t,n){yield t}*traverseCommutator(t,n){if(n.depth===0){yield t;return}const r=H(this,lt,ws).call(this,n),i=new wt(this.traverseAlg(t.A,r),this.traverseAlg(t.B,r));i.A.experimentalIsEmpty()||i.B.experimentalIsEmpty()||i.A.isIdentical(i.B)||i.A.isIdentical(i.B.invert())||H(this,lt,Ou).call(this,i.A,i.B,n)||(yield i)}*traverseConjugate(t,n){if(n.depth===0){yield t;return}const r=H(this,lt,ws).call(this,n),i=new et(this.traverseAlg(t.A,r),this.traverseAlg(t.B,r));if(!i.B.experimentalIsEmpty()){if(i.A.experimentalIsEmpty()||i.A.isIdentical(i.B)||i.A.isIdentical(i.B.invert())||H(this,lt,Ou).call(this,i.A,i.B,n)){yield*t.B.childAlgNodes();return}yield i}}*traversePause(t,n){if(t.experimentalNISSGrouping){const r=new Qe;H(this,lt,Fu).call(this).set(t.experimentalNISSGrouping,r),yield r}else yield t}*traverseNewline(t,n){yield t}*traverseLineComment(t,n){yield t}},yl=new WeakMap,lt=new WeakSet,Fu=function(){return m(this,yl)??C(this,yl,new Map)},ws=function(t){return{...t,depth:t.depth?t.depth-1:null}},Ou=function(t,n,r){var i,s,a,o;if(t.experimentalNumChildAlgNodes()===1&&n.experimentalNumChildAlgNodes()===1){const l=(i=Array.from(t.childAlgNodes())[0])==null?void 0:i.as(S),u=(s=Array.from(n.childAlgNodes())[0])==null?void 0:s.as(S);if(!(l&&u))return!1;if(u.quantum.isIdentical(l.quantum)||(o=(a=new Tf(r).puzzleSpecificSimplifyOptions())==null?void 0:a.axis)!=null&&o.areQuantumMovesSameAxis(l.quantum,u.quantum))return!0}return!1},T3),b6=pt(I6);function Md(e){if(!e)return[];if(nn(e,F))return e.childAlgNodes();if(typeof e=="string")return Sf(e).childAlgNodes();const t=e;if(typeof t[Symbol.iterator]=="function")return t;throw new Error("Invalid AlgNode")}function Ys(e){return nn(e,F)?e:new F(e)}var Ze,Qt,F=(Qt=class extends or{constructor(n){super();R(this,Ze);C(this,Ze,Array.from(Md(n)));for(const r of m(this,Ze))if(!D6(r))throw new Error("An alg can only contain alg nodes.")}isIdentical(n){const r=n;if(!n.is(Qt))return!1;const i=Array.from(m(this,Ze)),s=Array.from(m(r,Ze));if(i.length!==s.length)return!1;for(let a=0;a<i.length;a++)if(!i[a].isIdentical(s[a]))return!1;return!0}invert(){return new Qt(p6(Array.from(m(this,Ze)).map(n=>n.invert())))}*experimentalExpand(n=1,r){r??(r=1/0);for(const i of vf(m(this,Ze),n))yield*i.experimentalExpand(n,r)}expand(n){return new Qt(this.experimentalExpand(1,(n==null?void 0:n.depth)??1/0))}*experimentalLeafMoves(){for(const n of this.experimentalExpand())n.is(S)&&(yield n)}concat(n){return new Qt(Array.from(m(this,Ze)).concat(Array.from(Md(n))))}experimentalIsEmpty(){for(const n of m(this,Ze))return!1;return!0}static fromString(n){return Sf(n)}units(){return this.childAlgNodes()}*childAlgNodes(){for(const n of m(this,Ze))yield n}experimentalNumUnits(){return this.experimentalNumChildAlgNodes()}experimentalNumChildAlgNodes(){return Array.from(m(this,Ze)).length}get type(){return zf("deprecated: type"),"sequence"}toString(n){var s,a;let r="",i=null;for(const o of m(this,Ze)){i&&(r+=_6(i,o));const l=(s=o.as(Qe))==null?void 0:s.experimentalNISSGrouping;if(l){if(l.amount!==-1)throw new Error("Invalid NISS Grouping amount!");r+=`^(${l.alg.toString(n)})`}else(a=o.as(He))!=null&&a.experimentalNISSPlaceholder||(r+=o.toString(n));i=o}return r}experimentalSimplify(n){return new Qt(b6(this,n??{}))}simplify(n){return this.experimentalSimplify(n)}},Ze=new WeakMap,Qt);function _6(e,t){var n;return e.is(Jn)||t.is(Jn)||(n=t.as(He))!=null&&n.experimentalNISSPlaceholder?"":e.is(Ji)&&!t.is(Jn)?`
`:" "}new F([new S("R",1),new S("U",1),new S("R",-1),new S("U",1),new S("R",1),new S("U",-2),new S("R",-1)]),new F([new S("R",1),new S("U",2),new S("R",-1),new S("U",-1),new S("R",1),new S("U",-1),new S("R",-1)]),new F([new wt(new F([new S("R",1),new S("U",1),new S("R",-2)]),new F([new et(new F([new S("R",1)]),new F([new S("U",1)]))]))]),new F([new S("R",1),new S("U",-1),new S("L",-1),new S("U",1),new S("R",-1),new S("U",-1),new S("L",1),new S("U",1)]),new F([new S("x",-1),new wt(new F([new et(new F([new S("R",1)]),new F([new S("U",-1)]))]),new F([new S("D",1)])),new wt(new F([new et(new F([new S("R",1)]),new F([new S("U",1)]))]),new F([new S("D",1)])),new S("x",1)]),new F([new et(new F([new S("F",1)]),new F([new wt(new F([new S("U",1)]),new F([new S("R",1)]))]))]),new F([new et(new F([new S("R",2)]),new F([new wt(new F([new S("F",2)]),new F([new S("R",-1),new S("B",-1),new S("R",1)]))]))]),new F([new S("F",1),new S("U",1),new S("R",1),new S("U",-1),new S("R",-1),new S("F",-1)]),new F([new S("R",1),new S("U",1),new S("R",-1),new S("U",-1),new S("R",-1),new S("F",1),new S("R",2),new S("U",-1),new S("R",-1),new S("U",-1),new S("R",1),new S("U",1),new S("R",-1),new S("F",-1)]),new F([new et(new F([new S("F",1)]),new F([new He(new F([new wt(new F([new S("R",1)]),new F([new S("U",1)]))]),3)]))]),new F([new Qe,new Qe,new Qe]);function Bu(e,t,n){const r={};for(const i of e.orbits){const s=t[i.orbitName],a=n[i.orbitName];if(rl(i.numOrientations,a))r[i.orbitName]=s;else if(rl(i.numOrientations,s))r[i.orbitName]=a;else{const o=new Array(i.numPieces);if(i.numOrientations===1){for(let l=0;l<i.numPieces;l++)o[l]=s.permutation[a.permutation[l]];r[i.orbitName]={permutation:o,orientationDelta:s.orientationDelta}}else{const l=new Array(i.numPieces);for(let u=0;u<i.numPieces;u++)l[u]=(s.orientationDelta[a.permutation[u]]+a.orientationDelta[u])%i.numOrientations,o[u]=s.permutation[a.permutation[u]];r[i.orbitName]={permutation:o,orientationDelta:l}}}}return r}function Td(e,t,n){const r={};for(const i of e.orbits){const s=t[i.orbitName],a=n[i.orbitName];if(rl(i.numOrientations,a))r[i.orbitName]=s;else{const o=new Array(i.numPieces);if(i.numOrientations===1){for(let u=0;u<i.numPieces;u++)o[u]=s.pieces[a.permutation[u]];const l={pieces:o,orientation:s.orientation};r[i.orbitName]=l}else{const l=new Array(i.numPieces),u=s.orientationMod?new Array(i.numPieces):void 0;for(let h=0;h<i.numPieces;h++){const d=a.permutation[h];let f=i.numOrientations;if(s.orientationMod){const p=s.orientationMod[d];u[h]=p,f=p||i.numOrientations}l[h]=(s.orientation[d]+a.orientationDelta[h])%f,o[h]=s.pieces[d]}const c={pieces:o,orientation:l};u&&(c.orientationMod=u),r[i.orbitName]=c}}}return r}var Cd=new Map;function N6(e){const t=Cd.get(e);if(t)return t;const n=new Array(e),r=new Array(e);for(let s=0;s<e;s++)n[s]=s,r[s]=0;const i={permutation:n,orientationDelta:r};return Cd.set(e,i),i}function P6(e){const t={};for(const n of e.orbits)t[n.orbitName]=N6(n.numPieces);return t}function F6(e,t){function n(i,s){var u;const a=i.toString(),o=e.definition.moves[a];if(o)return Qi(e,o,s);const l=(u=e.definition.derivedMoves)==null?void 0:u[a];if(l)return Qi(e,e.algToTransformation(l).transformationData,s)}const r=n(t.quantum,t.amount)??n(t,1)??n(t.invert,-1);if(r)return r;throw new Error(`Invalid move for KPuzzle (${e.name()}): ${t}`)}var $i=class Mo{constructor(t,n){this.kpuzzle=t,this.patternData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),patternData:this.patternData}}static fromTransformation(t){const n=Td(t.kpuzzle.definition,t.kpuzzle.definition.defaultPattern,t.transformationData);return new Mo(t.kpuzzle,n)}apply(t){return this.applyTransformation(this.kpuzzle.toTransformation(t))}applyTransformation(t){if(t.isIdentityTransformation())return new Mo(this.kpuzzle,this.patternData);const n=Td(this.kpuzzle.definition,this.patternData,t.transformationData);return new Mo(this.kpuzzle,n)}applyMove(t){return this.applyTransformation(this.kpuzzle.moveToTransformation(t))}applyAlg(t){return this.applyTransformation(this.kpuzzle.algToTransformation(t))}isIdentical(t){return U6(this.kpuzzle,this.patternData,t.patternData)}experimentalToTransformation(){if(!this.kpuzzle.canConvertDefaultPatternToUniqueTransformation())return null;const t={};for(const[n,r]of Object.entries(this.patternData)){const i={permutation:r.pieces,orientationDelta:r.orientation};t[n]=i}return new mi(this.kpuzzle,t)}experimentalIsSolved(t){if(!this.kpuzzle.definition.experimentalIsPatternSolved)throw new Error("`KPattern.experimentalIsPatternSolved()` is not supported for this puzzle at the moment.");return this.kpuzzle.definition.experimentalIsPatternSolved(this,t)}},Er,Nt,mi=(Nt=class{constructor(t,n){R(this,Er);this.kpuzzle=t,this.transformationData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),transformationData:this.transformationData}}invert(){return new Nt(this.kpuzzle,Lf(this.kpuzzle,this.transformationData))}isIdentityTransformation(){return m(this,Er)??C(this,Er,this.isIdentical(this.kpuzzle.identityTransformation()))}static experimentalConstructIdentity(t){const n=new Nt(t,P6(t.definition));return C(n,Er,!0),n}isIdentical(t){return B6(this.kpuzzle,this.transformationData,t.transformationData)}apply(t){return this.applyTransformation(this.kpuzzle.toTransformation(t))}applyTransformation(t){if(this.kpuzzle!==t.kpuzzle)throw new Error(`Tried to apply a transformation for a KPuzzle (${t.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`);return m(this,Er)?new Nt(this.kpuzzle,t.transformationData):m(t,Er)?new Nt(this.kpuzzle,this.transformationData):new Nt(this.kpuzzle,Bu(this.kpuzzle.definition,this.transformationData,t.transformationData))}applyMove(t){return this.applyTransformation(this.kpuzzle.moveToTransformation(t))}applyAlg(t){return this.applyTransformation(this.kpuzzle.algToTransformation(t))}toKPattern(){return $i.fromTransformation(this)}repetitionOrder(){return G6(this.kpuzzle.definition,this)}selfMultiply(t){return new Nt(this.kpuzzle,Qi(this.kpuzzle,this.transformationData,t))}},Er=new WeakMap,Nt);function rl(e,t){t.permutation||console.log(t);const{permutation:n}=t,r=n.length;for(let i=0;i<r;i++)if(n[i]!==i)return!1;if(e>1){const{orientationDelta:i}=t;for(let s=0;s<r;s++)if(i[s]!==0)return!1}return!0}function O6(e,t,n,r={}){for(let i=0;i<e.numPieces;i++)if(!(r!=null&&r.ignorePieceOrientations)&&t.orientationDelta[i]!==n.orientationDelta[i]||!(r!=null&&r.ignorePiecePermutation)&&t.permutation[i]!==n.permutation[i])return!1;return!0}function B6(e,t,n){for(const r of e.definition.orbits)if(!O6(r,t[r.orbitName],n[r.orbitName]))return!1;return!0}function j6(e,t,n,r={}){var i,s;for(let a=0;a<e.numPieces;a++)if(!(r!=null&&r.ignorePieceOrientations)&&(t.orientation[a]!==n.orientation[a]||(((i=t.orientationMod)==null?void 0:i[a])??0)!==(((s=n.orientationMod)==null?void 0:s[a])??0))||!(r!=null&&r.ignorePieceIndices)&&t.pieces[a]!==n.pieces[a])return!1;return!0}function U6(e,t,n){for(const r of e.definition.orbits)if(!j6(r,t[r.orbitName],n[r.orbitName]))return!1;return!0}function Lf(e,t){const n={};for(const r of e.definition.orbits){const i=t[r.orbitName];if(rl(r.numOrientations,i))n[r.orbitName]=i;else if(r.numOrientations===1){const s=new Array(r.numPieces);for(let a=0;a<r.numPieces;a++)s[i.permutation[a]]=a;n[r.orbitName]={permutation:s,orientationDelta:i.orientationDelta}}else{const s=new Array(r.numPieces),a=new Array(r.numPieces);for(let o=0;o<r.numPieces;o++){const l=i.permutation[o];s[l]=o,a[l]=(r.numOrientations-i.orientationDelta[o]+r.numOrientations)%r.numOrientations}n[r.orbitName]={permutation:s,orientationDelta:a}}}return n}function Qi(e,t,n){if(n===1)return t;if(n<0)return Qi(e,Lf(e,t),-n);if(n===0){const{transformationData:s}=e.identityTransformation();return s}let r=t;n!==2&&(r=Qi(e,t,Math.floor(n/2)));const i=Bu(e.definition,r,r);return n%2===0?i:Bu(e.definition,t,i)}var V6=class extends es{traverseAlg(e,t){let n=null;for(const r of e.childAlgNodes())n?n=n.applyTransformation(this.traverseAlgNode(r,t)):n=this.traverseAlgNode(r,t);return n??t.identityTransformation()}traverseGrouping(e,t){const n=this.traverseAlg(e.alg,t);return new mi(t,Qi(t,n.transformationData,e.amount))}traverseMove(e,t){return t.moveToTransformation(e)}traverseCommutator(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,t);return n.applyTransformation(r).applyTransformation(n.invert()).applyTransformation(r.invert())}traverseConjugate(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,t);return n.applyTransformation(r).applyTransformation(n.invert())}traversePause(e,t){return t.identityTransformation()}traverseNewline(e,t){return t.identityTransformation()}traverseLineComment(e,t){return t.identityTransformation()}},W6=pt(V6);function ju(e,t){return t?ju(t,e%t):e}function G6(e,t){let n=1;for(const r of e.orbits){const i=t.transformationData[r.orbitName],s=new Array(r.numPieces);for(let a=0;a<r.numPieces;a++)if(!s[a]){let o=a,l=0,u=0;for(;s[o]=!0,l=l+i.orientationDelta[o],u=u+1,o=i.permutation[o],o!==a;);l!==0&&(u=u*r.numOrientations/ju(r.numOrientations,Math.abs(l))),n=n*u/ju(n,u)}}return n}var sa,Mi,vl,C3,Sn=(C3=class{constructor(e,t){R(this,sa);R(this,Mi,new Map);R(this,vl);this.definition=e,this.experimentalPGNotation=t==null?void 0:t.experimentalPGNotation}lookupOrbitDefinition(e){return m(this,sa)||C(this,sa,(()=>{const t={};for(const n of this.definition.orbits)t[n.orbitName]=n;return t})()),m(this,sa)[e]}name(){return this.definition.name}identityTransformation(){return mi.experimentalConstructIdentity(this)}moveToTransformation(e){typeof e=="string"&&(e=new S(e));const t=e.toString(),n=m(this,Mi).get(t);if(n)return new mi(this,n);if(this.experimentalPGNotation){const i=this.experimentalPGNotation.lookupMove(e);if(!i)throw new Error(`could not map to internal move: ${e}`);return m(this,Mi).set(t,i),new mi(this,i)}const r=F6(this,e);return m(this,Mi).set(t,r),new mi(this,r)}algToTransformation(e){return typeof e=="string"&&(e=new F(e)),W6(e,this)}toTransformation(e){var t,n;return typeof e=="string"?this.algToTransformation(e):(t=e==null?void 0:e.is)!=null&&t.call(e,F)?this.algToTransformation(e):(n=e==null?void 0:e.is)!=null&&n.call(e,S)?this.moveToTransformation(e):e}defaultPattern(){return new $i(this,this.definition.defaultPattern)}canConvertDefaultPatternToUniqueTransformation(){return m(this,vl)??C(this,vl,(()=>{for(const e of this.definition.orbits){const t=new Array(e.numPieces).fill(!1);for(const n of this.definition.defaultPattern[e.orbitName].pieces)t[n]=!0;for(const n of t)if(!n)return!1}return!0})())}},sa=new WeakMap,Mi=new WeakMap,vl=new WeakMap,C3),Rf=class To extends Promise{constructor(t){super(n=>{n()}),this._executor=t}static from(t){return new To(n=>{n(t())})}static resolve(t){return new To(n=>{n(t)})}static reject(t){return new To((n,r)=>{r(t)})}then(t,n){return this._promise=this._promise||new Promise(this._executor),this._promise.then(t,n)}catch(t){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(t)}};function tc(e){return new Rf(t=>{t(e())})}function Vv(e,t,n,r,i){var l;const a=e.orbits[t].pieces[n];if(a===null)return gt;const o=(l=a.facelets)==null?void 0:l[r];return o===null?gt:typeof o=="string"?o:(console.log(o),o.mask)}var fr=class{constructor(e,t){this.stickerings=new Map;for(const n of e.definition.orbits)this.stickerings.set(n.orbitName,new Array(n.numPieces).fill(t))}},gt="regular",me="ignored",Xr="oriented",H6="experimentalOriented2",ds="invisible",ur="dim",hs="mystery",$6={Regular:{facelets:[gt,gt,gt,gt,gt]},Ignored:{facelets:[me,me,me,me,me]},OrientationStickers:{facelets:[Xr,Xr,Xr,Xr,Xr]},IgnoreNonPrimary:{facelets:[gt,me,me,me,me]},Invisible:{facelets:[ds,ds,ds,ds,ds]},PermuteNonPrimary:{facelets:[ur,gt,gt,gt,gt]},Dim:{facelets:[ur,ur,ur,ur,ur]},Ignoriented:{facelets:[ur,me,me,me,me]},OrientationWithoutPermutation:{facelets:[Xr,me,me,me,me]},ExperimentalOrientationWithoutPermutation2:{facelets:[H6,me,me,me,me]},Mystery:{facelets:[hs,hs,hs,hs,hs]}};function Af(e){return $6[e]}var If=class extends fr{constructor(e){super(e,"Regular")}set(e,t){for(const[n,r]of this.stickerings.entries())for(let i=0;i<r.length;i++)e.stickerings.get(n)[i]&&(r[i]=t);return this}toStickeringMask(){const e={orbits:{}};for(const[t,n]of this.stickerings.entries()){const r=[],i={pieces:r};e.orbits[t]=i;for(const s of n)r.push(Af(s))}return e}},bf=class{constructor(e){this.kpuzzle=e}and(e){const t=new fr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)e:for(let r=0;r<n.numPieces;r++){t.stickerings.get(n.orbitName)[r]=!0;for(const i of e)if(!i.stickerings.get(n.orbitName)[r]){t.stickerings.get(n.orbitName)[r]=!1;continue e}}return t}or(e){const t=new fr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)e:for(let r=0;r<n.numPieces;r++){t.stickerings.get(n.orbitName)[r]=!1;for(const i of e)if(i.stickerings.get(n.orbitName)[r]){t.stickerings.get(n.orbitName)[r]=!0;continue e}}return t}not(e){const t=new fr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)for(let r=0;r<n.numPieces;r++)t.stickerings.get(n.orbitName)[r]=!e.stickerings.get(n.orbitName)[r];return t}all(){return this.and(this.moves([]))}move(e){const t=this.kpuzzle.moveToTransformation(e),n=new fr(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)for(let i=0;i<r.numPieces;i++)(t.transformationData[r.orbitName].permutation[i]!==i||t.transformationData[r.orbitName].orientationDelta[i]!==0)&&(n.stickerings.get(r.orbitName)[i]=!0);return n}moves(e){return e.map(t=>this.move(t))}orbits(e){const t=new fr(this.kpuzzle,!1);for(const n of e)t.stickerings.get(n).fill(!0);return t}orbitPrefix(e){const t=new fr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)n.orbitName.startsWith(e)&&t.stickerings.get(n.orbitName).fill(!0);return t}},Dd="Last Layer",Ld="Last Slot",Dt={"3x3x3":Dd,megaminx:Dd},Tn={"3x3x3":Ld,megaminx:Ld},Q6={full:{groups:{"3x3x3":"Stickering",megaminx:"Stickering"}},OLL:{groups:Dt},PLL:{groups:Dt},LL:{groups:Dt},EOLL:{groups:Dt},COLL:{groups:Dt},OCLL:{groups:Dt},CPLL:{groups:Dt},CLL:{groups:Dt},EPLL:{groups:Dt},ELL:{groups:Dt},ZBLL:{groups:Dt},LS:{groups:Tn},LSOLL:{groups:Tn},LSOCLL:{groups:Tn},ELS:{groups:Tn},CLS:{groups:Tn},ZBLS:{groups:Tn},VLS:{groups:Tn},WVLS:{groups:Tn},F2L:{groups:{"3x3x3":"CFOP (Fridrich)"}},Daisy:{groups:{"3x3x3":"CFOP (Fridrich)"}},Cross:{groups:{"3x3x3":"CFOP (Fridrich)"}},EO:{groups:{"3x3x3":"ZZ"}},EOline:{groups:{"3x3x3":"ZZ"}},EOcross:{groups:{"3x3x3":"ZZ"}},FirstBlock:{groups:{"3x3x3":"Roux"}},SecondBlock:{groups:{"3x3x3":"Roux"}},CMLL:{groups:{"3x3x3":"Roux"}},L10P:{groups:{"3x3x3":"Roux"}},L6E:{groups:{"3x3x3":"Roux"}},L6EO:{groups:{"3x3x3":"Roux"}},"2x2x2":{groups:{"3x3x3":"Petrus"}},"2x2x3":{groups:{"3x3x3":"Petrus"}},EODF:{groups:{"3x3x3":"Nautilus"}},G1:{groups:{"3x3x3":"FMC"}},L2C:{groups:{"4x4x4":"Reduction","5x5x5":"Reduction","6x6x6":"Reduction"}},PBL:{groups:{"2x2x2":"Ortega"}},"Void Cube":{groups:{"3x3x3":"Miscellaneous"}},invisible:{groups:{"3x3x3":"Miscellaneous"}},picture:{groups:{"3x3x3":"Miscellaneous"}},"centers-only":{groups:{"3x3x3":"Miscellaneous"}},"opposite-centers":{groups:{"4x4x4":"Reduction"}},"experimental-centers-U":{},"experimental-centers-U-D":{},"experimental-centers-U-L-D":{},"experimental-centers-U-L-B-D":{},"experimental-centers":{},"experimental-fto-fc":{groups:{fto:"Bencisco"}},"experimental-fto-f2t":{groups:{fto:"Bencisco"}},"experimental-fto-sc":{groups:{fto:"Bencisco"}},"experimental-fto-l2c":{groups:{fto:"Bencisco"}},"experimental-fto-lbt":{groups:{fto:"Bencisco"}},"experimental-fto-l3t":{groups:{fto:"Bencisco"}}};async function Ks(e,t){return(await q6(e,t)).toStickeringMask()}async function q6(e,t){const n=await e.kpuzzle(),r=new If(n),i=new bf(n),s=()=>i.move("U"),a=()=>i.or(i.moves(["U","D"])),o=()=>i.or(i.moves(["L","R"])),l=()=>i.not(o()),u=()=>i.not(s()),c=()=>i.orbitPrefix("CENTER"),h=B=>i.and([i.move(B),c()]),d=()=>i.orbitPrefix("EDGE"),f=B=>i.and([i.and(i.moves(B)),d()]),p=()=>i.or([i.orbitPrefix("CORNER"),i.orbitPrefix("C4RNER"),i.orbitPrefix("C5RNER")]),v=()=>i.or([l(),i.and([s(),d()])]),D=()=>i.and([s(),c()]),g=()=>i.and([i.and(i.moves(["F","R"])),d()]),y=()=>i.and([i.and(i.moves(["F","R"])),p(),i.not(s())]),w=()=>i.or([y(),g()]);function k(){r.set(u(),"Dim")}function I(){r.set(s(),"PermuteNonPrimary"),r.set(D(),"Dim")}function A(){r.set(s(),"IgnoreNonPrimary"),r.set(D(),"Regular")}function L(){r.set(s(),"Ignoriented"),r.set(D(),"Dim")}switch(t){case"full":break;case"PLL":{k(),I();break}case"CLS":{k(),r.set(y(),"Regular"),r.set(s(),"Ignoriented"),r.set(i.and([s(),c()]),"Dim"),r.set(i.and([s(),p()]),"IgnoreNonPrimary");break}case"OLL":{k(),A();break}case"EOLL":{k(),A(),r.set(i.and([s(),p()]),"Ignored");break}case"COLL":{k(),r.set(i.and([s(),d()]),"Ignoriented"),r.set(i.and([s(),c()]),"Dim"),r.set(i.and([s(),p()]),"Regular");break}case"OCLL":{k(),L(),r.set(i.and([s(),p()]),"IgnoreNonPrimary");break}case"CPLL":{k(),r.set(i.and([p(),s()]),"PermuteNonPrimary"),r.set(i.and([i.not(p()),s()]),"Dim");break}case"CLL":{k(),r.set(i.not(i.and([p(),s()])),"Dim");break}case"EPLL":{k(),r.set(s(),"Dim"),r.set(i.and([s(),d()]),"PermuteNonPrimary");break}case"ELL":{k(),r.set(s(),"Dim"),r.set(i.and([s(),d()]),"Regular");break}case"ELS":{k(),A(),r.set(i.and([s(),p()]),"Ignored"),r.set(g(),"Regular"),r.set(y(),"Ignored");break}case"LL":{k();break}case"F2L":{r.set(s(),"Ignored");break}case"ZBLL":{k(),r.set(s(),"PermuteNonPrimary"),r.set(D(),"Dim"),r.set(i.and([s(),p()]),"Regular");break}case"ZBLS":{k(),r.set(w(),"Regular"),A(),r.set(i.and([s(),p()]),"Ignored");break}case"VLS":{k(),r.set(w(),"Regular"),A();break}case"WVLS":{k(),r.set(w(),"Regular"),r.set(i.and([s(),d()]),"Ignoriented"),r.set(i.and([s(),c()]),"Dim"),r.set(i.and([s(),p()]),"IgnoreNonPrimary");break}case"LS":{k(),r.set(w(),"Regular"),r.set(s(),"Ignored"),r.set(D(),"Dim");break}case"LSOLL":{k(),A(),r.set(w(),"Regular");break}case"LSOCLL":{k(),L(),r.set(i.and([s(),p()]),"IgnoreNonPrimary"),r.set(w(),"Regular");break}case"EO":{r.set(p(),"Ignored"),r.set(d(),"OrientationWithoutPermutation");break}case"EOline":{r.set(p(),"Ignored"),r.set(d(),"OrientationWithoutPermutation"),r.set(i.and(i.moves(["D","M"])),"Regular");break}case"EOcross":{r.set(d(),"OrientationWithoutPermutation"),r.set(i.move("D"),"Regular"),r.set(p(),"Ignored");break}case"CMLL":{r.set(u(),"Dim"),r.set(v(),"Ignored"),r.set(i.and([s(),p()]),"Regular");break}case"L10P":{r.set(i.not(v()),"Dim"),r.set(i.and([p(),s()]),"Regular");break}case"L6E":{r.set(i.not(v()),"Dim");break}case"L6EO":{r.set(i.not(v()),"Dim"),r.set(v(),"ExperimentalOrientationWithoutPermutation2"),r.set(i.and([c(),a()]),"ExperimentalOrientationWithoutPermutation2"),r.set(i.and([i.move("M"),i.move("E")]),"Ignored");break}case"Daisy":{r.set(i.all(),"Ignored"),r.set(c(),"Dim"),r.set(i.and([i.move("D"),c()]),"Regular"),r.set(i.and([i.move("U"),d()]),"IgnoreNonPrimary");break}case"Cross":{r.set(i.all(),"Ignored"),r.set(c(),"Dim"),r.set(i.and([i.move("D"),c()]),"Regular"),r.set(i.and([i.move("D"),d()]),"Regular");break}case"2x2x2":{r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),c()]),"Dim");break}case"2x2x3":{r.set(i.all(),"Dim"),r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),c()]),"Dim"),r.set(i.and([i.move("F"),i.not(i.or(i.moves(["U","R"])))]),"Regular");break}case"G1":{r.set(i.all(),"ExperimentalOrientationWithoutPermutation2"),r.set(i.or(i.moves(["E"])),"OrientationWithoutPermutation"),r.set(i.and(i.moves(["E","S"])),"Ignored");break}case"L2C":{r.set(i.or(i.moves(["L","R","B","D"])),"Dim"),r.set(i.not(c()),"Ignored");break}case"PBL":{r.set(i.all(),"Ignored"),r.set(i.or(i.moves(["U","D"])),"PermuteNonPrimary");break}case"FirstBlock":{r.set(i.not(i.and([i.and(i.moves(["L"])),i.not(s())])),"Ignored"),r.set(h("R"),"Dim");break}case"SecondBlock":{r.set(i.not(i.and([i.and(i.moves(["L"])),i.not(s())])),"Ignored"),r.set(i.and([i.and(i.moves(["L"])),i.not(s())]),"Dim"),r.set(i.and([i.and(i.moves(["R"])),i.not(s())]),"Regular");break}case"EODF":{k(),r.set(i.or([y(),i.and([s(),p()])]),"Ignored"),r.set(i.or([i.and([s(),d()]),g()]),"OrientationWithoutPermutation"),r.set(f(["D","F"]),"Regular"),r.set(h("F"),"Regular");break}case"Void Cube":{r.set(c(),"Invisible");break}case"picture":case"invisible":{r.set(i.all(),"Invisible");break}case"centers-only":{r.set(i.not(c()),"Ignored");break}case"opposite-centers":{r.set(i.not(i.and([c(),i.or(i.moves(["U","D"]))])),"Ignored");break}default:console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r}async function Jl(e,t){const n=[],r=[];for(const[i,s]of Object.entries(Q6))s.groups&&(e in s.groups?n.push(i):t!=null&&t.use3x3x3Fallbacks&&"3x3x3"in s.groups&&r.push(i));return n.concat(r)}function re(e){let t=null;return()=>t??(t=e())}async function nc(e){return(await X(()=>import("./index.Alr61xjd.js"),[])).getPuzzleGeometryByName(e,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function _f(e,t,n){const r=await e,i=r.getKPuzzleDefinition(!0);i.name=t;const s=await X(()=>import("./index.Alr61xjd.js"),[]),a=new s.ExperimentalPGNotation(r,r.getOrbitsDef(!0));if(n){const o=new Set(n);for(const[l,u]of Object.entries(i.defaultPattern))o.has(l)&&(u.orientationMod=new Array(u.pieces.length).fill(1))}return new Sn(a.remapKPuzzleDefinition(i),{experimentalPGNotation:a})}var aa,wl,xl,Sl,D3,er=(D3=class{constructor(e){R(this,aa);R(this,wl);R(this,xl);R(this,Sl);this.puzzleSpecificSimplifyOptionsPromise=Nf(this.kpuzzle.bind(this)),this.pgId=e.pgID,this.id=e.id,this.fullName=e.fullName,this.inventedBy=e.inventedBy,this.inventionYear=e.inventionYear,C(this,aa,e.setOrientationModTo1ForPiecesOfOrbits)}pg(){return m(this,wl)??C(this,wl,nc(this.pgId??this.id))}kpuzzle(){return m(this,xl)??C(this,xl,_f(this.pg(),this.id,m(this,aa)))}svg(){return m(this,Sl)??C(this,Sl,(async()=>(await this.pg()).generatesvg())())}},aa=new WeakMap,wl=new WeakMap,xl=new WeakMap,Sl=new WeakMap,D3),xs=class extends er{constructor(){super(...arguments),this.stickerings=()=>Jl(this.id,{use3x3x3Fallbacks:!0})}stickeringMask(e){return Ks(this,e)}};function Nf(e){return new Rf(async t=>{const n=await e();t({quantumMoveOrder:r=>n.moveToTransformation(new S(r)).repetitionOrder()})})}var il={name:"3x3x3",orbits:[{orbitName:"EDGES",numPieces:12,numOrientations:2},{orbitName:"CORNERS",numPieces:8,numOrientations:3},{orbitName:"CENTERS",numPieces:6,numOrientations:4}],defaultPattern:{EDGES:{pieces:[0,1,2,3,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{pieces:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}},moves:{U:{EDGES:{permutation:[1,2,3,0,4,5,6,7,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[1,0,0,0,0,0]}},y:{EDGES:{permutation:[1,2,3,0,5,6,7,4,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,7,4,5,6],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,3]}},x:{EDGES:{permutation:[4,8,0,9,6,10,2,11,5,7,1,3],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,3,5,7,6,2,1],orientationDelta:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,3,0,1,2,2]}},L:{EDGES:{permutation:[0,1,2,11,4,5,6,9,8,3,10,7],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,1,0,0,0,0]}},F:{EDGES:{permutation:[9,1,2,3,8,5,6,7,0,4,10,11],orientationDelta:[1,0,0,0,1,0,0,0,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,1,0,0,0]}},R:{EDGES:{permutation:[0,8,2,3,4,10,6,7,5,9,1,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,1,0,0]}},B:{EDGES:{permutation:[0,1,10,3,4,5,11,7,8,9,6,2],orientationDelta:[0,0,1,0,0,0,1,0,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,1,0]}},D:{EDGES:{permutation:[0,1,2,3,7,4,5,6,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,0,1]}},z:{EDGES:{permutation:[9,3,11,7,8,1,10,5,0,4,2,6],orientationDelta:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[3,2,6,5,0,4,7,1],orientationDelta:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,3,1]}},M:{EDGES:{permutation:[2,1,6,3,0,5,4,7,8,9,10,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,0,0,0,2,0]}},E:{EDGES:{permutation:[0,1,2,3,4,5,6,7,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,0]}},S:{EDGES:{permutation:[0,3,2,7,4,1,6,5,8,9,10,11],orientationDelta:[0,1,0,1,0,1,0,1,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,0,1,0,1]}},u:{EDGES:{permutation:[1,2,3,0,4,5,6,7,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,0]}},l:{EDGES:{permutation:[2,1,6,11,0,5,4,9,8,3,10,7],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,1,0,0,2,0]}},f:{EDGES:{permutation:[9,3,2,7,8,1,6,5,0,4,10,11],orientationDelta:[1,1,0,1,1,1,0,1,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,0,1]}},r:{EDGES:{permutation:[4,8,0,3,6,10,2,7,5,9,1,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,0,0,1,2,2]}},b:{EDGES:{permutation:[0,5,10,1,4,7,11,3,8,9,6,2],orientationDelta:[0,1,1,1,0,1,1,1,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientationDelta:[3,3,0,3,1,3]}},d:{EDGES:{permutation:[0,1,2,3,7,4,5,6,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,1]}}},derivedMoves:{Uw:"u",Lw:"l",Fw:"f",Rw:"r",Bw:"b",Dw:"d",Uv:"y",Lv:"x'",Fv:"z",Rv:"x",Bv:"z'",Dv:"y'","2U":"u U'","2L":"l L'","2F":"f F'","2R":"r R'","2B":"b B'","2D":"d D'"}};async function Y6(e){const t=await(e.puzzleSpecificSimplifyOptions??e.puzzleSpecificSimplifyOptionsPromise);return t?{puzzleLoader:{puzzleSpecificSimplifyOptions:t}}:{}}function Pf(e){const n=e.experimentalToTransformation().invert().transformationData.CORNERS;return n.permutation[6]*3+n.orientationDelta[6]}var Rd=new Array(24);function K6(e){{const t=["","z","x","z'","x'","x2"].map(r=>F.fromString(r)),n=new F("y");for(const r of t){let i=e.algToTransformation(r);for(let s=0;s<4;s++){i=i.applyAlg(n);const a=Pf(i.toKPattern());Rd[a]={transformation:i.invert(),alg:r.concat(n)}}}}return Rd}function X6(e){const t=Pf(e),{transformation:n,alg:r}=K6(e.kpuzzle)[t];return{normalizedPattern:e.applyTransformation(n),normalizationAlg:r.invert()}}function Z6(e,t){return t.ignorePuzzleOrientation&&(e=X6(e).normalizedPattern),!!e.experimentalToTransformation().isIdentityTransformation()}async function sl(e,t){return(await X(()=>import("./index.Alr61xjd.js"),[])).getPuzzleGeometryByDesc(e,{allMoves:!0,orientCenters:!0,addRotations:!0,...t})}async function Ff(e,t){const n=sl(e,t);return _f(n,`description: ${e}`)}var J6=1;function e7(e,t){const n=J6++;let r=null;const i=async()=>r??(r=Ff(e));return{id:`custom-${n}`,fullName:(t==null?void 0:t.fullName)??`Custom Puzzle (instance #${n})`,kpuzzle:i,svg:async()=>(await sl(e)).generatesvg(),pg:async()=>sl(e),puzzleSpecificSimplifyOptionsPromise:Nf(i)}}var Of=new Sn(il);il.experimentalIsPatternSolved=r7;function Bf(e){const t=e.patternData.CENTERS.pieces[0],n=e.patternData.CENTERS.pieces[5],r=e.patternData.CENTERS.pieces[1];let i=r;return t<r&&i--,n<r&&i--,[t,i]}var Ad=new Array(6).fill(0).map(()=>new Array(6));function t7(){{const e=["","z","x","z'","x'","x2"].map(n=>F.fromString(n)),t=new F("y");for(const n of e){let r=Of.algToTransformation(n);for(let i=0;i<4;i++){r=r.applyAlg(t);const[s,a]=Bf(r.toKPattern());Ad[s][a]=r.invert()}}}return Ad}function n7(e){const[t,n]=Bf(e),r=t7()[t][n];return e.applyTransformation(r)}function r7(e,t){var n;return t.ignorePuzzleOrientation&&(e=n7(e)),t.ignoreCenterOrientation&&(e=new $i(e.kpuzzle,{EDGES:e.patternData.EDGES,CORNERS:e.patternData.CORNERS,CENTERS:{pieces:e.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}})),!!((n=e.experimentalToTransformation())!=null&&n.isIdentityTransformation())}var jf={id:"2x2x2",fullName:"222 Cube",kpuzzle:re(async()=>{const e=new Sn((await X(async()=>{const{cube2x2x2JSON:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2JSON:t}},[])).cube2x2x2JSON);return e.definition.experimentalIsPatternSolved=Z6,e}),svg:async()=>(await X(async()=>{const{cube2x2x2SVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2SVG:e}},[])).cube2x2x2SVG,llSVG:re(async()=>(await X(async()=>{const{cube2x2x2LLSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2LLSVG:e}},[])).cube2x2x2LLSVG),pg:re(async()=>nc("2x2x2")),stickeringMask:e=>Ks(jf,e),stickerings:()=>Jl("2x2x2",{use3x3x3Fallbacks:!0})},Uf={KeyI:new S("R"),KeyK:new S("R'"),KeyW:new S("B"),KeyO:new S("B'"),KeyS:new S("D"),KeyL:new S("D'"),KeyD:new S("L"),KeyE:new S("L'"),KeyJ:new S("U"),KeyF:new S("U'"),KeyH:new S("F"),KeyG:new S("F'"),KeyC:new S("l"),KeyR:new S("l'"),KeyU:new S("r"),KeyM:new S("r'"),KeyX:new S("d"),Comma:new S("d'"),KeyT:new S("x"),KeyY:new S("x"),KeyV:new S("x'"),KeyN:new S("x'"),Semicolon:new S("y"),KeyA:new S("y'"),KeyP:new S("z"),KeyQ:new S("z'"),KeyZ:new S("M'"),KeyB:new S("M"),Period:new S("M'"),Backquote:new Qe};function ze(e,t,n,r){const i=[];for(const s of e){const a=S.fromString(s),{family:o,amount:l}=a;if(![-1,1].includes(l))throw new Error("Invalid config move");i.push({family:o,direction:l,type:t,from:n,to:r})}return i}var Hr={"x axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ze(["R"],0,0,3),...ze(["L'"],1,0,3),...ze(["r","Rw"],2,0,2),...ze(["l'","Lw'"],3,0,2),...ze(["M'"],4,1,2),...ze(["x","Uv","Dv'"],5,0,3)]},"y axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ze(["U"],0,0,3),...ze(["D'"],1,0,3),...ze(["u","Uw"],2,0,2),...ze(["d'","Dw'"],3,0,2),...ze(["E'"],4,1,2),...ze(["y","Uv","Dv'"],5,0,3)]},"z axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ze(["F"],0,0,3),...ze(["B'"],1,0,3),...ze(["f","Fw"],2,0,3),...ze(["b'","Bw'"],3,0,3),...ze(["S"],4,1,2),...ze(["z","Fv","Bv'"],5,0,3)]}},Xs={};for(const[e,t]of Object.entries(Hr))for(const n of t.moveSourceInfos)Xs[n.family]={axis:e,moveSourceInfo:n};var Vf={},L3;for(const e of Object.keys(Hr)){const t={};Vf[e]=t;for(const n of Hr[e].moveSourceInfos)(t[L3=n.type]??(t[L3]=[])).push(n)}var Wf={};for(const e of Object.keys(Hr)){const t=new Map;Wf[e]=t;for(const n of Hr[e].moveSourceInfos)t.get(n.from)||t.set(n.from,n)}function Id(e,t){var r;const n=(r=Vf[e][t])==null?void 0:r[0];if(!n)throw new Error(`Could not find a reference move (axis: ${e}, move source type: ${t})`);return n}var i7=(e,t)=>Xs[e.family].axis===Xs[t.family].axis;function s7(e,t,n,r){if(t+1===n){const d=Wf[e].get(t);if(d)return new S(new hn(d.family),r*d.direction)}const i=Hr[e],{sliceDiameter:s}=i;if(t===0&&n===s){const d=Id(e,5);return new S(new hn(d.family),r*d.direction)}const a=t+n>s;a&&([t,n]=[s-n,s-t]);let o=t+1,l=n;const u=o===l;u&&(l=null),o===1&&(o=null),u&&o===1&&(l=null),!u&&l===2&&(l=null);const h=Id(e,u?a?1:0:a?3:2);return new S(new hn(h.family,l,o),r*h.direction)}function a7(e,t=!0){if(e.length===0)return[];const n=Xs[e[0].family].axis,r=Hr[n],{sliceDiameter:i}=r,s=new Map;let a=null;function o(d,f){let p=(s.get(d)??0)+f;t&&(p=p%4+5%4-1),p===0?s.delete(d):s.set(d,p)}let l=0;for(const d of Array.from(e).reverse()){l++;const{moveSourceInfo:f}=Xs[d.family],p=d.amount*f.direction;switch(f.type){case 0:{const v=(d.innerLayer??1)-1;o(v,p),o(v+1,-p);break}case 1:{const v=i-(d.innerLayer??1);o(v,p),o(v+1,-p);break}case 2:{o((d.outerLayer??1)-1,p),o(d.innerLayer??2,-p);break}case 3:{o(i-(d.innerLayer??2),p),o(i-((d.outerLayer??1)-1),-p);break}case 4:{o(f.from,p),o(f.to,-p);break}case 5:{o(0,p),o(i,-p);break}}[0,2].includes(s.size)&&(a={suffixLength:l,sliceDeltas:new Map(s)})}if(s.size===0)return[];if(!a)return e;let[u,c]=a.sliceDeltas.keys();u>c&&([u,c]=[c,u]);const h=a.sliceDeltas.get(u);return[...e.slice(0,-a.suffixLength),...h!==0?[s7(n,u,c,h)]:[]]}var o7={quantumMoveOrder:()=>4,axis:{areQuantumMovesSameAxis:i7,simplifySameAxisMoves:a7}},ts={id:"3x3x3",fullName:"333 Cube",inventedBy:["Ern Rubik"],inventionYear:1974,kpuzzle:re(async()=>Of),svg:re(async()=>(await X(async()=>{const{cube3x3x3SVG:e}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3SVG:e}},[])).cube3x3x3SVG),llSVG:re(async()=>(await X(async()=>{const{cube3x3x3LLSVG:e}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3LLSVG:e}},[])).cube3x3x3LLSVG),llFaceSVG:re(async()=>(await X(async()=>{const{cube3x3x3LLFaceSVG:e}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3LLFaceSVG:e}},[])).cube3x3x3LLFaceSVG),pg:re(async()=>nc("3x3x3")),stickeringMask:e=>Ks(ts,e),stickerings:()=>Jl("3x3x3"),puzzleSpecificSimplifyOptions:o7,keyMapping:async()=>Uf},l7={...Uf,KeyZ:new S("m'"),KeyB:new S("m"),Period:new S("m'")},rc=new xs({id:"4x4x4",fullName:"444 Cube"});rc.llSVG=re(async()=>(await X(async()=>{const{cube4x4x4LLSVG:e}=await import("./puzzles-dynamic-4x4x4-REUXFQJ4.BNnOy5ao.js");return{cube4x4x4LLSVG:e}},[])).cube4x4x4LLSVG);rc.keyMapping=async()=>l7;async function Gf(e,t){const n=await e.kpuzzle(),r=new If(n),i=new bf(n),s=()=>i.and([i.move("U"),i.not(i.or(i.moves(["F","BL","BR"])))]),a=()=>i.and([i.move("U"),i.not(i.move("F"))]),o=()=>i.or([a(),i.and([i.move("F"),i.not(i.or(i.moves(["U","BL","BR"])))])]),l=()=>i.not(i.or([i.and([i.move("U"),i.move("F")]),i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])])),u=()=>i.not(i.or([i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])]));switch(t){case"full":break;case"experimental-fto-fc":{r.set(i.not(s()),"Ignored");break}case"experimental-fto-f2t":{r.set(i.not(a()),"Ignored"),r.set(s(),"Dim");break}case"experimental-fto-sc":{r.set(i.not(o()),"Ignored"),r.set(a(),"Dim");break}case"experimental-fto-l2c":{r.set(i.not(l()),"Ignored"),r.set(o(),"Dim");break}case"experimental-fto-lbt":{r.set(i.not(u()),"Ignored"),r.set(l(),"Dim");break}case"experimental-fto-l3t":{r.set(u(),"Dim");break}default:console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r.toStickeringMask()}async function u7(){return["full","experimental-fto-fc","experimental-fto-f2t","experimental-fto-sc","experimental-fto-l2c","experimental-fto-lbt","experimental-fto-l3t"]}var Hf={KeyI:new S("R"),KeyK:new S("R'"),KeyW:new S("B"),KeyO:new S("B'"),KeyS:new S("D"),KeyL:new S("D'"),KeyD:new S("L"),KeyE:new S("L'"),KeyJ:new S("U"),KeyF:new S("U'"),KeyH:new S("F"),KeyG:new S("F'"),KeyN:new S("Rv'"),KeyC:new S("l"),KeyR:new S("l'"),KeyU:new S("r"),KeyM:new S("r'"),KeyX:new S("d"),Comma:new S("d'"),KeyT:new S("Lv'"),KeyY:new S("Rv"),KeyV:new S("Lv"),Semicolon:new S("Uv"),KeyA:new S("Uv'"),KeyP:new S("BR'"),KeyQ:new S("BL"),KeyZ:new S("BL'"),KeyB:new S("T"),Period:new S("BR"),Backquote:new Qe},c7=class extends er{constructor(){super({pgID:"skewb diamond",id:"baby_fto",fullName:"Baby FTO",inventedBy:["Uwe Mffert"],setOrientationModTo1ForPiecesOfOrbits:["CENTERS"]}),this.svg=re(async()=>(await X(async()=>{const{babyFTOSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{babyFTOSVG:e}},[])).babyFTOSVG),this.keyMapping=async()=>Hf}stickeringMask(e){return Gf(this,e)}},d7=new c7,h7={id:"clock",fullName:"Clock",inventedBy:["Christopher C. Wiggs","Christopher J. Taylor"],inventionYear:1988,kpuzzle:re(async()=>new Sn((await X(async()=>{const{clockJSON:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{clockJSON:e}},[])).clockJSON)),svg:re(async()=>(await X(async()=>{const{clockSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{clockSVG:e}},[])).clockSVG)},f7=class extends er{constructor(){super({pgID:"FTO",id:"fto",fullName:"Face-Turning Octahedron",inventedBy:["Karl Rohrbach","David Pitcher"],inventionYear:1983}),this.stickerings=u7,this.svg=re(async()=>(await X(async()=>{const{ftoSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{ftoSVG:e}},[])).ftoSVG),this.keyMapping=async()=>Hf}stickeringMask(e){return Gf(this,e)}},m7=new f7,bd="d f 0.56",p7={id:"kilominx",fullName:"Kilominx",kpuzzle:re(()=>Ff(bd,{includeCenterOrbits:!1,includeEdgeOrbits:!1})),pg:()=>sl(bd,{includeCenterOrbits:!1,includeEdgeOrbits:!1}),svg:re(async()=>(await X(async()=>{const{kilominxSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{kilominxSVG:e}},[])).kilominxSVG)},g7={id:"loopover",fullName:"Loopover",inventedBy:["Cary Huang"],inventionYear:2018,kpuzzle:re(async()=>new Sn((await X(async()=>{const{loopoverJSON:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{loopoverJSON:e}},[])).loopoverJSON)),svg:async()=>(await X(async()=>{const{loopoverSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{loopoverSVG:e}},[])).loopoverSVG};async function y7(e,t){return(await $f()).includes(t)?Ks(e,t):(console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`),Ks(e,"full"))}var v7=tc(()=>Jl("megaminx"));function $f(){return v7}var w7={KeyI:new S("R"),KeyK:new S("R'"),KeyW:new S("B"),KeyO:new S("B'"),KeyS:new S("FR"),KeyL:new S("FR'"),KeyD:new S("L"),KeyE:new S("L'"),KeyJ:new S("U"),KeyF:new S("U'"),KeyH:new S("F"),KeyG:new S("F'"),KeyC:new S("Lw"),KeyR:new S("Lw'"),KeyU:new S("Rw"),KeyM:new S("Rw'"),KeyX:new S("d"),Comma:new S("d'"),KeyT:new S("Rv"),KeyY:new S("Rv"),KeyV:new S("Rv'"),KeyN:new S("Rv'"),Semicolon:new S("y"),KeyA:new S("y'"),KeyP:new S("z"),KeyQ:new S("z'"),KeyZ:new S("2L'"),KeyB:new S("2R"),Period:new S("2R'"),Backquote:new Qe},x7=class extends er{constructor(){super({id:"megaminx",fullName:"Megaminx",inventionYear:1981}),this.stickerings=$f,this.llSVG=re(async()=>(await X(async()=>{const{megaminxLLSVG:e}=await import("./puzzles-dynamic-megaminx-2LVHIDL4.Cm8jQJ-N.js");return{megaminxLLSVG:e}},[])).megaminxLLSVG),this.keyMapping=async()=>w7}stickeringMask(e){return y7(this,e)}},S7=new x7,z7={id:"melindas2x2x2x2",fullName:"Melinda's 2222",inventedBy:["Melinda Green"],kpuzzle:re(async()=>new Sn((await X(async()=>{const{melindas2x2x2x2OrbitJSON:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{melindas2x2x2x2OrbitJSON:e}},[])).melindas2x2x2x2OrbitJSON)),svg:re(async()=>(await X(async()=>{const{melindas2x2x2x2OrbitSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{melindas2x2x2x2OrbitSVG:e}},[])).melindas2x2x2x2OrbitSVG)},E7=class extends er{constructor(){super({id:"pyraminx",fullName:"Pyraminx",inventedBy:["Uwe Meffert"]}),this.svg=re(async()=>(await X(async()=>{const{pyraminxSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{pyraminxSVG:e}},[])).pyraminxSVG)}},k7=new E7,M7={id:"redi_cube",fullName:"Redi Cube",inventedBy:["Oskar van Deventer"],inventionYear:2009,kpuzzle:re(async()=>new Sn((await X(async()=>{const{rediCubeJSON:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{rediCubeJSON:e}},[])).rediCubeJSON)),svg:async()=>(await X(async()=>{const{rediCubeSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{rediCubeSVG:e}},[])).rediCubeSVG},T7={id:"square1",fullName:"Square-1",inventedBy:["Karel Hrel","Vojtech Kopsk"],inventionYear:1990,kpuzzle:re(async()=>new Sn((await X(async()=>{const{sq1HyperOrbitJSON:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{sq1HyperOrbitJSON:e}},[])).sq1HyperOrbitJSON)),svg:re(async()=>(await X(async()=>{const{sq1HyperOrbitSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{sq1HyperOrbitSVG:e}},[])).sq1HyperOrbitSVG)},C7={id:"tri_quad",fullName:"TriQuad",inventedBy:["Bram Cohen","Carl Hoff"],inventionYear:2018,kpuzzle:re(async()=>new Sn((await X(async()=>{const{triQuadJSON:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{triQuadJSON:e}},[])).triQuadJSON)),svg:re(async()=>(await X(async()=>{const{triQuadSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{triQuadSVG:e}},[])).triQuadSVG)},ic={"3x3x3":ts,"2x2x2":jf,"4x4x4":rc,"5x5x5":new xs({id:"5x5x5",fullName:"555 Cube"}),"6x6x6":new xs({id:"6x6x6",fullName:"666 Cube"}),"7x7x7":new xs({id:"7x7x7",fullName:"777 Cube"}),"40x40x40":new xs({id:"40x40x40",fullName:"404040 Cube"}),clock:h7,megaminx:S7,pyraminx:k7,skewb:new er({id:"skewb",fullName:"Skewb",inventedBy:["Tony Durham"]}),square1:T7,fto:m7,gigaminx:new er({id:"gigaminx",fullName:"Gigaminx",inventedBy:["Tyler Fox"],inventionYear:2006}),master_tetraminx:new er({pgID:"master tetraminx",id:"master_tetraminx",fullName:"Master Tetraminx",inventedBy:["Katsuhiko Okamoto"],inventionYear:2002}),kilominx:p7,redi_cube:M7,melindas2x2x2x2:z7,loopover:g7,tri_quad:C7,baby_fto:d7};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qf="176",ro=2e3,_d=2001;function Ge(e,t,n){return Math.max(t,Math.min(n,e))}class Ia{constructor(t=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}static slerpFlat(t,n,r,i,s,a,o){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3];const d=s[a+0],f=s[a+1],p=s[a+2],v=s[a+3];if(o===0){t[n+0]=l,t[n+1]=u,t[n+2]=c,t[n+3]=h;return}if(o===1){t[n+0]=d,t[n+1]=f,t[n+2]=p,t[n+3]=v;return}if(h!==v||l!==d||u!==f||c!==p){let D=1-o;const g=l*d+u*f+c*p+h*v,y=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const I=Math.sqrt(w),A=Math.atan2(I,g*y);D=Math.sin(D*A)/I,o=Math.sin(o*A)/I}const k=o*y;if(l=l*D+d*k,u=u*D+f*k,c=c*D+p*k,h=h*D+v*k,D===1-o){const I=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=I,u*=I,c*=I,h*=I}}t[n]=l,t[n+1]=u,t[n+2]=c,t[n+3]=h}static multiplyQuaternionsFlat(t,n,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=s[a],d=s[a+1],f=s[a+2],p=s[a+3];return t[n]=o*p+c*h+l*f-u*d,t[n+1]=l*p+c*d+u*h-o*f,t[n+2]=u*p+c*f+o*d-l*h,t[n+3]=c*p-o*h-l*d-u*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,r,i){return this._x=t,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n=!0){const r=t._x,i=t._y,s=t._z,a=t._order,o=Math.cos,l=Math.sin,u=o(r/2),c=o(i/2),h=o(s/2),d=l(r/2),f=l(i/2),p=l(s/2);switch(a){case"XYZ":this._x=d*c*h+u*f*p,this._y=u*f*h-d*c*p,this._z=u*c*p+d*f*h,this._w=u*c*h-d*f*p;break;case"YXZ":this._x=d*c*h+u*f*p,this._y=u*f*h-d*c*p,this._z=u*c*p-d*f*h,this._w=u*c*h+d*f*p;break;case"ZXY":this._x=d*c*h-u*f*p,this._y=u*f*h+d*c*p,this._z=u*c*p+d*f*h,this._w=u*c*h-d*f*p;break;case"ZYX":this._x=d*c*h-u*f*p,this._y=u*f*h+d*c*p,this._z=u*c*p-d*f*h,this._w=u*c*h+d*f*p;break;case"YZX":this._x=d*c*h+u*f*p,this._y=u*f*h+d*c*p,this._z=u*c*p-d*f*h,this._w=u*c*h-d*f*p;break;case"XZY":this._x=d*c*h-u*f*p,this._y=u*f*h-d*c*p,this._z=u*c*p+d*f*h,this._w=u*c*h+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const r=n/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],u=n[2],c=n[6],h=n[10],d=r+o+h;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-l)*f,this._y=(s-u)*f,this._z=(a-i)*f}else if(r>o&&r>h){const f=2*Math.sqrt(1+r-o-h);this._w=(c-l)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(s+u)/f}else if(o>h){const f=2*Math.sqrt(1+o-r-h);this._w=(s-u)/f,this._x=(i+a)/f,this._y=.25*f,this._z=(l+c)/f}else{const f=2*Math.sqrt(1+h-r-o);this._w=(a-i)/f,this._x=(s+u)/f,this._y=(l+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ge(this.dot(t),-1,1)))}rotateTowards(t,n){const r=this.angleTo(t);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const r=t._x,i=t._y,s=t._z,a=t._w,o=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*o+i*u-s*l,this._y=i*c+a*l+s*o-r*u,this._z=s*c+a*u+r*l-i*o,this._w=a*c-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*t._w+r*t._x+i*t._y+s*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-n;return this._w=f*a+n*this._w,this._x=f*r+n*this._x,this._y=f*i+n*this._y,this._z=f*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,o),h=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=a*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,n,r){return this.copy(t).slerp(n,r)}random(){const t=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(t),i*Math.cos(t),s*Math.sin(n),s*Math.cos(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class zn{constructor(t=0,n=0,r=0){zn.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(t,n,r){return r===void 0&&(r=this.z),this.x=t,this.y=n,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(Nd.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(Nd.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,r=this.y,i=this.z,s=t.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,r=this.y,i=this.z,s=t.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(t){const n=this.x,r=this.y,i=this.z,s=t.x,a=t.y,o=t.z,l=t.w,u=2*(a*i-o*r),c=2*(o*n-s*i),h=2*(s*r-a*n);return this.x=n+l*u+a*h-o*c,this.y=r+l*c+o*u-s*h,this.z=i+l*h+s*c-a*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,r=this.y,i=this.z,s=t.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Ge(this.x,t.x,n.x),this.y=Ge(this.y,t.y,n.y),this.z=Ge(this.z,t.z,n.z),this}clampScalar(t,n){return this.x=Ge(this.x,t,n),this.y=Ge(this.y,t,n),this.z=Ge(this.z,t,n),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ge(r,t,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const r=t.x,i=t.y,s=t.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return A0.copy(this).projectOnVector(t),this.sub(A0)}reflect(t){return this.sub(A0.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(Ge(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return n*n+r*r+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,r){const i=Math.sin(n)*t;return this.x=i*Math.sin(r),this.y=Math.cos(n)*t,this.z=i*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(t),this.y=n,this.z=r*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const A0=new zn,Nd=new Ia;class Zs{constructor(t,n,r,i,s,a,o,l,u,c,h,d,f,p,v,D){Zs.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,r,i,s,a,o,l,u,c,h,d,f,p,v,D)}set(t,n,r,i,s,a,o,l,u,c,h,d,f,p,v,D){const g=this.elements;return g[0]=t,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=a,g[9]=o,g[13]=l,g[2]=u,g[6]=c,g[10]=h,g[14]=d,g[3]=f,g[7]=p,g[11]=v,g[15]=D,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Zs().fromArray(this.elements)}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(t){const n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,r=t.elements,i=1/Zr.setFromMatrixColumn(t,0).length(),s=1/Zr.setFromMatrixColumn(t,1).length(),a=1/Zr.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,r=t.x,i=t.y,s=t.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),h=Math.sin(s);if(t.order==="XYZ"){const d=a*c,f=a*h,p=o*c,v=o*h;n[0]=l*c,n[4]=-l*h,n[8]=u,n[1]=f+p*u,n[5]=d-v*u,n[9]=-o*l,n[2]=v-d*u,n[6]=p+f*u,n[10]=a*l}else if(t.order==="YXZ"){const d=l*c,f=l*h,p=u*c,v=u*h;n[0]=d+v*o,n[4]=p*o-f,n[8]=a*u,n[1]=a*h,n[5]=a*c,n[9]=-o,n[2]=f*o-p,n[6]=v+d*o,n[10]=a*l}else if(t.order==="ZXY"){const d=l*c,f=l*h,p=u*c,v=u*h;n[0]=d-v*o,n[4]=-a*h,n[8]=p+f*o,n[1]=f+p*o,n[5]=a*c,n[9]=v-d*o,n[2]=-a*u,n[6]=o,n[10]=a*l}else if(t.order==="ZYX"){const d=a*c,f=a*h,p=o*c,v=o*h;n[0]=l*c,n[4]=p*u-f,n[8]=d*u+v,n[1]=l*h,n[5]=v*u+d,n[9]=f*u-p,n[2]=-u,n[6]=o*l,n[10]=a*l}else if(t.order==="YZX"){const d=a*l,f=a*u,p=o*l,v=o*u;n[0]=l*c,n[4]=v-d*h,n[8]=p*h+f,n[1]=h,n[5]=a*c,n[9]=-o*c,n[2]=-u*c,n[6]=f*h+p,n[10]=d-v*h}else if(t.order==="XZY"){const d=a*l,f=a*u,p=o*l,v=o*u;n[0]=l*c,n[4]=-h,n[8]=u*c,n[1]=d*h+v,n[5]=a*c,n[9]=f*h-p,n[2]=p*h-f,n[6]=o*c,n[10]=v*h+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(D7,t,L7)}lookAt(t,n,r){const i=this.elements;return st.subVectors(t,n),st.lengthSq()===0&&(st.z=1),st.normalize(),Cn.crossVectors(r,st),Cn.lengthSq()===0&&(Math.abs(r.z)===1?st.x+=1e-4:st.z+=1e-4,st.normalize(),Cn.crossVectors(r,st)),Cn.normalize(),io.crossVectors(st,Cn),i[0]=Cn.x,i[4]=io.x,i[8]=st.x,i[1]=Cn.y,i[5]=io.y,i[9]=st.y,i[2]=Cn.z,i[6]=io.z,i[10]=st.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],c=r[1],h=r[5],d=r[9],f=r[13],p=r[2],v=r[6],D=r[10],g=r[14],y=r[3],w=r[7],k=r[11],I=r[15],A=i[0],L=i[4],B=i[8],q=i[12],N=i[1],U=i[5],te=i[9],ye=i[13],Ne=i[2],Ce=i[6],xe=i[10],Pe=i[14],O=i[3],W=i[7],G=i[11],z=i[15];return s[0]=a*A+o*N+l*Ne+u*O,s[4]=a*L+o*U+l*Ce+u*W,s[8]=a*B+o*te+l*xe+u*G,s[12]=a*q+o*ye+l*Pe+u*z,s[1]=c*A+h*N+d*Ne+f*O,s[5]=c*L+h*U+d*Ce+f*W,s[9]=c*B+h*te+d*xe+f*G,s[13]=c*q+h*ye+d*Pe+f*z,s[2]=p*A+v*N+D*Ne+g*O,s[6]=p*L+v*U+D*Ce+g*W,s[10]=p*B+v*te+D*xe+g*G,s[14]=p*q+v*ye+D*Pe+g*z,s[3]=y*A+w*N+k*Ne+I*O,s[7]=y*L+w*U+k*Ce+I*W,s[11]=y*B+w*te+k*xe+I*G,s[15]=y*q+w*ye+k*Pe+I*z,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[4],i=t[8],s=t[12],a=t[1],o=t[5],l=t[9],u=t[13],c=t[2],h=t[6],d=t[10],f=t[14],p=t[3],v=t[7],D=t[11],g=t[15];return p*(+s*l*h-i*u*h-s*o*d+r*u*d+i*o*f-r*l*f)+v*(+n*l*f-n*u*d+s*a*d-i*a*f+i*u*c-s*l*c)+D*(+n*u*h-n*o*f-s*a*h+r*a*f+s*o*c-r*u*c)+g*(-i*o*c-n*l*h+n*o*d+i*a*h-r*a*d+r*l*c)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,r){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=n,i[14]=r),this}invert(){const t=this.elements,n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],v=t[13],D=t[14],g=t[15],y=h*D*u-v*d*u+v*l*f-o*D*f-h*l*g+o*d*g,w=p*d*u-c*D*u-p*l*f+a*D*f+c*l*g-a*d*g,k=c*v*u-p*h*u+p*o*f-a*v*f-c*o*g+a*h*g,I=p*h*l-c*v*l-p*o*d+a*v*d+c*o*D-a*h*D,A=n*y+r*w+i*k+s*I;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/A;return t[0]=y*L,t[1]=(v*d*s-h*D*s-v*i*f+r*D*f+h*i*g-r*d*g)*L,t[2]=(o*D*s-v*l*s+v*i*u-r*D*u-o*i*g+r*l*g)*L,t[3]=(h*l*s-o*d*s-h*i*u+r*d*u+o*i*f-r*l*f)*L,t[4]=w*L,t[5]=(c*D*s-p*d*s+p*i*f-n*D*f-c*i*g+n*d*g)*L,t[6]=(p*l*s-a*D*s-p*i*u+n*D*u+a*i*g-n*l*g)*L,t[7]=(a*d*s-c*l*s+c*i*u-n*d*u-a*i*f+n*l*f)*L,t[8]=k*L,t[9]=(p*h*s-c*v*s-p*r*f+n*v*f+c*r*g-n*h*g)*L,t[10]=(a*v*s-p*o*s+p*r*u-n*v*u-a*r*g+n*o*g)*L,t[11]=(c*o*s-a*h*s-c*r*u+n*h*u+a*r*f-n*o*f)*L,t[12]=I*L,t[13]=(c*v*i-p*h*i+p*r*d-n*v*d-c*r*D+n*h*D)*L,t[14]=(p*o*i-a*v*i-p*r*l+n*v*l+a*r*D-n*o*D)*L,t[15]=(a*h*i-c*o*i+c*r*l-n*h*l-a*r*d+n*o*d)*L,this}scale(t){const n=this.elements,r=t.x,i=t.y,s=t.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(t,n,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=t.x,o=t.y,l=t.z,u=s*a,c=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,c*o+r,c*l-i*a,0,u*l-i*o,c*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,n,r,i,s,a){return this.set(1,r,s,0,t,1,a,0,n,i,1,0,0,0,0,1),this}compose(t,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,u=s+s,c=a+a,h=o+o,d=s*u,f=s*c,p=s*h,v=a*c,D=a*h,g=o*h,y=l*u,w=l*c,k=l*h,I=r.x,A=r.y,L=r.z;return i[0]=(1-(v+g))*I,i[1]=(f+k)*I,i[2]=(p-w)*I,i[3]=0,i[4]=(f-k)*A,i[5]=(1-(d+g))*A,i[6]=(D+y)*A,i[7]=0,i[8]=(p+w)*L,i[9]=(D-y)*L,i[10]=(1-(d+v))*L,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,n,r){const i=this.elements;let s=Zr.set(i[0],i[1],i[2]).length();const a=Zr.set(i[4],i[5],i[6]).length(),o=Zr.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),t.x=i[12],t.y=i[13],t.z=i[14],Lt.copy(this);const u=1/s,c=1/a,h=1/o;return Lt.elements[0]*=u,Lt.elements[1]*=u,Lt.elements[2]*=u,Lt.elements[4]*=c,Lt.elements[5]*=c,Lt.elements[6]*=c,Lt.elements[8]*=h,Lt.elements[9]*=h,Lt.elements[10]*=h,n.setFromRotationMatrix(Lt),r.x=s,r.y=a,r.z=o,this}makePerspective(t,n,r,i,s,a,o=ro){const l=this.elements,u=2*s/(n-t),c=2*s/(r-i),h=(n+t)/(n-t),d=(r+i)/(r-i);let f,p;if(o===ro)f=-(a+s)/(a-s),p=-2*a*s/(a-s);else if(o===_d)f=-a/(a-s),p=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=c,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,n,r,i,s,a,o=ro){const l=this.elements,u=1/(n-t),c=1/(r-i),h=1/(a-s),d=(n+t)*u,f=(r+i)*c;let p,v;if(o===ro)p=(a+s)*h,v=-2*h;else if(o===_d)p=s*h,v=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=v,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const n=this.elements,r=t.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(t,n=0){for(let r=0;r<16;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t}}const Zr=new zn,Lt=new Zs,D7=new zn(0,0,0),L7=new zn(1,1,1),Cn=new zn,io=new zn,st=new zn,Pd=new Zs,Fd=new Ia;class ba{constructor(t=0,n=0,r=0,i=ba.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,i=this._order){return this._x=t,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const i=t.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],c=i[9],h=i[2],d=i[6],f=i[10];switch(n){case"XYZ":this._y=Math.asin(Ge(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ge(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ge(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ge(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Ge(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Ge(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return Pd.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Pd,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return Fd.setFromEuler(this),this.setFromQuaternion(Fd,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ba.DEFAULT_ORDER="XYZ";typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qf);let qf;ts.kpuzzle().then(e=>qf=e);const Uu="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",Yf="UF UR UB UL DF DR DB DL FR FL BR BL".split(" "),Kf="UFR URB UBL ULF DRF DFL DLB DBR".split(" "),R7="U L F R B D".split(" "),A7=new Ia().setFromEuler(new ba(15*Math.PI/180,-20*Math.PI/180,0)),Xf=new Ia().setFromEuler(new ba(30*Math.PI/180,-30*Math.PI/180,0)),I7=[[1,2,0],[0,2,0],[1,1,0],[0,3,0],[2,0,0],[0,1,0],[1,3,0],[0,0,0],[1,0,0],[1,0,2],[0,1,1],[1,1,1],[0,8,1],[2,3,0],[0,10,1],[1,4,1],[0,5,1],[1,7,2],[1,3,2],[0,0,1],[1,0,1],[0,9,0],[2,2,0],[0,8,0],[1,5,1],[0,4,1],[1,4,2],[1,5,0],[0,4,0],[1,4,0],[0,7,0],[2,5,0],[0,5,0],[1,6,0],[0,6,0],[1,7,0],[1,2,2],[0,3,1],[1,3,1],[0,11,1],[2,1,0],[0,9,1],[1,6,1],[0,7,1],[1,5,2],[1,1,2],[0,2,1],[1,2,1],[0,10,0],[2,4,0],[0,11,0],[1,7,1],[0,6,1],[1,6,2]],b7=[[0,21,15],[5,13,47],[7,45,39],[2,37,23],[29,10,16],[31,18,32],[26,34,40],[24,42,8]],_7=[[1,22],[3,14],[6,46],[4,38],[30,17],[27,9],[25,41],[28,33],[19,12],[20,35],[44,11],[43,36]],I0="URFDLB",al={};Yf.forEach((e,t)=>{for(let n=0;n<2;n++)al[ol(e,n)]={piece:t,orientation:n}});Kf.forEach((e,t)=>{for(let n=0;n<3;n++)al[ol(e,n)]={piece:t,orientation:n}});function ol(e,t){return e.slice(t)+e.slice(0,t)}function N7(e){const t=[[],[]];for(let n=0;n<6;n++)if(e.patternData.CENTERS.pieces[n]!==n)throw new Error("non-oriented puzzles are not supported");for(let n=0;n<12;n++)t[0].push(ol(Yf[e.patternData.EDGES.pieces[n]],e.patternData.EDGES.orientation[n]));for(let n=0;n<8;n++)t[1].push(ol(Kf[e.patternData.CORNERS.pieces[n]],e.patternData.CORNERS.orientation[n]));return t.push(R7),t}function P7(e){const t=N7(e);return I7.map(([n,r,i])=>t[n][r][i]).join("")}function F7(e){var r;const t=[];(r=e.match(/.{9}/g))==null||r.forEach(i=>{i.split("").reverse().forEach((s,a)=>{a!=4&&t.push(I0.indexOf(s))})});const n={CORNERS:{pieces:[],orientation:[]},EDGES:{pieces:[],orientation:[]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}};for(const i of b7){const s=al[i.map(a=>I0[t[a]]).join("")];n.CORNERS.pieces.push(s.piece),n.CORNERS.orientation.push(s.orientation)}for(const i of _7){const s=al[i.map(a=>I0[t[a]]).join("")];n.EDGES.pieces.push(s.piece),n.EDGES.orientation.push(s.orientation)}return new $i(qf,n)}const O7=e=>{const t=e.join(" ");return new F(t).experimentalSimplify({cancel:!0,puzzleLoader:ts}).toString().split(" ")},B7=()=>{const e=E.useRef(!1),t=E.useRef(null),n=E.useRef(-1),[r,i]=E.useState(!1),[s,a]=E.useState(!1),{twistyPlayerRef:o,hardwareInfo:l,connection:u,batteryLevel:c}=Zl(),h=()=>i(!r),d=()=>a(!s),f=async()=>{try{if(!o.current)return;const p=await o.current.experimentalCurrentVantages();if(!p||p.size===0){n.current=requestAnimationFrame(f);return}const v=[...p][0];if(!(v!=null&&v.scene)){n.current=requestAnimationFrame(f);return}const D=await v.scene.scene();if(!(D!=null&&D.quaternion)){n.current=requestAnimationFrame(f);return}D.quaternion.slerp(Xf,.25),v.render(),n.current=requestAnimationFrame(f)}catch(p){console.error("Error in animation loop:",p)}};return E.useEffect(()=>{if(!e.current)return t.current&&o.current&&(t.current.appendChild(o.current),e.current=!0,n.current=requestAnimationFrame(f)),()=>{n.current&&cancelAnimationFrame(n.current)}},[o]),x.jsx(x.Fragment,{children:x.jsx("div",{className:"relative",id:"cube",ref:t,children:u&&x.jsxs("div",{className:"absolute flex",style:{flexDirection:"column",right:"-0.80rem",top:"1.25rem"},children:[x.jsx("button",{onClick:h,className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Cube info",children:x.jsx(s6,{size:18})}),x.jsx("button",{onClick:d,className:"p-1.5 rounded-full my-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Settings",children:x.jsx(o6,{size:18})}),x.jsx(c6,{info:{...l,batteryLevel:c,deviceMAC:u==null?void 0:u.deviceMAC,deviceName:u==null?void 0:u.deviceName},isOpen:r,onClose:h}),x.jsx(d6,{isOpen:s,onClose:d})]})})})};var j7={expose:!0};function U7(e){const t=new WeakMap;return{postMessage:e.postMessage.bind(e),addEventListener:(n,r)=>{const i=s=>{"handleEvent"in r?r.handleEvent({data:s}):r({data:s})};e.on("message",i),t.set(r,i)},removeEventListener:(n,r)=>{const i=t.get(r);i&&(e.off("message",i),t.delete(r))},nodeWorker:e,terminate:()=>{e.terminate()}}}var V7=U7,Zf=2**53,W7=2097152,G7=11,b0=new Uint32Array(2);function H7(){globalThis.crypto.getRandomValues(b0);const e=b0[0],t=b0[1];return Math.floor(e*W7)+(t>>G7)}function $7(e){if(typeof e!="number"||e<0||Math.floor(e)!==e)throw new Error("randomUIntBelow() not called with a positive integer value.");if(e>Zf)throw new Error(`Called randomUIntBelow() with max === ${e}, which is larger than JavaScript can handle with integer precision.`)}function Jf(e){$7(e);for(var t,n,r;;)if(t=H7(),n=Math.floor(t/e),r=n*e,r<=Zf-e)return t-r}function em(e){return e[Jf(e.length)]}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tm=Symbol("Comlink.proxy"),Q7=Symbol("Comlink.endpoint"),q7=Symbol("Comlink.releaseProxy"),_0=Symbol("Comlink.finalizer"),Co=Symbol("Comlink.thrown"),nm=e=>typeof e=="object"&&e!==null||typeof e=="function",Y7={canHandle:e=>nm(e)&&e[tm],serialize(e){const{port1:t,port2:n}=new MessageChannel;return im(e,t),[n,[n]]},deserialize(e){return e.start(),am(e)}},K7={canHandle:e=>nm(e)&&Co in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},rm=new Map([["proxy",Y7],["throw",K7]]);function X7(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function im(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!X7(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:a,path:o}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(pr);let u;try{const c=o.slice(0,-1).reduce((d,f)=>d[f],e),h=o.reduce((d,f)=>d[f],e);switch(a){case"GET":u=h;break;case"SET":c[o.slice(-1)[0]]=pr(i.data.value),u=!0;break;case"APPLY":u=h.apply(c,l);break;case"CONSTRUCT":{const d=new h(...l);u=r8(d)}break;case"ENDPOINT":{const{port1:d,port2:f}=new MessageChannel;im(e,f),u=n8(d,[d])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[Co]:0}}Promise.resolve(u).catch(c=>({value:c,[Co]:0})).then(c=>{const[h,d]=cl(c);t.postMessage(Object.assign(Object.assign({},h),{id:s}),d),a==="RELEASE"&&(t.removeEventListener("message",r),sm(t),_0 in e&&typeof e[_0]=="function"&&e[_0]())}).catch(c=>{const[h,d]=cl({value:new TypeError("Unserializable return value"),[Co]:0});t.postMessage(Object.assign(Object.assign({},h),{id:s}),d)})}),t.start&&t.start()}function Z7(e){return e.constructor.name==="MessagePort"}function sm(e){Z7(e)&&e.close()}function am(e,t){const n=new Map;return e.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const a=n.get(s.id);if(a)try{a(s)}finally{n.delete(s.id)}}),Vu(e,n,[],t)}function so(e){if(e)throw new Error("Proxy has been released and is not useable")}function om(e){return Jr(e,new Map,{type:"RELEASE"}).then(()=>{sm(e)})}const ll=new WeakMap,ul="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(ll.get(e)||0)-1;ll.set(e,t),t===0&&om(e)});function J7(e,t){const n=(ll.get(t)||0)+1;ll.set(t,n),ul&&ul.register(e,t,e)}function e8(e){ul&&ul.unregister(e)}function Vu(e,t,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(a,o){if(so(i),o===q7)return()=>{e8(s),om(e),t.clear(),i=!0};if(o==="then"){if(n.length===0)return{then:()=>s};const l=Jr(e,t,{type:"GET",path:n.map(u=>u.toString())}).then(pr);return l.then.bind(l)}return Vu(e,t,[...n,o])},set(a,o,l){so(i);const[u,c]=cl(l);return Jr(e,t,{type:"SET",path:[...n,o].map(h=>h.toString()),value:u},c).then(pr)},apply(a,o,l){so(i);const u=n[n.length-1];if(u===Q7)return Jr(e,t,{type:"ENDPOINT"}).then(pr);if(u==="bind")return Vu(e,t,n.slice(0,-1));const[c,h]=Od(l);return Jr(e,t,{type:"APPLY",path:n.map(d=>d.toString()),argumentList:c},h).then(pr)},construct(a,o){so(i);const[l,u]=Od(o);return Jr(e,t,{type:"CONSTRUCT",path:n.map(c=>c.toString()),argumentList:l},u).then(pr)}});return J7(s,e),s}function t8(e){return Array.prototype.concat.apply([],e)}function Od(e){const t=e.map(cl);return[t.map(n=>n[0]),t8(t.map(n=>n[1]))]}const lm=new WeakMap;function n8(e,t){return lm.set(e,t),e}function r8(e){return Object.assign(e,{[tm]:!0})}function cl(e){for(const[t,n]of rm)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},lm.get(e)||[]]}function pr(e){switch(e.type){case"HANDLER":return rm.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Jr(e,t,n,r){return new Promise(i=>{const s=i8();t.set(s,i),e.start&&e.start(),e.postMessage(Object.assign({id:s},n),r)})}function i8(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var um=["U","R","D","L","ALL"],s8=["UR","DR","DL","UL"].concat(um);function cm(){let e=0;function t(){const i=Jf(12);return i!==0&&e++,i<=6?`${i}+`:`${12-i}-`}const n=[];function r(i){for(const s of i)n.push(`${s}${t()}`)}return r(s8),n.push("y2"),r(um),e<2?cm():n.join(" ")}var a8=typeof globalThis.Worker>"u"&&typeof globalThis.WorkerNavigator>"u";async function o8(e,t){const{Worker:n}=globalThis.process.getBuiltinModule("node:worker_threads"),r=new n(e,t);return r.unref(),V7(r)}async function l8(e,t){let n;return a8?o8(e):(n=new globalThis.Worker(e,{type:t?t.type:void 0}),n)}async function u8(){return import.meta.resolve("./search-worker-entry.js")}function c8(){return new URL("data:text/javascript;base64,aW1wb3J0IHsKICBub2RlRW5kcG9pbnRQb3J0Cn0gZnJvbSAiLi9jaHVuay02V1lSTjI3Qy5qcyI7CmltcG9ydCB7CiAgZXhwb3NlQVBJCn0gZnJvbSAiLi9jaHVuay03R1VMM09CUS5qcyI7CmltcG9ydCAiLi9jaHVuay1SRFNRUlczRy5qcyI7CgovLyBzcmMvY3ViaW5nL3NlYXJjaC93b3JrZXItd29ya2Fyb3VuZHMvc2VhcmNoLXdvcmtlci1lbnRyeS5qcwppZiAoZXhwb3NlQVBJLmV4cG9zZSkgewogIChhc3luYyAoKSA9PiB7CiAgICBhd2FpdCBpbXBvcnQoIi4vaW5zaWRlLUtBVkFaRVRULmpzIik7CiAgICBjb25zdCBtZXNzYWdlUG9ydCA9IGdsb2JhbFRoaXMucG9zdE1lc3NhZ2UgPyBnbG9iYWxUaGlzIDogYXdhaXQgbm9kZUVuZHBvaW50UG9ydCgpOwogICAgbWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoImNvbWxpbmstZXhwb3NlZCIpOwogIH0pKCk7Cn0KdmFyIFdPUktFUl9FTlRSWV9GSUxFX1VSTCA9IGltcG9ydC5tZXRhLnVybDsKZXhwb3J0IHsKICBXT1JLRVJfRU5UUllfRklMRV9VUkwKfTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLXdvcmtlci1lbnRyeS5qcy5tYXAK",import.meta.url)}async function d8(){return j7.expose=!1,(await X(async()=>{const{WORKER_ENTRY_FILE_URL:e}=await import("./search-worker-entry.B1lxxzeo.js").then(t=>t.s);return{WORKER_ENTRY_FILE_URL:e}},[])).WORKER_ENTRY_FILE_URL}function h8(){return new Worker(new URL("/smart-cube-timer/worker/search-worker-entry.CROPli9L.js",import.meta.url),{type:"module"})}function f8(e){var t;try{const n=(t=globalThis.location)==null?void 0:t.origin,r=e.origin;return!!n&&!!r&&n!==r}catch{return!1}}async function N0(e){const t=new URL(e,import.meta.url),n=f8(t);try{return Bd(t,n)}catch{return Bd(t,!n)}}async function Bd(e,t){return new Promise(async(n,r)=>{var i;try{e||r(new Error("Could not get worker entry file URL."));let s=e;if(t){const u=`import ${JSON.stringify(e.toString())};`,c=new Blob([u],{type:"text/javascript"});s=new URL(URL.createObjectURL(c))}const a=await l8(s,{type:"module"});(i=a.unref)==null||i.call(a);const o=u=>{r(u)},l=u=>{u==="comlink-exposed"?n(dm(a)):r(new Error(`wrong module instantiation message ${u}`))};a.nodeWorker?a.nodeWorker.once("message",l):(a.addEventListener("error",o,{once:!0}),a.addEventListener("message",u=>l(u.data),{once:!0}))}catch(s){r(s)}})}async function m8(){return new Promise(async(e,t)=>{try{const n=h8(),r=s=>{t(s)},i=s=>{s==="comlink-exposed"?e(dm(n)):t(new Error(`wrong module instantiation message ${s}`))};n.addEventListener("error",r,{once:!0}),n.addEventListener("message",s=>i(s.data),{once:!0})}catch(n){t(n)}})}function dm(e){const t=am(e),n=e.terminate.bind(e);return{insideAPI:t,outsideAPI:{terminate:n}}}async function p8(){const e=g8(),{insideAPI:t}=await e;return t.setDebugMeasurePerf(Wu.logPerf),t.setScramblePrefetchLevel(Wu.scramblePrefetchLevel),e}async function g8(){var n;((n=globalThis.location)==null?void 0:n.protocol)==="file:"&&console.warn("This current web page is loaded from the local filesystem (a URL that starts with `file://`). In this situation, `cubing.js` may be unable to generate scrambles or perform searches in some browsers. See: https://js.cubing.net/cubing/scramble/#file-server-required");function e(r){return`Module worker instantiation${r?` ${r}`:""} failed`}const t=[[async()=>N0(await u8()),"using `import.meta.resolve()",null],[m8,"using inline `new URL(, import.meta.url)`","may"],[async()=>N0(c8()),"using `new URL(, import.meta.url)`","will"],[async()=>N0(await d8()),"using the `esbuild` workaround","will"]];for(const[r,i,s]of t)try{const a=await r();return s&&Wu.showWorkerInstantiationWarnings&&console.warn(`Module worker instantiation required ${i}. \`cubing.js\` ${s} not support this fallback in the future.`),a}catch{console.warn(`${e(i)}, falling back.`)}throw new Error(`${e()}. There are no more fallbacks available.`)}var y8;function hm(){return y8??(y8=p8())}async function v8(e){switch(e){case"clock":return F.fromString(await cm())}const n=await w8(e);return F.fromString(n)}async function w8(e){return(await hm()).insideAPI.randomScrambleStringForEvent(e)}async function x8(e){const t=await hm();return F.fromString(await t.insideAPI.solve333ToString(e.patternData))}var Wu={logPerf:!0,scramblePrefetchLevel:"auto",disableStringWorker:!1,forceNewWorkerForEveryScramble:!1,showWorkerInstantiationWarnings:!0},fm=!1;function Wv(e){fm=e}function S8(){if(!fm)throw new Error("Must be called from inside a worker, to avoid impact on page performance. Try importing from the top level of `cubing/solve`?")}function z8(e,t){const n=new nl;n.experimentalPushAlg(e);for(const r of t){const i=em(r);i!==null&&n.push(S.fromString(i))}return n.toAlg()}var mm=tc(()=>X(()=>import("./search-dynamic-solve-3x3x3-QHRLSVAC.Cj-80CHJ.js"),[])),E8="UF UR UB UL DF DR DB DL FR FL BR BL".split(" "),k8="UFR URB UBL ULF DRF DFL DLB DBR".split(" "),M8="U L F R B D".split(" "),T8=[[1,2,0],[0,2,0],[1,1,0],[0,3,0],[2,0,0],[0,1,0],[1,3,0],[0,0,0],[1,0,0],[1,0,2],[0,1,1],[1,1,1],[0,8,1],[2,3,0],[0,10,1],[1,4,1],[0,5,1],[1,7,2],[1,3,2],[0,0,1],[1,0,1],[0,9,0],[2,2,0],[0,8,0],[1,5,1],[0,4,1],[1,4,2],[1,5,0],[0,4,0],[1,4,0],[0,7,0],[2,5,0],[0,5,0],[1,6,0],[0,6,0],[1,7,0],[1,2,2],[0,3,1],[1,3,1],[0,11,1],[2,1,0],[0,9,1],[1,6,1],[0,7,1],[1,5,2],[1,1,2],[0,2,1],[1,2,1],[0,10,0],[2,4,0],[0,11,0],[1,7,1],[0,6,1],[1,6,2]];function jd(e,t){return e.slice(t)+e.slice(0,t)}function C8(e){const t=[[],[]];for(let n=0;n<6;n++)if(e.patternData.CENTERS.pieces[n]!==n)throw new Error("non-oriented puzzles are not supported");for(let n=0;n<12;n++)t[0].push(jd(E8[e.patternData.EDGES.pieces[n]],e.patternData.EDGES.orientation[n]));for(let n=0;n<8;n++)t[1].push(jd(k8[e.patternData.CORNERS.pieces[n]],e.patternData.CORNERS.orientation[n]));return t.push(M8),t}function D8(e){const t=C8(e);return T8.map(([n,r,i])=>t[n][r][i]).join("")}function Ud(e,t){const n=new $i(e.kpuzzle,{EDGES:e.patternData.EDGES,CORNERS:e.patternData.CORNERS,CENTERS:{pieces:e.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation(),r=new $i(t.kpuzzle,{EDGES:t.patternData.EDGES,CORNERS:t.patternData.CORNERS,CENTERS:{pieces:t.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation();return n.isIdentical(r)}function L8(e,t){if(Ud(e.defaultPattern(),t))return!1;for(const n of"ULFRBD")for(let r=1;r<4;r++){const i=e.moveToTransformation(new S(n,r)).toKPattern();if(Ud(i,t))return!1}return!0}var R8=[["R U'","R2 B","D2 B2","D' L B'","R' U'","B","D B2","R' B","L' U","L2 B'","B2","D L B'","L U","B'","U'","R B","D' B2","L B'","U2","U L' B'","","U' L' B'","U","L' B'"],["F2 L2","F' L'","R' F L2","D' L2","F L2","F2 L'","R' F' L'","R2 F L2","R2 F2 L'","L2","F L'","D' L","D2 L2","R2 F' L'","D L","","L2 F L'","L F' L2","L F L'","F' L2","L'","D L2","D F L'","L"],["R B U2 B'","R2 B U' B'","F2 B U B'","F B2 L' B2","B2 L B2","B U' B'","R2 B U2 B'","R' B U' B'","B2 L' B2","F B U B'","B2 U' B2","B' L B","L F' B D' B'","B' U' B2 D B'","B U2 B'","R B U' B'","B2 L2 B2","D' B' L B","B U B'","F' B2 L' B2","","B2 L' B' U' B'"],["U F2 L2 U'","F' U L' U'","F2 U L' U'","U F L2 U'","U2 B2 U2","R' U' B U","D2 U L U'","D U2 B' U2","U L2 U'","F U L' U'","D U L U'","U2 B' U2","","U2 B' U' L' U'","U2 L' U2","U' B U","U L U'","D' U2 B' U2","U L' U'","U2 B U2"],["R' D' F2","F'","F2","D R F'","R D' F2","R2 F'","D' F2","R F'","F2 R' D' F2","F","D2 F2","D' R F'","R2 D' F2","R' F'","D F2","D2 R F'","","F R' D' F2"],["R' D2 F' D F","R F2 R2 F2","R2 F' D2 F","F' R2 D2 F","L D' L'","D F' D2 F","F2 R2 F2","R F' D2 F","F' R2 D' F","F' R' D2 F","F2 R' F2","L D L'","F' R D' F","F2 R F2","F' D2 F","","L D2 R D' L'","F' D2 F' R F2","D2 R2 F2 R2 F2","D F' D' F","F' D F"],["U F2 U'","R U F' U'","D R U F2 U'","U F U'","R2 U F2 U'","R' U F' U'","R U F2 U'","R2 U F' U'","","U L D L' F U'","F2 D' R D F2","D2 U F U'","R' U F2 U'","U F' U'","F2 D2 R D2 F2","D U F U'"],["R2","R' B' D B","D R'","F' R2 F","","R B' D B","R'","B' D B","D' R'","D2 F' R2 F","R","R2 B' D B","D2 R'","B' D' B"],["R2 D' R2","F' R' F R","R D' R2 D R'","D2 R2 D2 R2","R' D' F' R F","U F D F' U'","","R2 D2 B R' B' R'","R' F D' F2 R F","R2 D R2","F2 U F U' F","R' D F' R F","D R2 D2 R2","U F D' F' U'","D R' D2 F' R F","R2 D2 R2","U F D2 F' U'","R' D2 F' R F"],["B R B'","F D F' B R2 B'","D B R2 B'","D2 B R' B'","B R2 B'","D B R' B'","D' B R2 B'","B R' B'","","B R2 B' D B R' B'","D2 B R2 B'","D' B R' B'"],["","R' D R F D2 F'","R' D R","D F D' F'","R F' R' F","F D' F'","R' D' R","F D2 F'","R' D2 R","F D F'"],["","F2 D2 R F' R' D2 F' D2 F'","F2 D2 F' D' F D' F' D2 F'","F2 D F2 D F2 D2 F2","D2 F L D2 L' D2 F'","D F D2 L D2 L' F'","R' D B' D2 B D' R","R' D2 B' D2 B R","F D2 F' D F D F'","F D' L D2 L' D F'","B D' F D B' D' F'","F D2 L D2 L' F'","F D' L D L' D F'","F L D2 L' D2 F'","R' B' D2 B D2 R"],["D'","F L D L' D' F'","D2","L B D B' D' L'","D","B' L' D' L D B","","D F L D L' D' F'"],["F' D2 F D F' D F","F' D' R' D R F","F' R' D' R D F","B D R D' R' B'","","D B' D' L' D L B"],["D F D F' D F D2 F'","F' U2 B' R' B U2 F' L F' L' F'","","D2 L D L2 F L F2 D F"],["L B' L' F L B L' F'","F2 U F' D2 F U' F' D2 F'","D' F' D B D' F D B'","F L2 F R2 F' L2 F R2 F2","D B D' F' D B' D' F","R F L F' R' F L' F'","","D2 B L' U2 L B' D2 B L' U2 L B'","D2 F R' U2 R F' D2 F R' U2 R F'","R F L' F' R' F L F'","D F D' B' D F' D' B","L2 F2 L' B2 L F2 L' B2 L'"],["L B R' B' L' B R B'","R' B R F' R' B' R F","L D2 L U L' D2 L U' L2","","D2 B' D2 F D' L2 F L2 F' D2 B D' F'","D2 F' R' F R2 B' D2 B D2 R' F D2 F'","L B L' F L B' L' F'","F' D2 F' U' F D2 F' U F2","D' B' D F D' B D F'"],["","D2 F' L U2 L' F D2 F' L U2 L' F","D2 B' R U2 R' B D2 B' R U2 R' B"]];async function pm(){const e=await ic["3x3x3"].kpuzzle();let t=e.defaultPattern();for(const n of R8)t=t.applyAlg(F.fromString(em(n)));return L8(e,t)?t:pm()}async function A8(e){return S8(),F.fromString((await mm).solvePattern(D8(e)))}async function I8(){return A8(await pm())}async function Gv(){(await mm).initialize()}var b8=[[null,"Rw","Rw2","Rw'","Fw","Fw'"],[null,"Dw","Dw2","Dw'"]];async function Hv(){return z8(await I8(),b8)}var Gu=function(e,t){return Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gu(e,t)};function Yr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Hu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function hl(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Xt(e){return typeof e=="function"}function gm(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var P0=gm(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function fl(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _a=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Hu(a),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(Xt(c))try{c()}catch(v){s=v instanceof P0?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Hu(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{Vd(p)}catch(v){s=s??[],v instanceof P0?s=hl(hl([],dl(s)),dl(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new P0(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Vd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&fl(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&fl(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),ym=_a.EMPTY;function vm(e){return e instanceof _a||e&&"closed"in e&&Xt(e.remove)&&Xt(e.add)&&Xt(e.unsubscribe)}function Vd(e){Xt(e)?e():e.unsubscribe()}var _8={Promise:void 0},N8={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,hl([e,t],dl(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function P8(e){N8.setTimeout(function(){throw e})}function Wd(){}function Do(e){e()}var wm=function(e){Yr(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,vm(n)&&n.add(r)):r.destination=B8,r}return t.create=function(n,r,i){return new $u(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_a),F8=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ao(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ao(r)}else ao(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ao(n)}},e}(),$u=function(e){Yr(t,e);function t(n,r,i){var s=e.call(this)||this,a;return Xt(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,s.destination=new F8(a),s}return t}(wm);function ao(e){P8(e)}function O8(e){throw e}var B8={closed:!0,next:Wd,error:O8,complete:Wd},j8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function U8(e){return e}function V8(e){return e.length===0?U8:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Qu=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=G8(t)?t:new $u(t,n,r);return Do(function(){var a=i,o=a.operator,l=a.source;s.add(o?o.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Gd(n),new n(function(i,s){var a=new $u({next:function(o){try{t(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[j8]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return V8(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Gd(t),new t(function(r,i){var s;n.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Gd(e){var t;return(t=e??_8.Promise)!==null&&t!==void 0?t:Promise}function W8(e){return e&&Xt(e.next)&&Xt(e.error)&&Xt(e.complete)}function G8(e){return e&&e instanceof wm||W8(e)&&vm(e)}var H8=gm(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xm=function(e){Yr(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Hd(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new H8},t.prototype.next=function(n){var r=this;Do(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Hu(r.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(n)}}catch(u){i={error:u}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Do(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Do(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?ym:(this.currentObservers=null,o.push(n),new _a(function(){r.currentObservers=null,fl(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?n.error(s):a&&n.complete()},t.prototype.asObservable=function(){var n=new Qu;return n.source=this,n},t.create=function(n,r){return new Hd(n,r)},t}(Qu),Hd=function(e){Yr(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:ym},t}(xm),$8={now:function(){return Date.now()}},Q8=function(e){Yr(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(_a),$d={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,hl([e,t],dl(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},q8=function(e){Yr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),$d.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&$d.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(a){i=!0,s=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,fl(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Q8),Qd=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=$8.now,e}(),Y8=function(e){Yr(t,e);function t(n,r){r===void 0&&(r=Qd.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Qd),Sm=new Y8(q8),K8=Sm;function X8(e){return Xt(e.schedule)}function Z8(e){return e instanceof Date&&!isNaN(e)}function J8(e,t,n){n===void 0&&(n=K8);var r=-1;return X8(t)?n=t:r=t,new Qu(function(i){var s=Z8(e)?30-n.now():e;s<0&&(s=0);var a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function eg(e,t){return t===void 0&&(t=Sm),J8(e,e,t)}var zm={exports:{}};/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */(function(e,t){(function(n){function r(z){return parseInt(z)===z}function i(z){if(!r(z.length))return!1;for(var M=0;M<z.length;M++)if(!r(z[M])||z[M]<0||z[M]>255)return!1;return!0}function s(z,M){if(z.buffer&&z.name==="Uint8Array")return M&&(z.slice?z=z.slice():z=Array.prototype.slice.call(z)),z;if(Array.isArray(z)){if(!i(z))throw new Error("Array contains invalid value: "+z);return new Uint8Array(z)}if(r(z.length)&&i(z))return new Uint8Array(z);throw new Error("unsupported array-like object")}function a(z){return new Uint8Array(z)}function o(z,M,P,b,T){(b!=null||T!=null)&&(z.slice?z=z.slice(b,T):z=Array.prototype.slice.call(z,b,T)),M.set(z,P)}var l=function(){function z(P){var b=[],T=0;for(P=encodeURI(P);T<P.length;){var $=P.charCodeAt(T++);$===37?(b.push(parseInt(P.substr(T,2),16)),T+=2):b.push($)}return s(b)}function M(P){for(var b=[],T=0;T<P.length;){var $=P[T];$<128?(b.push(String.fromCharCode($)),T++):$>191&&$<224?(b.push(String.fromCharCode(($&31)<<6|P[T+1]&63)),T+=2):(b.push(String.fromCharCode(($&15)<<12|(P[T+1]&63)<<6|P[T+2]&63)),T+=3)}return b.join("")}return{toBytes:z,fromBytes:M}}(),u=function(){function z(b){for(var T=[],$=0;$<b.length;$+=2)T.push(parseInt(b.substr($,2),16));return T}var M="0123456789abcdef";function P(b){for(var T=[],$=0;$<b.length;$++){var de=b[$];T.push(M[(de&240)>>4]+M[de&15])}return T.join("")}return{toBytes:z,fromBytes:P}}(),c={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],v=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],D=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],k=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],I=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],A=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],L=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],B=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],q=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function N(z){for(var M=[],P=0;P<z.length;P+=4)M.push(z[P]<<24|z[P+1]<<16|z[P+2]<<8|z[P+3]);return M}var U=function(z){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(z,!0)}),this._prepare()};U.prototype._prepare=function(){var z=c[this.key.length];if(z==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var M=0;M<=z;M++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var P=(z+1)*4,b=this.key.length/4,T=N(this.key),$,M=0;M<b;M++)$=M>>2,this._Ke[$][M%4]=T[M],this._Kd[z-$][M%4]=T[M];for(var de=0,De=b,Ve;De<P;){if(Ve=T[b-1],T[0]^=d[Ve>>16&255]<<24^d[Ve>>8&255]<<16^d[Ve&255]<<8^d[Ve>>24&255]^h[de]<<24,de+=1,b!=8)for(var M=1;M<b;M++)T[M]^=T[M-1];else{for(var M=1;M<b/2;M++)T[M]^=T[M-1];Ve=T[b/2-1],T[b/2]^=d[Ve&255]^d[Ve>>8&255]<<8^d[Ve>>16&255]<<16^d[Ve>>24&255]<<24;for(var M=b/2+1;M<b;M++)T[M]^=T[M-1]}for(var M=0,En,kn;M<b&&De<P;)En=De>>2,kn=De%4,this._Ke[En][kn]=T[M],this._Kd[z-En][kn]=T[M++],De++}for(var En=1;En<z;En++)for(var kn=0;kn<4;kn++)Ve=this._Kd[En][kn],this._Kd[En][kn]=A[Ve>>24&255]^L[Ve>>16&255]^B[Ve>>8&255]^q[Ve&255]},U.prototype.encrypt=function(z){if(z.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var M=this._Ke.length-1,P=[0,0,0,0],b=N(z),T=0;T<4;T++)b[T]^=this._Ke[0][T];for(var $=1;$<M;$++){for(var T=0;T<4;T++)P[T]=p[b[T]>>24&255]^v[b[(T+1)%4]>>16&255]^D[b[(T+2)%4]>>8&255]^g[b[(T+3)%4]&255]^this._Ke[$][T];b=P.slice()}for(var de=a(16),De,T=0;T<4;T++)De=this._Ke[M][T],de[4*T]=(d[b[T]>>24&255]^De>>24)&255,de[4*T+1]=(d[b[(T+1)%4]>>16&255]^De>>16)&255,de[4*T+2]=(d[b[(T+2)%4]>>8&255]^De>>8)&255,de[4*T+3]=(d[b[(T+3)%4]&255]^De)&255;return de},U.prototype.decrypt=function(z){if(z.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var M=this._Kd.length-1,P=[0,0,0,0],b=N(z),T=0;T<4;T++)b[T]^=this._Kd[0][T];for(var $=1;$<M;$++){for(var T=0;T<4;T++)P[T]=y[b[T]>>24&255]^w[b[(T+3)%4]>>16&255]^k[b[(T+2)%4]>>8&255]^I[b[(T+1)%4]&255]^this._Kd[$][T];b=P.slice()}for(var de=a(16),De,T=0;T<4;T++)De=this._Kd[M][T],de[4*T]=(f[b[T]>>24&255]^De>>24)&255,de[4*T+1]=(f[b[(T+3)%4]>>16&255]^De>>16)&255,de[4*T+2]=(f[b[(T+2)%4]>>8&255]^De>>8)&255,de[4*T+3]=(f[b[(T+1)%4]&255]^De)&255;return de};var te=function(z){if(!(this instanceof te))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new U(z)};te.prototype.encrypt=function(z){if(z=s(z),z.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=a(z.length),P=a(16),b=0;b<z.length;b+=16)o(z,P,0,b,b+16),P=this._aes.encrypt(P),o(P,M,b);return M},te.prototype.decrypt=function(z){if(z=s(z),z.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=a(z.length),P=a(16),b=0;b<z.length;b+=16)o(z,P,0,b,b+16),P=this._aes.decrypt(P),o(P,M,b);return M};var ye=function(z,M){if(!(this instanceof ye))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!M)M=a(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(M,!0),this._aes=new U(z)};ye.prototype.encrypt=function(z){if(z=s(z),z.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=a(z.length),P=a(16),b=0;b<z.length;b+=16){o(z,P,0,b,b+16);for(var T=0;T<16;T++)P[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(P),o(this._lastCipherblock,M,b)}return M},ye.prototype.decrypt=function(z){if(z=s(z),z.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=a(z.length),P=a(16),b=0;b<z.length;b+=16){o(z,P,0,b,b+16),P=this._aes.decrypt(P);for(var T=0;T<16;T++)M[b+T]=P[T]^this._lastCipherblock[T];o(z,this._lastCipherblock,0,b,b+16)}return M};var Ne=function(z,M,P){if(!(this instanceof Ne))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!M)M=a(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");P||(P=1),this.segmentSize=P,this._shiftRegister=s(M,!0),this._aes=new U(z)};Ne.prototype.encrypt=function(z){if(z.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var M=s(z,!0),P,b=0;b<M.length;b+=this.segmentSize){P=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)M[b+T]^=P[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(M,this._shiftRegister,16-this.segmentSize,b,b+this.segmentSize)}return M},Ne.prototype.decrypt=function(z){if(z.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var M=s(z,!0),P,b=0;b<M.length;b+=this.segmentSize){P=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)M[b+T]^=P[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(z,this._shiftRegister,16-this.segmentSize,b,b+this.segmentSize)}return M};var Ce=function(z,M){if(!(this instanceof Ce))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!M)M=a(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(M,!0),this._lastPrecipherIndex=16,this._aes=new U(z)};Ce.prototype.encrypt=function(z){for(var M=s(z,!0),P=0;P<M.length;P++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),M[P]^=this._lastPrecipher[this._lastPrecipherIndex++];return M},Ce.prototype.decrypt=Ce.prototype.encrypt;var xe=function(z){if(!(this instanceof xe))throw Error("Counter must be instanitated with `new`");z!==0&&!z&&(z=1),typeof z=="number"?(this._counter=a(16),this.setValue(z)):this.setBytes(z)};xe.prototype.setValue=function(z){if(typeof z!="number"||parseInt(z)!=z)throw new Error("invalid counter value (must be an integer)");if(z>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var M=15;M>=0;--M)this._counter[M]=z%256,z=parseInt(z/256)},xe.prototype.setBytes=function(z){if(z=s(z,!0),z.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=z},xe.prototype.increment=function(){for(var z=15;z>=0;z--)if(this._counter[z]===255)this._counter[z]=0;else{this._counter[z]++;break}};var Pe=function(z,M){if(!(this instanceof Pe))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",M instanceof xe||(M=new xe(M)),this._counter=M,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new U(z)};Pe.prototype.encrypt=function(z){for(var M=s(z,!0),P=0;P<M.length;P++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),M[P]^=this._remainingCounter[this._remainingCounterIndex++];return M},Pe.prototype.decrypt=Pe.prototype.encrypt;function O(z){z=s(z,!0);var M=16-z.length%16,P=a(z.length+M);o(z,P);for(var b=z.length;b<P.length;b++)P[b]=M;return P}function W(z){if(z=s(z,!0),z.length<16)throw new Error("PKCS#7 invalid length");var M=z[z.length-1];if(M>16)throw new Error("PKCS#7 padding byte out of range");for(var P=z.length-M,b=0;b<M;b++)if(z[P+b]!==M)throw new Error("PKCS#7 invalid padding byte");var T=a(P);return o(z,T,0,0,P),T}var G={AES:U,Counter:xe,ModeOfOperation:{ecb:te,cbc:ye,cfb:Ne,ofb:Ce,ctr:Pe},utils:{hex:u,utf8:l},padding:{pkcs7:{pad:O,strip:W}},_arrayTest:{coerceArray:s,createArray:a,copyArray:o}};e.exports=G})()})(zm);var qd=zm.exports,Yd;(function(e){e[e.DISCONNECT=0]="DISCONNECT",e[e.GET_SET=1]="GET_SET",e[e.HANDS_OFF=2]="HANDS_OFF",e[e.RUNNING=3]="RUNNING",e[e.STOPPED=4]="STOPPED",e[e.IDLE=5]="IDLE",e[e.HANDS_ON=6]="HANDS_ON",e[e.FINISHED=7]="FINISHED"})(Yd||(Yd={}));function tg(e,t,n){return{minutes:e,seconds:t,milliseconds:n,asTimestamp:6e4*e+1e3*t+n,toString:()=>`${e.toString(10)}:${t.toString(10).padStart(2,"0")}.${n.toString(10).padStart(3,"0")}`}}function ng(e){var t=Math.trunc(e/6e4),n=Math.trunc(e%6e4/1e3),r=Math.trunc(e%1e3);return tg(t,n,r)}const Kd="6e400001-b5a3-f393-e0a9-e50e24dc4179",rg="28be4a4a-cd67-11e9-a32f-2a2ae2dbcce4",ig="28be4cb6-cd67-11e9-a32f-2a2ae2dbcce4",Xd="8653000a-43e6-47b7-9cb0-5fc21d4ae340",sg="8653000c-43e6-47b7-9cb0-5fc21d4ae340",ag="8653000b-43e6-47b7-9cb0-5fc21d4ae340",Zd="00000010-0000-fff7-fff6-fff5fff4fff0",og="0000fff5-0000-1000-8000-00805f9b34fb",lg="0000fff6-0000-1000-8000-00805f9b34fb",Em=Array(256).fill(void 0).map((e,t)=>t<<8|1),oo=[{key:[1,2,66,40,49,145,22,7,32,5,24,84,66,17,18,83],iv:[17,3,50,40,33,1,118,39,32,149,120,20,50,18,2,67]},{key:[5,18,2,69,2,1,41,86,18,120,18,118,129,1,8,3],iv:[1,68,40,6,134,33,34,40,81,5,8,49,130,2,33,6]}];class sc{constructor(t,n,r){if(t.length!=16)throw new Error("Key must be 16 bytes (128-bit) long");if(n.length!=16)throw new Error("Iv must be 16 bytes (128-bit) long");if(r.length!=6)throw new Error("Salt must be 6 bytes (48-bit) long");this._key=new Uint8Array(t),this._iv=new Uint8Array(n);for(let i=0;i<6;i++)this._key[i]=(t[i]+r[i])%255,this._iv[i]=(n[i]+r[i])%255}encryptChunk(t,n){var r=new qd.ModeOfOperation.cbc(this._key,this._iv),i=r.encrypt(t.subarray(n,n+16));t.set(i,n)}decryptChunk(t,n){var r=new qd.ModeOfOperation.cbc(this._key,this._iv),i=r.decrypt(t.subarray(n,n+16));t.set(i,n)}encrypt(t){if(t.length<16)throw Error("Data must be at least 16 bytes long");var n=new Uint8Array(t);return this.encryptChunk(n,0),n.length>16&&this.encryptChunk(n,n.length-16),n}decrypt(t){if(t.length<16)throw Error("Data must be at least 16 bytes long");var n=new Uint8Array(t);return n.length>16&&this.decryptChunk(n,n.length-16),this.decryptChunk(n,0),n}}class ug extends sc{}class cg extends sc{}var R3,A3;const e0=typeof window<"u"&&typeof((R3=window.performance)==null?void 0:R3.now)=="function"?()=>Math.floor(window.performance.now()):typeof process<"u"&&typeof((A3=process.hrtime)==null?void 0:A3.bigint)=="function"?()=>Number(process.hrtime.bigint()/1000000n):()=>Date.now();function dg(e,t){for(var n=0,r=0,i=0,s=0,a=0,o=0;o<e.length;o++){var l=e[o],u=t[o];l==null||u==null||(a++,n+=l,r+=u,i+=l*u,s+=l*l)}var c=a*s-n*n,h=a*i-n*r,d=c<.001?1:h/c,f=a<1?0:r/a-d*n/a;return[d,f]}function hg(e){var t=[];if(e.length>=2){for(let s=e.length-1;s>0;s--)e[s].cubeTimestamp!=null&&e[s-1].cubeTimestamp==null&&(e[s-1].cubeTimestamp=e[s].cubeTimestamp-50);for(let s=0;s<e.length-1;s++)e[s].cubeTimestamp!=null&&e[s+1].cubeTimestamp==null&&(e[s+1].cubeTimestamp=e[s].cubeTimestamp+50)}if(e.length>0){var[n,r]=dg(e.map(s=>s.cubeTimestamp),e.map(s=>s.localTimestamp)),i=Math.round(n*e[0].cubeTimestamp+r);e.forEach(s=>{t.push({face:s.face,direction:s.direction,move:s.move,localTimestamp:s.localTimestamp,cubeTimestamp:Math.round(n*s.cubeTimestamp+r)-i})})}return t}const Jd=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],e3=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];function ac(e,t,n,r){var i="URFDLB",s=[];for(let a=0;a<54;a++)s[a]=i[~~(a/9)];for(let a=0;a<8;a++)for(let o=0;o<3;o++)s[Jd[a][(o+t[a])%3]]=i[~~(Jd[e[a]][o]/9)];for(let a=0;a<12;a++)for(let o=0;o<2;o++)s[e3[a][(o+r[a])%2]]=i[~~(e3[n[a]][o]/9)];return s.join("")}const St=e=>e.reduce((t,n)=>t+n,0);class Rs{constructor(t,n,r,i,s){this.onStateUpdate=async a=>{var o=a.target,l=o.value;if(l&&l.byteLength>=16){var u=this.encrypter.decrypt(new Uint8Array(l.buffer)),c=await this.driver.handleStateEvent(this,u);c.forEach(h=>this.events$.next(h))}},this.onDisconnect=async()=>(this.device.removeEventListener("gattserverdisconnected",this.onDisconnect),this.stateCharacteristic.removeEventListener("characteristicvaluechanged",this.onStateUpdate),this.events$.next({timestamp:e0(),type:"DISCONNECT"}),this.events$.unsubscribe(),this.stateCharacteristic.stopNotifications().catch(()=>{})),this.device=t,this.commandCharacteristic=n,this.stateCharacteristic=r,this.encrypter=i,this.driver=s,this.events$=new xm}static async create(t,n,r,i,s){var a=new Rs(t,n,r,i,s);return a.device.addEventListener("gattserverdisconnected",a.onDisconnect),a.stateCharacteristic.addEventListener("characteristicvaluechanged",a.onStateUpdate),await a.stateCharacteristic.startNotifications(),a}get deviceName(){return this.device.name||"GAN-XXXX"}get deviceMAC(){return this.device.mac||"00:00:00:00:00:00"}async sendCommandMessage(t){var n=this.encrypter.encrypt(t);return this.commandCharacteristic.writeValue(n)}async sendCubeCommand(t){var n=this.driver.createCommandMessage(t);if(n)return this.sendCommandMessage(n)}async disconnect(){var t,n;await this.onDisconnect(),(t=this.device.gatt)!=null&&t.connected&&((n=this.device.gatt)==null||n.disconnect())}}class oc{constructor(t){this.bits=Array.from(t).map(n=>(n+256).toString(2).slice(1)).join("")}getBitWord(t,n,r=!1){if(n<=8)return parseInt(this.bits.slice(t,t+n),2);if(n==16||n==32){let i=new Uint8Array(n/8);for(let a=0;a<i.length;a++)i[a]=parseInt(this.bits.slice(8*a+t,8*a+t+8),2);let s=new DataView(i.buffer);return n==16?s.getUint16(0,r):s.getUint32(0,r)}else throw new Error("Unsupproted bit word length")}}class fg{constructor(){this.lastSerial=-1,this.lastMoveTimestamp=0,this.cubeTimestamp=0}createCommandMessage(t){var n=new Uint8Array(20).fill(0);switch(t.type){case"REQUEST_FACELETS":n[0]=4;break;case"REQUEST_HARDWARE":n[0]=5;break;case"REQUEST_BATTERY":n[0]=9;break;case"REQUEST_RESET":n.set([10,5,57,119,0,0,1,35,69,103,137,171,0,0,0,0,0,0,0,0]);break;default:n=void 0}return n}async handleStateEvent(t,n){var r=e0(),i=[],s=new oc(n),a=s.getBitWord(0,4);if(a==1){let l=s.getBitWord(4,16),u=s.getBitWord(20,16),c=s.getBitWord(36,16),h=s.getBitWord(52,16),d=s.getBitWord(68,4),f=s.getBitWord(72,4),p=s.getBitWord(76,4);i.push({type:"GYRO",timestamp:r,quaternion:{x:(1-(u>>15)*2)*(u&32767)/32767,y:(1-(c>>15)*2)*(c&32767)/32767,z:(1-(h>>15)*2)*(h&32767)/32767,w:(1-(l>>15)*2)*(l&32767)/32767},velocity:{x:(1-(d>>3)*2)*(d&7),y:(1-(f>>3)*2)*(f&7),z:(1-(p>>3)*2)*(p&7)}})}else if(a==2){if(this.lastSerial!=-1){let l=s.getBitWord(4,8),u=Math.min(l-this.lastSerial&255,7);if(this.lastSerial=l,u>0){for(let c=u-1;c>=0;c--){let h=s.getBitWord(12+5*c,4),d=s.getBitWord(16+5*c,1),f="URFDLB".charAt(h)+" '".charAt(d),p=s.getBitWord(47+16*c,16);p==0&&(p=r-this.lastMoveTimestamp),this.cubeTimestamp+=p,i.push({type:"MOVE",serial:l-c&255,timestamp:r,localTimestamp:c==0?r:null,cubeTimestamp:this.cubeTimestamp,face:h,direction:d,move:f.trim()})}this.lastMoveTimestamp=r}}}else if(a==4){let l=s.getBitWord(4,8);this.lastSerial==-1&&(this.lastSerial=l);let u=[],c=[],h=[],d=[];for(let f=0;f<7;f++)u.push(s.getBitWord(12+f*3,3)),c.push(s.getBitWord(33+f*2,2));u.push(28-St(u)),c.push((3-St(c)%3)%3);for(let f=0;f<11;f++)h.push(s.getBitWord(47+f*4,4)),d.push(s.getBitWord(91+f,1));h.push(66-St(h)),d.push((2-St(d)%2)%2),i.push({type:"FACELETS",serial:l,timestamp:r,facelets:ac(u,c,h,d),state:{CP:u,CO:c,EP:h,EO:d}})}else if(a==5){let l=s.getBitWord(8,8),u=s.getBitWord(16,8),c=s.getBitWord(24,8),h=s.getBitWord(32,8),d=s.getBitWord(104,1),f="";for(var o=0;o<8;o++)f+=String.fromCharCode(s.getBitWord(o*8+40,8));i.push({type:"HARDWARE",timestamp:r,hardwareName:f,hardwareVersion:`${l}.${u}`,softwareVersion:`${c}.${h}`,gyroSupported:!!d})}else if(a==9){let l=s.getBitWord(8,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(l,100)})}else a==13&&t.disconnect();return i}}class mg{constructor(){this.serial=-1,this.lastSerial=-1,this.lastLocalTimestamp=null,this.moveBuffer=[]}createCommandMessage(t){var n=new Uint8Array(16).fill(0);switch(t.type){case"REQUEST_FACELETS":n.set([104,1]);break;case"REQUEST_HARDWARE":n.set([104,4]);break;case"REQUEST_BATTERY":n.set([104,7]);break;case"REQUEST_RESET":n.set([104,5,5,57,119,0,0,1,35,69,103,137,171,0,0,0]);break;default:n=void 0}return n}async requestMoveHistory(t,n,r){var i=new Uint8Array(16).fill(0);return n%2==0&&(n=n-1&255),r%2==1&&r++,r=Math.min(r,n+1),i.set([104,3,n,0,r,0]),t.sendCommandMessage(i).catch(()=>{})}async evictMoveBuffer(t){for(var n=[];this.moveBuffer.length>0;){let r=this.moveBuffer[0],i=this.lastSerial==-1?1:r.serial-this.lastSerial&255;if(i>1){t&&await this.requestMoveHistory(t,r.serial,i);break}else n.push(this.moveBuffer.shift()),this.lastSerial=r.serial}return t&&this.moveBuffer.length>16&&t.disconnect(),n}isSerialInRange(t,n,r,i=!1,s=!1){return(n-t&255)>=(r-t&255)&&(i||(t-r&255)>0)&&(s||(n-r&255)>0)}injectMissedMoveToBuffer(t){if(t.type=="MOVE")if(this.moveBuffer.length>0){var n=this.moveBuffer[0];if(this.moveBuffer.some(r=>r.type=="MOVE"&&r.serial==t.serial)||!this.isSerialInRange(this.lastSerial,n.serial,t.serial))return;t.serial==(n.serial-1&255)&&this.moveBuffer.unshift(t)}else this.isSerialInRange(this.lastSerial,this.serial,t.serial,!1,!0)&&this.moveBuffer.unshift(t)}async checkIfMoveMissed(t){let n=this.serial-this.lastSerial&255;if(n>0&&this.serial!=0){let r=this.moveBuffer[0],i=r?r.serial:this.serial+1&255;await this.requestMoveHistory(t,i,n+1)}}async handleStateEvent(t,n){var r=e0(),i=[],s=new oc(n),a=s.getBitWord(0,8),o=s.getBitWord(8,8),l=s.getBitWord(16,8);if(a==85&&l>0)if(o==1){if(this.lastSerial!=-1){this.lastLocalTimestamp=r;let c=s.getBitWord(24,32,!0),h=this.serial=s.getBitWord(56,16,!0),d=s.getBitWord(72,2),f=[2,32,8,1,16,4].indexOf(s.getBitWord(74,6)),p="URFDLB".charAt(f)+" '".charAt(d);f>=0&&this.moveBuffer.push({type:"MOVE",serial:h,timestamp:r,localTimestamp:r,cubeTimestamp:c,face:f,direction:d,move:p.trim()}),i=await this.evictMoveBuffer(t)}}else if(o==6){let c=s.getBitWord(24,8),h=(l-1)*2;for(let d=0;d<h;d++){let f=[1,5,3,0,4,2].indexOf(s.getBitWord(32+4*d,3)),p=s.getBitWord(35+4*d,1);if(f>=0){let v="URFDLB".charAt(f)+" '".charAt(p);this.injectMissedMoveToBuffer({type:"MOVE",serial:c-d&255,timestamp:r,localTimestamp:null,cubeTimestamp:null,face:f,direction:p,move:v.trim()})}}i=await this.evictMoveBuffer()}else if(o==2){let c=this.serial=s.getBitWord(24,16,!0);this.lastSerial!=-1&&this.lastLocalTimestamp!=null&&r-this.lastLocalTimestamp>500&&await this.checkIfMoveMissed(t),this.lastSerial==-1&&(this.lastSerial=c);let h=[],d=[],f=[],p=[];for(let v=0;v<7;v++)h.push(s.getBitWord(40+v*3,3)),d.push(s.getBitWord(61+v*2,2));h.push(28-St(h)),d.push((3-St(d)%3)%3);for(let v=0;v<11;v++)f.push(s.getBitWord(77+v*4,4)),p.push(s.getBitWord(121+v,1));f.push(66-St(f)),p.push((2-St(p)%2)%2),i.push({type:"FACELETS",serial:c,timestamp:r,facelets:ac(h,d,f,p),state:{CP:h,CO:d,EP:f,EO:p}})}else if(o==7){let c=s.getBitWord(72,4),h=s.getBitWord(76,4),d=s.getBitWord(80,4),f=s.getBitWord(84,4),p="";for(var u=0;u<5;u++)p+=String.fromCharCode(s.getBitWord(u*8+32,8));i.push({type:"HARDWARE",timestamp:r,hardwareName:p,hardwareVersion:`${d}.${f}`,softwareVersion:`${c}.${h}`,gyroSupported:!1})}else if(o==16){let c=s.getBitWord(24,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(c,100)})}else o==17&&t.disconnect();return i}}class pg{constructor(){this.serial=-1,this.lastSerial=-1,this.lastLocalTimestamp=null,this.moveBuffer=[],this.hwInfo={}}createCommandMessage(t){var n=new Uint8Array(20).fill(0);switch(t.type){case"REQUEST_FACELETS":n.set([221,4,0,237,0,0]);break;case"REQUEST_HARDWARE":this.hwInfo={},n.set([223,3,0,0,0]);break;case"REQUEST_BATTERY":n.set([221,4,0,239,0,0]);break;case"REQUEST_RESET":n.set([210,13,5,57,119,0,0,1,35,69,103,137,171,0,0,0]);break;default:n=void 0}return n}async requestMoveHistory(t,n,r){var i=new Uint8Array(20).fill(0);return n%2==0&&(n=n-1&255),r%2==1&&r++,r=Math.min(r,n+1),i.set([209,4,n,0,r,0]),t.sendCommandMessage(i).catch(()=>{})}async evictMoveBuffer(t){for(var n=[];this.moveBuffer.length>0;){let r=this.moveBuffer[0],i=this.lastSerial==-1?1:r.serial-this.lastSerial&255;if(i>1){t&&await this.requestMoveHistory(t,r.serial,i);break}else n.push(this.moveBuffer.shift()),this.lastSerial=r.serial}return t&&this.moveBuffer.length>16&&t.disconnect(),n}isSerialInRange(t,n,r,i=!1,s=!1){return(n-t&255)>=(r-t&255)&&(i||(t-r&255)>0)&&(s||(n-r&255)>0)}injectMissedMoveToBuffer(t){if(t.type=="MOVE")if(this.moveBuffer.length>0){var n=this.moveBuffer[0];if(this.moveBuffer.some(r=>r.type=="MOVE"&&r.serial==t.serial)||!this.isSerialInRange(this.lastSerial,n.serial,t.serial))return;t.serial==(n.serial-1&255)&&this.moveBuffer.unshift(t)}else this.isSerialInRange(this.lastSerial,this.serial,t.serial,!1,!0)&&this.moveBuffer.unshift(t)}async checkIfMoveMissed(t){let n=this.serial-this.lastSerial&255;if(n>0&&this.serial!=0){let r=this.moveBuffer[0],i=r?r.serial:this.serial+1&255;await this.requestMoveHistory(t,i,n+1)}}async handleStateEvent(t,n){var r=e0(),i=[],s=new oc(n),a=s.getBitWord(0,8),o=s.getBitWord(8,8);if(a==1){if(this.lastSerial!=-1){this.lastLocalTimestamp=r;let u=s.getBitWord(16,32,!0),c=this.serial=s.getBitWord(48,16,!0),h=s.getBitWord(64,2),d=[2,32,8,1,16,4].indexOf(s.getBitWord(66,6)),f="URFDLB".charAt(d)+" '".charAt(h);d>=0&&this.moveBuffer.push({type:"MOVE",serial:c,timestamp:r,localTimestamp:r,cubeTimestamp:u,face:d,direction:h,move:f.trim()}),i=await this.evictMoveBuffer(t)}}else if(a==209){let u=s.getBitWord(16,8),c=(o-1)*2;for(let h=0;h<c;h++){let d=[1,5,3,0,4,2].indexOf(s.getBitWord(24+4*h,3)),f=s.getBitWord(27+4*h,1);if(d>=0){let p="URFDLB".charAt(d)+" '".charAt(f);this.injectMissedMoveToBuffer({type:"MOVE",serial:u-h&255,timestamp:r,localTimestamp:null,cubeTimestamp:null,face:d,direction:f,move:p.trim()})}}i=await this.evictMoveBuffer()}else if(a==237){let u=this.serial=s.getBitWord(16,16,!0);this.lastSerial!=-1&&this.lastLocalTimestamp!=null&&r-this.lastLocalTimestamp>500&&await this.checkIfMoveMissed(t),this.lastSerial==-1&&(this.lastSerial=u);let c=[],h=[],d=[],f=[];for(let p=0;p<7;p++)c.push(s.getBitWord(32+p*3,3)),h.push(s.getBitWord(53+p*2,2));c.push(28-St(c)),h.push((3-St(h)%3)%3);for(let p=0;p<11;p++)d.push(s.getBitWord(69+p*4,4)),f.push(s.getBitWord(113+p,1));d.push(66-St(d)),f.push((2-St(f)%2)%2),i.push({type:"FACELETS",serial:u,timestamp:r,facelets:ac(c,h,d,f),state:{CP:c,CO:h,EP:d,EO:f}})}else if(a>=250&&a<=254){switch(a){case 250:let u=s.getBitWord(24,16,!0),c=s.getBitWord(40,8),h=s.getBitWord(48,8);this.hwInfo[a]=`${u.toString().padStart(4,"0")}-${c.toString().padStart(2,"0")}-${h.toString().padStart(2,"0")}`;break;case 252:this.hwInfo[a]="";for(var l=0;l<o-1;l++)this.hwInfo[a]+=String.fromCharCode(s.getBitWord(l*8+24,8));break;case 253:let d=s.getBitWord(24,4),f=s.getBitWord(28,4);this.hwInfo[a]=`${d}.${f}`;break;case 254:let p=s.getBitWord(24,4),v=s.getBitWord(28,4);this.hwInfo[a]=`${p}.${v}`;break}Object.keys(this.hwInfo).length==4&&i.push({type:"HARDWARE",timestamp:r,hardwareName:this.hwInfo[252],hardwareVersion:this.hwInfo[254],softwareVersion:this.hwInfo[253],productDate:this.hwInfo[250],gyroSupported:["GAN12uiM"].indexOf(this.hwInfo[252])!=-1})}else if(a==236){let u=s.getBitWord(16,16),c=s.getBitWord(32,16),h=s.getBitWord(48,16),d=s.getBitWord(64,16),f=s.getBitWord(80,4),p=s.getBitWord(84,4),v=s.getBitWord(88,4);i.push({type:"GYRO",timestamp:r,quaternion:{x:(1-(c>>15)*2)*(c&32767)/32767,y:(1-(h>>15)*2)*(h&32767)/32767,z:(1-(d>>15)*2)*(d&32767)/32767,w:(1-(u>>15)*2)*(u&32767)/32767},velocity:{x:(1-(f>>3)*2)*(f&7),y:(1-(p>>3)*2)*(p&7),z:(1-(v>>3)*2)*(v&7)}})}else if(a==239){let u=s.getBitWord(8+o*8,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(u,100)})}else a==234&&t.disconnect();return i}}function gg(e){if(e instanceof DataView)return new DataView(e.buffer.slice(2,11));for(var t of Em)if(e.has(t))return new DataView(e.get(t).buffer.slice(0,9))}function yg(e){var t=[],n=gg(e);if(n&&n.byteLength>=6)for(let r=1;r<=6;r++)t.push(n.getUint8(n.byteLength-r).toString(16).toUpperCase().padStart(2,"0"));return t.join(":")}async function vg(e){return new Promise(t=>{typeof e.watchAdvertisements!="function"&&t(null);var n=new AbortController,r=s=>{e.removeEventListener("advertisementreceived",r),n.abort();var a=yg(s.manufacturerData);t(a||null)},i=()=>{e.removeEventListener("advertisementreceived",r),n.abort(),t(null)};e.addEventListener("advertisementreceived",r),e.watchAdvertisements({signal:n.signal}).catch(i),setTimeout(i,1e4)})}async function wg(e){var o;var t=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"GAN"},{namePrefix:"MG"},{namePrefix:"AiCube"}],optionalServices:[Kd,Xd,Zd],optionalManufacturerData:Em}),n=e&&await e(t,!1)||await vg(t)||e&&await e(t,!0);if(!n)throw new Error("Unable to determine cube MAC address, connection is not possible!");t.mac=n;var r=new Uint8Array(t.mac.split(/[:-\s]+/).map(l=>parseInt(l,16)).reverse()),i=await t.gatt.connect(),s=await i.getPrimaryServices(),a=null;for(let l of s){let u=l.uuid.toLowerCase();if(u==Kd){let c=await l.getCharacteristic(rg),h=await l.getCharacteristic(ig),d=(o=t.name)!=null&&o.startsWith("AiCube")?oo[1]:oo[0],f=new sc(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new fg;a=await Rs.create(t,c,h,f,p);break}else if(u==Xd){let c=await l.getCharacteristic(sg),h=await l.getCharacteristic(ag),d=oo[0],f=new ug(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new mg;a=await Rs.create(t,c,h,f,p);break}else if(u==Zd){let c=await l.getCharacteristic(og),h=await l.getCharacteristic(lg),d=oo[0],f=new cg(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new pg;a=await Rs.create(t,c,h,f,p);break}}if(!a)throw new Error("Can't find target BLE services - wrong or unsupported cube device model");return a}const Ie=Object.freeze({IDLE:0,READY:1,RUNNING:2,STOPPED:3}),fs=Object.freeze({RESET:{type:"REQUEST_RESET"},HARDWARE:{type:"REQUEST_HARDWARE"},FACELETS:{type:"REQUEST_FACELETS"},BATTERY:{type:"REQUEST_BATTERY"}}),en=Object.freeze({FACELETS:"FACELETS",MOVE:"MOVE",GYRO:"GYRO",BATTERY:"BATTERY",HARDWARE:"HARDWARE"}),xg=async(e,t)=>t?prompt(`Unable do determine cube MAC address!
Please enter MAC address manually:`):typeof e.watchAdvertisements=="function"?null:prompt(`Seems like your browser does not support Web Bluetooth watchAdvertisements() API. Enable following flag in Chrome:

chrome://flags/#enable-experimental-web-platform-features

or enter cube MAC address manually:`),Sg=()=>{const{connection:e,twistyPlayerRef:t,setConnection:n,timerState:r,setTimerState:i,timerStateRef:s,lastMoves:a,setLastMoves:o,solutionMovesRef:l,batteryLevelRef:u,hardwareInfoRef:c,setHardwareInfo:h,setBatteryLevel:d,connectionRef:f}=Zl(),{settingsRef:p}=Xl(),v=E.useRef(null),D=E.useRef(null),g=async()=>{var N;if(e)await y();else{D.current&&(clearInterval(D.current),D.current=null);const U=await wg(xg);n(U),(N=U==null?void 0:U.events$)==null||N.subscribe(k),D.current=setInterval(()=>{U==null||U.sendCubeCommand(fs.BATTERY).catch(te=>console.error("Battery poll error:",te))},6e4),await(U==null?void 0:U.sendCubeCommand(fs.HARDWARE)),await(U==null?void 0:U.sendCubeCommand(fs.FACELETS)),await(U==null?void 0:U.sendCubeCommand(fs.BATTERY))}};async function y(){await e.disconnect().catch(()=>console.log("no connection")),n(null),f.current=null,o([])}const w=()=>{e==null||e.sendCubeCommand(fs.RESET),t.current.alg=""},k=async N=>{switch(N.type){case en.GYRO:p.current.useGyroscope&&await I(N);break;case en.MOVE:await A(N);break;case en.FACELETS:await B(N);break;case en.BATTERY:console.log("level",N.batteryLevel),d(N.batteryLevel),u.current=N.batteryLevel;break;case en.HARDWARE:await q(N);break}};async function I(N){if(N.type===en.GYRO){let{x:U,y:te,z:ye,w:Ne}=N.quaternion,Ce=new Ia(U,ye,-te,Ne).normalize();v.current||(v.current=Ce.clone().conjugate()),Xf.copy(Ce.premultiply(v.current).premultiply(A7))}}async function A(N){N.type===en.MOVE&&(t.current.experimentalAddMove(N.move,{cancel:!1}),o(U=>[...U,N]),s.current!==Ie.IDLE&&(l.current=[...l.current,N]),a.length>10)}let L=!1;async function B(N){if(N.type===en.FACELETS&&N.facelets===Uu&&o([]),N.type===en.FACELETS&&!L){if(N.facelets!==Uu){const U=F7(N.facelets),te=await x8(U);t.current.alg=te.invert()}else t.current.alg="";L=!0,console.log("Initial cube state is applied successfully",N.facelets)}}async function q(N){const U={hardwareName:(N==null?void 0:N.hardwareName)||"- n/a -",hardwareVersion:(N==null?void 0:N.hardwareVersion)||"- n/a -",softwareVersion:(N==null?void 0:N.softwareVersion)||"- n/a -",productDate:(N==null?void 0:N.productDate)||"- n/a -",gyroSupported:N!=null&&N.gyroSupported?"YES":"NO"};c.current=U,h(U)}return E.useEffect(()=>{a.length>256&&o(a.slice(-256)),s.current===Ie.READY&&i(Ie.RUNNING)},[a]),x.jsxs("div",{className:"controls",children:[x.jsx("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:g,children:e?"Disconnect":"Connect"}),e&&x.jsxs(x.Fragment,{children:[r===Ie.IDLE&&x.jsx("button",{onClick:w,className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Reset State"}),x.jsx("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:()=>v.current=null,children:"Reset Gyro"})]})]})};var km={exports:{}},zg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Eg=zg,kg=Eg;function Mm(){}function Tm(){}Tm.resetWarningCache=Mm;var Mg=function(){function e(r,i,s,a,o,l){if(l!==kg){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tm,resetWarningCache:Mm};return n.PropTypes=n,n};km.exports=Mg();var Tg=km.exports;const lc=k4(Tg),Cm=({className:e=""})=>x.jsx("footer",{className:`py-4 px-4 text-center text-sm text-gray-500 dark:text-gray-400 ${e}`,children:x.jsx("div",{className:"container mx-auto",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[x.jsxs("div",{className:"mb-2 md:mb-0",children:[" ",new Date().getFullYear()," SmartTimer. All rights reserved."]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("a",{href:"#",className:"inline-flex items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors",target:"https://github.com/Sheshkon/smart-cube-timer",rel:"noopener noreferrer",children:[x.jsx(i6,{size:16,className:"mr-1"}),x.jsx("span",{children:"GitHub"})]}),x.jsxs("a",{href:"https://github.com/Sheshkon/smart-cube-timer",className:"inline-flex items-center hover:text-amber-500 dark:hover:text-amber-400 transition-colors",target:"https://github.com/Sheshkon/smart-cube-timer",rel:"noopener noreferrer",children:[x.jsx(n6,{size:16,className:"mr-1"}),x.jsx("span",{children:"Support"})]})]})]})})});Cm.propTypes={className:lc.string};const Dm=({className:e=""})=>{const{settings:t,updateSetting:n}=Xl();return x.jsx(x.Fragment,{children:x.jsx("header",{className:`bg-white dark:bg-gray-800 shadow-sm px-4 py-3 ${e}`,children:x.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[x.jsx("div",{className:"flex items-center",children:x.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SmartTimer"})}),x.jsx("div",{className:"flex items-center space-x-4",children:x.jsx("button",{onClick:()=>n("theme",t.theme==="light"?"dark":"light"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",title:t.theme==="dark"?"Switch to light mode":"Switch to dark mode",children:t.theme==="dark"?x.jsx(l6,{size:20}):x.jsx(a6,{size:20})})})]})})})};Dm.propTypes={className:lc.string};const Cg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"12.035250000000001 0.8986486486486487 95.58 100.27027027027027",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:95.58,height:100.27027027027027,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M604 965 c-21 -6 -49 -17 -62 -24 -21 -11 -24 -10 -29 8 -3 12 -8 21
-12 21 -3 -1 -28 -30 -55 -65 l-48 -65 -95 0 -95 0 4 -55 3 -54 -37 -6 c-21
-4 -38 -8 -38 -9 0 -2 18 -81 40 -176 37 -161 40 -184 40 -322 l0 -148 35 0
c30 0 35 -4 43 -33 10 -38 6 -38 174 4 108 27 131 29 297 29 l181 0 0 50 c0
48 1 51 31 57 18 3 28 11 25 18 -2 7 -10 39 -16 71 -11 57 -10 62 19 123 98
207 55 421 -104 531 -79 54 -206 73 -301 45z m243 -55 c74 -32 117 -84 144
-170 29 -95 24 -212 -12 -285 l-24 -50 -6 215 c-3 118 -6 216 -7 218 -1 1 -22
2 -47 2 -42 0 -46 2 -51 28 l-6 29 -121 -28 c-83 -20 -146 -28 -197 -27 l-75
1 58 10 c55 10 68 19 47 32 -20 13 -9 25 38 40 68 22 192 15 259 -15z m-387
-200 l0 -120 -115 0 -115 0 0 115 0 114 98 4 c53 1 105 4 115 5 15 2 17 -10
17 -118z m240 0 l0 -120 -115 0 -115 0 0 115 0 114 103 4 c56 1 108 4 115 5 9
1 12 -28 12 -118z m163 113 l67 -6 0 -113 0 -114 -104 0 -105 0 -3 120 -3 120
40 0 c22 0 70 -3 108 -7z m-403 -368 l0 -125 -115 0 -115 0 0 125 0 125 115 0
115 0 0 -125z m240 0 l0 -125 -115 0 -115 0 0 125 0 125 115 0 115 0 0 -125z
m230 0 l0 -125 -105 0 -105 0 0 125 0 125 105 0 105 0 0 -125z m-470 -255 l0
-120 -115 0 -115 0 0 120 0 120 115 0 115 0 0 -120z m240 0 l0 -120 -115 0
-115 0 0 120 0 120 115 0 115 0 0 -120z m230 0 l0 -120 -105 0 -105 0 0 120 0
120 105 0 105 0 0 -120z`}),E.createElement("path",{d:`M520 450 l0 -80 58 0 c72 0 87 15 87 81 -1 66 -15 79 -86 79 l-59 0
0 -80z m110 40 c0 -5 0 -13 0 -17 0 -3 -17 -6 -37 -6 -28 0 -39 4 -41 16 -3
14 5 17 37 17 23 0 41 -4 41 -10z m-2 -63 c7 -20 -2 -27 -38 -27 -27 0 -40 4
-40 13 0 8 2 16 4 18 7 6 71 3 74 -4z`}),E.createElement("path",{d:`M1825 966 c-95 -30 -167 -96 -213 -194 -24 -50 -27 -69 -27 -157 1
-104 14 -162 60 -255 20 -42 21 -49 9 -95 -19 -72 -18 -82 16 -94 27 -9 30
-14 30 -55 l0 -46 178 0 c166 -1 185 -3 312 -34 74 -18 138 -32 142 -30 3 3 9
18 13 34 6 27 10 30 45 30 l38 0 4 188 c4 171 7 198 37 316 18 71 29 132 24
137 -4 4 -19 9 -33 11 -23 3 -25 8 -28 56 l-3 52 -92 0 -92 1 -50 64 c-27 36
-53 65 -56 65 -4 0 -9 -9 -12 -21 -5 -19 -7 -19 -29 -6 -65 42 -195 58 -273
33z m221 -47 c50 -13 61 -24 44 -43 -9 -12 1 -17 52 -29 l63 -15 -73 -1 c-61
-1 -212 26 -305 55 -13 4 -20 -2 -28 -25 -10 -28 -15 -31 -55 -31 l-44 0 -1
-187 c-1 -104 -4 -201 -8 -218 -6 -30 -6 -30 -31 25 -22 48 -25 69 -25 160 1
88 4 113 24 158 29 65 97 127 160 146 56 18 167 20 227 5z m-116 -214 l0 -115
-110 0 -110 0 0 115 0 115 110 0 110 0 0 -115z m240 0 l0 -115 -115 0 -115 0
0 115 0 115 115 0 115 0 0 -115z m240 0 l0 -115 -109 0 -110 0 -3 115 -3 115
113 0 112 0 0 -115z m-480 -250 l0 -125 -110 0 -110 0 0 120 0 119 108 4 c59
1 108 4 110 5 1 1 2 -54 2 -123z m480 0 l0 -125 -110 0 -110 0 0 120 0 119
108 4 c59 1 108 4 110 5 1 1 2 -54 2 -123z m-240 -5 l0 -120 -115 0 -115 0 0
120 0 120 115 0 115 0 0 -120z m-240 -250 l0 -120 -110 0 -110 0 0 120 0 120
110 0 110 0 0 -120z m240 0 l0 -120 -115 0 -115 0 0 120 0 120 115 0 115 0 0
-120z m240 0 l0 -120 -112 0 -113 0 3 120 3 120 110 0 109 0 0 -120z`}),E.createElement("path",{d:`M2124 534 c3 -9 6 -29 6 -45 0 -19 5 -29 15 -29 9 0 15 9 15 23 0 39
-12 67 -27 67 -10 0 -13 -6 -9 -16z`}),E.createElement("path",{d:`M1970 450 l0 -80 59 0 c75 0 91 17 83 88 -7 65 -15 72 -83 72 l-59 0
0 -80z m118 33 c2 -9 -10 -13 -42 -13 -35 0 -46 4 -46 16 0 12 9 14 42 12 23
-2 43 -9 46 -15z m-10 -59 c4 -12 -67 -24 -74 -12 -3 4 -3 11 -1 16 7 10 71 7
75 -4z`}))),Dg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"156.80925 0.7398648648648648 95.03999999999999 100",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:95.03999999999999,height:100,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M604 965 c-21 -6 -49 -17 -62 -24 -21 -11 -24 -10 -29 8 -3 12 -8 21
-12 21 -3 -1 -28 -30 -55 -65 l-48 -65 -95 0 -95 0 4 -55 3 -54 -37 -6 c-21
-4 -38 -8 -38 -9 0 -2 18 -81 40 -176 37 -161 40 -184 40 -322 l0 -148 35 0
c30 0 35 -4 43 -33 10 -38 6 -38 174 4 108 27 131 29 297 29 l181 0 0 50 c0
48 1 51 31 57 18 3 28 11 25 18 -2 7 -10 39 -16 71 -11 57 -10 62 19 123 98
207 55 421 -104 531 -79 54 -206 73 -301 45z m243 -55 c74 -32 117 -84 144
-170 29 -95 24 -212 -12 -285 l-24 -50 -6 215 c-3 118 -6 216 -7 218 -1 1 -22
2 -47 2 -42 0 -46 2 -51 28 l-6 29 -121 -28 c-83 -20 -146 -28 -197 -27 l-75
1 58 10 c55 10 68 19 47 32 -20 13 -9 25 38 40 68 22 192 15 259 -15z m-387
-200 l0 -120 -115 0 -115 0 0 115 0 114 98 4 c53 1 105 4 115 5 15 2 17 -10
17 -118z m240 0 l0 -120 -115 0 -115 0 0 115 0 114 103 4 c56 1 108 4 115 5 9
1 12 -28 12 -118z m163 113 l67 -6 0 -113 0 -114 -104 0 -105 0 -3 120 -3 120
40 0 c22 0 70 -3 108 -7z m-403 -368 l0 -125 -115 0 -115 0 0 125 0 125 115 0
115 0 0 -125z m240 0 l0 -125 -115 0 -115 0 0 125 0 125 115 0 115 0 0 -125z
m230 0 l0 -125 -105 0 -105 0 0 125 0 125 105 0 105 0 0 -125z m-470 -255 l0
-120 -115 0 -115 0 0 120 0 120 115 0 115 0 0 -120z m240 0 l0 -120 -115 0
-115 0 0 120 0 120 115 0 115 0 0 -120z m230 0 l0 -120 -105 0 -105 0 0 120 0
120 105 0 105 0 0 -120z`}),E.createElement("path",{d:`M520 450 l0 -80 58 0 c72 0 87 15 87 81 -1 66 -15 79 -86 79 l-59 0
0 -80z m110 40 c0 -5 0 -13 0 -17 0 -3 -17 -6 -37 -6 -28 0 -39 4 -41 16 -3
14 5 17 37 17 23 0 41 -4 41 -10z m-2 -63 c7 -20 -2 -27 -38 -27 -27 0 -40 4
-40 13 0 8 2 16 4 18 7 6 71 3 74 -4z`}),E.createElement("path",{d:`M1825 966 c-95 -30 -167 -96 -213 -194 -24 -50 -27 -69 -27 -157 1
-104 14 -162 60 -255 20 -42 21 -49 9 -95 -19 -72 -18 -82 16 -94 27 -9 30
-14 30 -55 l0 -46 178 0 c166 -1 185 -3 312 -34 74 -18 138 -32 142 -30 3 3 9
18 13 34 6 27 10 30 45 30 l38 0 4 188 c4 171 7 198 37 316 18 71 29 132 24
137 -4 4 -19 9 -33 11 -23 3 -25 8 -28 56 l-3 52 -92 0 -92 1 -50 64 c-27 36
-53 65 -56 65 -4 0 -9 -9 -12 -21 -5 -19 -7 -19 -29 -6 -65 42 -195 58 -273
33z m221 -47 c50 -13 61 -24 44 -43 -9 -12 1 -17 52 -29 l63 -15 -73 -1 c-61
-1 -212 26 -305 55 -13 4 -20 -2 -28 -25 -10 -28 -15 -31 -55 -31 l-44 0 -1
-187 c-1 -104 -4 -201 -8 -218 -6 -30 -6 -30 -31 25 -22 48 -25 69 -25 160 1
88 4 113 24 158 29 65 97 127 160 146 56 18 167 20 227 5z m-116 -214 l0 -115
-110 0 -110 0 0 115 0 115 110 0 110 0 0 -115z m240 0 l0 -115 -115 0 -115 0
0 115 0 115 115 0 115 0 0 -115z m240 0 l0 -115 -109 0 -110 0 -3 115 -3 115
113 0 112 0 0 -115z m-480 -250 l0 -125 -110 0 -110 0 0 120 0 119 108 4 c59
1 108 4 110 5 1 1 2 -54 2 -123z m480 0 l0 -125 -110 0 -110 0 0 120 0 119
108 4 c59 1 108 4 110 5 1 1 2 -54 2 -123z m-240 -5 l0 -120 -115 0 -115 0 0
120 0 120 115 0 115 0 0 -120z m-240 -250 l0 -120 -110 0 -110 0 0 120 0 120
110 0 110 0 0 -120z m240 0 l0 -120 -115 0 -115 0 0 120 0 120 115 0 115 0 0
-120z m240 0 l0 -120 -112 0 -113 0 3 120 3 120 110 0 109 0 0 -120z`}),E.createElement("path",{d:`M2124 534 c3 -9 6 -29 6 -45 0 -19 5 -29 15 -29 9 0 15 9 15 23 0 39
-12 67 -27 67 -10 0 -13 -6 -9 -16z`}),E.createElement("path",{d:`M1970 450 l0 -80 59 0 c75 0 91 17 83 88 -7 65 -15 72 -83 72 l-59 0
0 -80z m118 33 c2 -9 -10 -13 -42 -13 -35 0 -46 4 -46 16 0 12 9 14 42 12 23
-2 43 -9 46 -15z m-10 -59 c4 -12 -67 -24 -74 -12 -3 4 -3 11 -1 16 7 10 71 7
75 -4z`}))),Lg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"21.276 4.756756756756757 84.51 88.37837837837837",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:84.51,height:88.37837837837837,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0
-130 0 0 137 0 138 130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138 0
137 125 0 125 0 0 -137z m-540 -213 l0 -60 -110 0 c-91 0 -110 -3 -110 -15 0
-12 19 -15 110 -15 l110 0 0 -60 0 -60 -130 0 -130 0 0 135 0 135 130 0 130 0
0 -60z m270 0 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m270 -75 l0
-135 -125 0 -125 0 0 38 c0 20 -3 47 -6 60 -6 21 -3 22 46 22 l52 0 -7 -31 -7
-30 72 36 72 36 -68 35 c-37 19 -69 34 -71 34 -1 0 0 -12 3 -27 5 -28 5 -28
-43 -25 l-48 4 0 59 0 59 128 0 127 0 0 -135z m-270 -75 l0 -60 -130 0 -130 0
0 60 0 60 130 0 130 0 0 -60z`}),E.createElement("path",{d:`M569 605 c0 0 -1 -42 -2 -93 l-2 -92 54 0 c67 0 80 15 81 91 0 85
-12 94 -131 94z m101 -96 l0 -60 -37 3 -38 3 -3 58 -3 57 41 0 40 0 0 -61z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 -2
-130 -2 0 140 0 139 130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138
0 137 125 0 125 0 0 -137z m-540 -213 l0 -60 -49 0 c-46 0 -48 1 -43 26 l5 25
-67 -33 c-36 -18 -66 -35 -65 -38 0 -3 30 -20 66 -37 l65 -33 -6 30 -5 30 49
0 50 0 0 -60 0 -60 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -60z m270 0 l0
-60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m270 -75 l0 -135 -125 0 -125
0 0 60 0 60 105 0 c87 0 105 3 105 15 0 12 -19 15 -107 15 l-108 0 0 60 0 60
128 0 127 0 0 -135z m-270 -75 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0
-60z`}),E.createElement("path",{d:`M2000 513 l0 -93 55 0 c66 0 75 12 75 98 0 72 -11 83 -80 86 l-50 1
0 -92z m100 -3 l0 -60 -35 0 -35 0 0 60 0 60 35 0 35 0 0 -60z`}),E.createElement("path",{d:"M2160 571 c0 -29 4 -41 15 -41 10 0 14 10 12 37 -3 52 -27 56 -27 4z"}))),Rg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"167.55875999999998 5.726351351351351 83.42999999999999 87.83783783783784",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.42999999999999,height:87.83783783783784,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0
-130 0 0 137 0 138 130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138 0
137 125 0 125 0 0 -137z m-540 -213 l0 -60 -110 0 c-91 0 -110 -3 -110 -15 0
-12 19 -15 110 -15 l110 0 0 -60 0 -60 -130 0 -130 0 0 135 0 135 130 0 130 0
0 -60z m270 0 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m270 -75 l0
-135 -125 0 -125 0 0 38 c0 20 -3 47 -6 60 -6 21 -3 22 46 22 l52 0 -7 -31 -7
-30 72 36 72 36 -68 35 c-37 19 -69 34 -71 34 -1 0 0 -12 3 -27 5 -28 5 -28
-43 -25 l-48 4 0 59 0 59 128 0 127 0 0 -135z m-270 -75 l0 -60 -130 0 -130 0
0 60 0 60 130 0 130 0 0 -60z`}),E.createElement("path",{d:`M569 605 c0 0 -1 -42 -2 -93 l-2 -92 54 0 c67 0 80 15 81 91 0 85
-12 94 -131 94z m101 -96 l0 -60 -37 3 -38 3 -3 58 -3 57 41 0 40 0 0 -61z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 -2
-130 -2 0 140 0 139 130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138
0 137 125 0 125 0 0 -137z m-540 -213 l0 -60 -49 0 c-46 0 -48 1 -43 26 l5 25
-67 -33 c-36 -18 -66 -35 -65 -38 0 -3 30 -20 66 -37 l65 -33 -6 30 -5 30 49
0 50 0 0 -60 0 -60 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -60z m270 0 l0
-60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m270 -75 l0 -135 -125 0 -125
0 0 60 0 60 105 0 c87 0 105 3 105 15 0 12 -19 15 -107 15 l-108 0 0 60 0 60
128 0 127 0 0 -135z m-270 -75 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0
-60z`}),E.createElement("path",{d:`M2000 513 l0 -93 55 0 c66 0 75 12 75 98 0 72 -11 83 -80 86 l-50 1
0 -92z m100 -3 l0 -60 -35 0 -35 0 0 60 0 60 35 0 35 0 0 -60z`}),E.createElement("path",{d:"M2160 571 c0 -29 4 -41 15 -41 10 0 14 10 12 37 -3 52 -27 56 -27 4z"}))),Ag=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"17.168625000000002 0.858108108108108 91.80000000000001 96.21621621621622",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:91.80000000000001,height:96.21621621621622,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M240 965 c0 -8 -6 -15 -12 -15 -10 0 -12 -32 -10 -135 2 -74 -4 -243
-12 -377 -20 -307 -20 -338 -1 -338 9 0 12 -6 9 -15 -5 -13 21 -15 197 -15
112 0 283 -7 379 -15 222 -19 230 -19 230 0 0 8 7 15 16 15 15 0 16 13 10 123
-6 108 7 396 29 660 5 56 4 67 -9 67 -9 0 -16 7 -16 15 0 13 -28 15 -187 15
-104 0 -269 7 -368 15 -234 19 -255 19 -255 0z m183 -10 c85 -7 89 -8 83 -28
-3 -12 -6 -42 -6 -67 -1 -42 -3 -47 -45 -72 -24 -15 -57 -45 -72 -67 -21 -31
-33 -40 -48 -36 -11 3 -37 5 -59 5 l-39 0 8 133 c4 72 9 136 12 140 3 5 21 6
42 3 20 -3 76 -8 124 -11z m271 -21 l98 -6 -6 -45 c-3 -25 -6 -56 -6 -68 l0
-22 -40 19 c-49 25 -147 34 -191 19 -18 -6 -33 -10 -34 -9 -1 2 0 31 3 66 l5
63 36 -5 c20 -3 80 -8 135 -12z m304 -20 l64 -6 -7 -136 c-4 -76 -8 -137 -9
-138 0 -1 -31 1 -67 4 -65 4 -65 5 -93 48 -15 24 -42 56 -60 72 -32 27 -33 28
-28 100 l4 73 67 -6 c36 -3 95 -8 129 -11z m-278 -160 c25 -12 63 -41 85 -63
l39 -41 -32 0 c-28 0 -32 4 -33 28 l-2 27 -4 -28 c-3 -20 -9 -27 -21 -23 -9 3
-70 8 -134 12 l-118 6 6 42 c8 51 14 57 61 66 52 9 100 1 153 -26z m-228 -45
c-3 -30 -8 -39 -19 -35 -8 3 -24 6 -36 6 -19 0 -18 3 13 35 19 19 37 35 40 35
3 0 4 -18 2 -41z m-176 -39 l31 0 -19 -57 c-15 -42 -19 -77 -16 -140 l3 -83
-48 0 -49 0 7 113 c9 167 12 180 38 173 12 -3 36 -6 53 -6z m170 -54 c-3 -22
-8 -85 -12 -138 l-6 -98 -49 0 c-44 0 -49 2 -55 26 -12 48 2 177 23 219 20 39
23 41 63 37 l41 -4 -5 -42z m197 28 l89 -6 -7 -86 c-13 -186 -16 -203 -34
-198 -9 3 -69 8 -134 12 l-118 7 5 26 c3 14 8 79 12 144 l6 117 47 -5 c25 -2
86 -7 134 -11z m186 -53 c26 -61 26 -66 2 -77 -16 -8 -13 -15 35 -71 l53 -62
6 67 c4 37 9 75 11 85 4 12 0 17 -13 17 -12 0 -22 12 -30 37 -6 21 -11 39 -9
40 1 1 28 -1 60 -4 l58 -6 -7 -141 c-4 -78 -8 -141 -9 -142 0 0 -59 4 -130 10
l-129 9 7 96 c3 53 6 117 6 144 0 47 0 47 34 47 31 0 35 -4 55 -49z m-547
-227 c3 -2 9 -18 13 -34 7 -30 19 -37 43 -22 10 7 10 15 2 37 -10 27 -10 28
21 21 17 -3 40 -6 51 -6 16 0 18 -6 14 -47 -3 -27 -8 -87 -12 -134 l-6 -87
-36 4 c-20 2 -77 6 -125 10 l-88 6 6 91 c3 51 8 112 11 136 l6 43 46 -7 c26
-4 50 -9 54 -11z m350 -20 l77 -6 -6 -112 c-9 -167 6 -153 -151 -142 -116 7
-132 10 -128 25 3 9 8 69 12 134 l7 119 56 -6 c31 -3 91 -8 133 -12z m268 -19
l85 -6 -8 -132 c-4 -72 -9 -131 -10 -132 -1 -1 -60 3 -131 8 l-129 10 7 90 c3
50 6 110 6 134 l0 45 48 -6 c26 -3 85 -8 132 -11z`}),E.createElement("path",{d:`M560 510 c0 -93 1 -100 20 -100 17 0 20 7 20 40 0 40 0 40 40 40 33
0 40 3 40 20 0 17 -7 20 -40 20 -33 0 -40 3 -40 20 0 17 7 20 50 20 43 0 50 3
50 20 0 18 -7 20 -70 20 l-70 0 0 -100z`}),E.createElement("path",{d:`M2245 964 c-82 -7 -239 -13 -347 -13 -169 -1 -198 -3 -198 -16 0 -8
-6 -15 -13 -15 -10 0 -8 -55 6 -267 9 -148 16 -339 15 -426 -2 -120 0 -157 10
-157 6 0 12 -7 12 -15 0 -18 5 -18 235 0 99 8 269 15 378 15 168 0 197 2 197
15 0 8 7 15 16 15 13 0 14 11 9 68 -16 196 -25 395 -25 578 0 175 -2 204 -15
204 -8 0 -15 7 -15 15 0 18 -45 18 -265 -1z m259 -91 c4 -54 8 -117 11 -139
l4 -42 -62 -4 c-36 -3 -64 -1 -66 5 -8 21 -74 87 -107 108 -33 20 -34 23 -34
84 l0 63 88 7 c48 3 96 7 107 9 55 9 53 12 59 -91z m-270 31 c11 -84 11 -84
-31 -72 -51 14 -140 5 -190 -20 l-41 -19 -4 66 c-2 36 -3 67 -3 68 0 1 52 6
115 11 63 5 122 10 131 11 12 1 18 -11 23 -45z m-280 -44 l7 -71 -44 -43 c-25
-24 -52 -57 -61 -74 -14 -28 -20 -30 -78 -34 -35 -2 -64 -3 -66 -2 -5 3 -23
266 -19 271 3 2 49 8 103 12 170 14 150 21 158 -59z m274 -91 c18 -7 22 -16
22 -53 l0 -44 -117 -7 c-65 -3 -126 -9 -135 -11 -14 -4 -18 1 -20 28 l-1 33
-4 -32 c-4 -27 -9 -33 -29 -33 -34 0 -30 12 15 53 85 76 178 99 269 66z m86
-58 c23 -25 21 -28 -19 -33 -28 -3 -30 -1 -33 35 -3 34 -1 37 15 29 10 -6 27
-20 37 -31z m209 -138 c4 -58 7 -123 7 -145 l0 -38 -46 0 -46 0 7 48 c7 54 -9
161 -31 204 l-14 27 43 4 c23 2 49 4 58 5 13 2 17 -15 22 -105z m-159 57 c27
-69 38 -133 31 -192 l-7 -58 -52 0 -53 0 -9 140 -9 139 35 4 c19 2 38 4 41 5
4 1 14 -16 23 -38z m-110 -32 c3 -35 8 -99 11 -144 l6 -81 -133 -9 c-73 -6
-134 -10 -135 -9 -2 1 -21 279 -19 282 1 1 53 6 116 11 63 5 123 10 132 11 13
1 17 -11 22 -61z m-279 -65 c3 -60 8 -124 11 -144 l5 -36 -130 -9 -131 -9 -4
40 c-3 22 -8 85 -11 141 l-6 101 57 6 c32 3 60 4 62 2 9 -9 -24 -75 -38 -75
-14 0 -14 -10 -6 -84 l9 -84 52 62 c45 52 50 62 36 70 -9 5 -17 10 -19 11 -4
4 29 88 41 103 5 6 22 12 37 12 l28 0 7 -107z m565 -190 c0 -21 3 -81 6 -134
l7 -97 -89 -6 c-49 -4 -105 -9 -125 -11 l-36 -5 -9 134 -9 134 45 5 c25 3 46
4 48 2 2 -2 -2 -13 -8 -25 -10 -18 -9 -24 1 -31 25 -16 37 -9 49 25 11 36 22
41 93 45 25 1 27 -2 27 -36z m-266 -60 c4 -43 9 -103 12 -134 l5 -57 -133 -8
-133 -9 -7 60 c-3 33 -8 92 -11 132 l-4 71 86 7 c47 3 95 7 106 9 74 12 73 13
79 -71z m-280 -50 c4 -60 9 -120 11 -134 l4 -26 -127 -10 c-70 -5 -130 -7
-133 -4 -4 3 -10 63 -14 133 l-7 126 74 6 c40 3 89 8 108 9 86 9 77 19 84
-100z`}),E.createElement("path",{d:`M2010 510 c0 -93 1 -100 20 -100 17 0 20 7 20 40 0 40 0 40 40 40 33
0 40 3 40 20 0 17 -7 20 -40 20 -33 0 -40 3 -40 20 0 17 7 20 50 20 43 0 50 3
50 20 0 18 -7 20 -70 20 l-70 0 0 -100z`}),E.createElement("path",{d:`M2198 570 c5 -44 32 -58 32 -16 0 33 -10 56 -24 56 -7 0 -10 -14 -8
-40z`}))),Ig=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"163.61648999999997 0.6993216216216216 95.85 96.75675675675676",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:95.85,height:96.75675675675676,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M240 965 c0 -8 -6 -15 -12 -15 -10 0 -12 -32 -10 -135 2 -74 -4 -243
-12 -377 -20 -307 -20 -338 -1 -338 9 0 12 -6 9 -15 -5 -13 21 -15 197 -15
112 0 283 -7 379 -15 222 -19 230 -19 230 0 0 8 7 15 16 15 15 0 16 13 10 123
-6 108 7 396 29 660 5 56 4 67 -9 67 -9 0 -16 7 -16 15 0 13 -28 15 -187 15
-104 0 -269 7 -368 15 -234 19 -255 19 -255 0z m183 -10 c85 -7 89 -8 83 -28
-3 -12 -6 -42 -6 -67 -1 -42 -3 -47 -45 -72 -24 -15 -57 -45 -72 -67 -21 -31
-33 -40 -48 -36 -11 3 -37 5 -59 5 l-39 0 8 133 c4 72 9 136 12 140 3 5 21 6
42 3 20 -3 76 -8 124 -11z m271 -21 l98 -6 -6 -45 c-3 -25 -6 -56 -6 -68 l0
-22 -40 19 c-49 25 -147 34 -191 19 -18 -6 -33 -10 -34 -9 -1 2 0 31 3 66 l5
63 36 -5 c20 -3 80 -8 135 -12z m304 -20 l64 -6 -7 -136 c-4 -76 -8 -137 -9
-138 0 -1 -31 1 -67 4 -65 4 -65 5 -93 48 -15 24 -42 56 -60 72 -32 27 -33 28
-28 100 l4 73 67 -6 c36 -3 95 -8 129 -11z m-278 -160 c25 -12 63 -41 85 -63
l39 -41 -32 0 c-28 0 -32 4 -33 28 l-2 27 -4 -28 c-3 -20 -9 -27 -21 -23 -9 3
-70 8 -134 12 l-118 6 6 42 c8 51 14 57 61 66 52 9 100 1 153 -26z m-228 -45
c-3 -30 -8 -39 -19 -35 -8 3 -24 6 -36 6 -19 0 -18 3 13 35 19 19 37 35 40 35
3 0 4 -18 2 -41z m-176 -39 l31 0 -19 -57 c-15 -42 -19 -77 -16 -140 l3 -83
-48 0 -49 0 7 113 c9 167 12 180 38 173 12 -3 36 -6 53 -6z m170 -54 c-3 -22
-8 -85 -12 -138 l-6 -98 -49 0 c-44 0 -49 2 -55 26 -12 48 2 177 23 219 20 39
23 41 63 37 l41 -4 -5 -42z m197 28 l89 -6 -7 -86 c-13 -186 -16 -203 -34
-198 -9 3 -69 8 -134 12 l-118 7 5 26 c3 14 8 79 12 144 l6 117 47 -5 c25 -2
86 -7 134 -11z m186 -53 c26 -61 26 -66 2 -77 -16 -8 -13 -15 35 -71 l53 -62
6 67 c4 37 9 75 11 85 4 12 0 17 -13 17 -12 0 -22 12 -30 37 -6 21 -11 39 -9
40 1 1 28 -1 60 -4 l58 -6 -7 -141 c-4 -78 -8 -141 -9 -142 0 0 -59 4 -130 10
l-129 9 7 96 c3 53 6 117 6 144 0 47 0 47 34 47 31 0 35 -4 55 -49z m-547
-227 c3 -2 9 -18 13 -34 7 -30 19 -37 43 -22 10 7 10 15 2 37 -10 27 -10 28
21 21 17 -3 40 -6 51 -6 16 0 18 -6 14 -47 -3 -27 -8 -87 -12 -134 l-6 -87
-36 4 c-20 2 -77 6 -125 10 l-88 6 6 91 c3 51 8 112 11 136 l6 43 46 -7 c26
-4 50 -9 54 -11z m350 -20 l77 -6 -6 -112 c-9 -167 6 -153 -151 -142 -116 7
-132 10 -128 25 3 9 8 69 12 134 l7 119 56 -6 c31 -3 91 -8 133 -12z m268 -19
l85 -6 -8 -132 c-4 -72 -9 -131 -10 -132 -1 -1 -60 3 -131 8 l-129 10 7 90 c3
50 6 110 6 134 l0 45 48 -6 c26 -3 85 -8 132 -11z`}),E.createElement("path",{d:`M560 510 c0 -93 1 -100 20 -100 17 0 20 7 20 40 0 40 0 40 40 40 33
0 40 3 40 20 0 17 -7 20 -40 20 -33 0 -40 3 -40 20 0 17 7 20 50 20 43 0 50 3
50 20 0 18 -7 20 -70 20 l-70 0 0 -100z`}),E.createElement("path",{d:`M2245 964 c-82 -7 -239 -13 -347 -13 -169 -1 -198 -3 -198 -16 0 -8
-6 -15 -13 -15 -10 0 -8 -55 6 -267 9 -148 16 -339 15 -426 -2 -120 0 -157 10
-157 6 0 12 -7 12 -15 0 -18 5 -18 235 0 99 8 269 15 378 15 168 0 197 2 197
15 0 8 7 15 16 15 13 0 14 11 9 68 -16 196 -25 395 -25 578 0 175 -2 204 -15
204 -8 0 -15 7 -15 15 0 18 -45 18 -265 -1z m259 -91 c4 -54 8 -117 11 -139
l4 -42 -62 -4 c-36 -3 -64 -1 -66 5 -8 21 -74 87 -107 108 -33 20 -34 23 -34
84 l0 63 88 7 c48 3 96 7 107 9 55 9 53 12 59 -91z m-270 31 c11 -84 11 -84
-31 -72 -51 14 -140 5 -190 -20 l-41 -19 -4 66 c-2 36 -3 67 -3 68 0 1 52 6
115 11 63 5 122 10 131 11 12 1 18 -11 23 -45z m-280 -44 l7 -71 -44 -43 c-25
-24 -52 -57 -61 -74 -14 -28 -20 -30 -78 -34 -35 -2 -64 -3 -66 -2 -5 3 -23
266 -19 271 3 2 49 8 103 12 170 14 150 21 158 -59z m274 -91 c18 -7 22 -16
22 -53 l0 -44 -117 -7 c-65 -3 -126 -9 -135 -11 -14 -4 -18 1 -20 28 l-1 33
-4 -32 c-4 -27 -9 -33 -29 -33 -34 0 -30 12 15 53 85 76 178 99 269 66z m86
-58 c23 -25 21 -28 -19 -33 -28 -3 -30 -1 -33 35 -3 34 -1 37 15 29 10 -6 27
-20 37 -31z m209 -138 c4 -58 7 -123 7 -145 l0 -38 -46 0 -46 0 7 48 c7 54 -9
161 -31 204 l-14 27 43 4 c23 2 49 4 58 5 13 2 17 -15 22 -105z m-159 57 c27
-69 38 -133 31 -192 l-7 -58 -52 0 -53 0 -9 140 -9 139 35 4 c19 2 38 4 41 5
4 1 14 -16 23 -38z m-110 -32 c3 -35 8 -99 11 -144 l6 -81 -133 -9 c-73 -6
-134 -10 -135 -9 -2 1 -21 279 -19 282 1 1 53 6 116 11 63 5 123 10 132 11 13
1 17 -11 22 -61z m-279 -65 c3 -60 8 -124 11 -144 l5 -36 -130 -9 -131 -9 -4
40 c-3 22 -8 85 -11 141 l-6 101 57 6 c32 3 60 4 62 2 9 -9 -24 -75 -38 -75
-14 0 -14 -10 -6 -84 l9 -84 52 62 c45 52 50 62 36 70 -9 5 -17 10 -19 11 -4
4 29 88 41 103 5 6 22 12 37 12 l28 0 7 -107z m565 -190 c0 -21 3 -81 6 -134
l7 -97 -89 -6 c-49 -4 -105 -9 -125 -11 l-36 -5 -9 134 -9 134 45 5 c25 3 46
4 48 2 2 -2 -2 -13 -8 -25 -10 -18 -9 -24 1 -31 25 -16 37 -9 49 25 11 36 22
41 93 45 25 1 27 -2 27 -36z m-266 -60 c4 -43 9 -103 12 -134 l5 -57 -133 -8
-133 -9 -7 60 c-3 33 -8 92 -11 132 l-4 71 86 7 c47 3 95 7 106 9 74 12 73 13
79 -71z m-280 -50 c4 -60 9 -120 11 -134 l4 -26 -127 -10 c-70 -5 -130 -7
-133 -4 -4 3 -10 63 -14 133 l-7 126 74 6 c40 3 89 8 108 9 86 9 77 19 84
-100z`}),E.createElement("path",{d:`M2010 510 c0 -93 1 -100 20 -100 17 0 20 7 20 40 0 40 0 40 40 40 33
0 40 3 40 20 0 17 -7 20 -40 20 -33 0 -40 3 -40 20 0 17 7 20 50 20 43 0 50 3
50 20 0 18 -7 20 -70 20 l-70 0 0 -100z`}),E.createElement("path",{d:`M2198 570 c5 -44 32 -58 32 -16 0 33 -10 56 -24 56 -7 0 -10 -14 -8
-40z`}))),bg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"21.70125 4.8040540540540535 83.42999999999999 89.1891891891892",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.42999999999999,height:89.1891891891892,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -60 0 -60 0 0 115 c0 98 -2 115 -16 115 -14 0 -15 -15 -12
-115 l3 -115 -57 0 -58 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138
-130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z m270 0
l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-687 -285 l-2 -138
-56 0 -55 0 0 138 0 137 58 0 57 0 -2 -137z m147 -1 l0 -137 -60 0 -60 0 0
137 0 138 60 0 60 0 0 -138z m270 0 l0 -137 -130 0 -130 0 0 137 0 138 130 0
130 0 0 -138z m270 1 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z
m-680 -204 c0 -51 0 -51 -29 -46 l-28 6 31 -73 c17 -41 32 -73 34 -71 2 1 19
35 37 75 l35 72 -30 -7 -30 -7 0 51 0 51 60 0 60 0 0 -135 0 -135 -130 0 -130
0 0 135 0 135 60 0 60 0 0 -51z m410 -84 l0 -135 -130 0 -130 0 0 135 0 135
130 0 130 0 0 -135z m270 0 l0 -135 -124 0 -125 0 -3 135 -3 135 128 0 127 0
0 -135z`}),E.createElement("path",{d:`M566 601 c-4 -5 -5 -48 -4 -95 l3 -86 68 0 c61 0 67 2 67 21 0 18 -5
20 -52 17 l-53 -3 -1 75 c-1 68 -13 97 -28 71z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -60 0 -60 0 0 51 c0 49 1 51 25 47 14 -3 25 -2 25 2 0 4 -14
38 -31 75 l-32 67 -24 -58 c-14 -33 -29 -63 -34 -68 -17 -18 -9 -26 21 -19
l30 6 0 -52 0 -51 -60 0 -60 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-689 -288 l0
-135 -55 0 -56 -1 0 139 0 138 56 -3 55 -3 0 -135z m149 2 l0 -137 -60 -1 -60
-1 0 139 0 138 60 0 60 0 0 -138z m270 1 l0 -138 -130 -1 -130 0 0 138 0 138
130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0
-137z m-688 -268 c-3 -100 -2 -115 12 -115 14 0 16 17 16 115 l0 115 60 0 60
0 0 -135 0 -135 -130 0 -130 0 0 135 0 135 58 0 57 0 -3 -115z m418 -20 l0
-135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270 0 l0 -135 -124 0
-125 0 -3 135 -3 135 128 0 127 0 0 -135z`}),E.createElement("path",{d:`M2019 606 c-2 -2 -3 -45 -1 -95 l3 -91 65 0 c58 0 64 2 64 21 0 18
-5 20 -52 17 l-53 -3 -1 74 c0 65 -9 93 -25 77z`}),E.createElement("path",{d:`M2140 570 c0 -29 4 -40 15 -40 11 0 15 11 15 40 0 29 -4 40 -15 40
-11 0 -15 -11 -15 -40z`}))),_g=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"167.71724999999998 5.233108108108108 83.16 87.56756756756758",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.16,height:87.56756756756758,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -60 0 -60 0 0 115 c0 98 -2 115 -16 115 -14 0 -15 -15 -12
-115 l3 -115 -57 0 -58 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138
-130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z m270 0
l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-687 -285 l-2 -138
-56 0 -55 0 0 138 0 137 58 0 57 0 -2 -137z m147 -1 l0 -137 -60 0 -60 0 0
137 0 138 60 0 60 0 0 -138z m270 0 l0 -137 -130 0 -130 0 0 137 0 138 130 0
130 0 0 -138z m270 1 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z
m-680 -204 c0 -51 0 -51 -29 -46 l-28 6 31 -73 c17 -41 32 -73 34 -71 2 1 19
35 37 75 l35 72 -30 -7 -30 -7 0 51 0 51 60 0 60 0 0 -135 0 -135 -130 0 -130
0 0 135 0 135 60 0 60 0 0 -51z m410 -84 l0 -135 -130 0 -130 0 0 135 0 135
130 0 130 0 0 -135z m270 0 l0 -135 -124 0 -125 0 -3 135 -3 135 128 0 127 0
0 -135z`}),E.createElement("path",{d:`M566 601 c-4 -5 -5 -48 -4 -95 l3 -86 68 0 c61 0 67 2 67 21 0 18 -5
20 -52 17 l-53 -3 -1 75 c-1 68 -13 97 -28 71z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -60 0 -60 0 0 51 c0 49 1 51 25 47 14 -3 25 -2 25 2 0 4 -14
38 -31 75 l-32 67 -24 -58 c-14 -33 -29 -63 -34 -68 -17 -18 -9 -26 21 -19
l30 6 0 -52 0 -51 -60 0 -60 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0 -137z m-689 -288 l0
-135 -55 0 -56 -1 0 139 0 138 56 -3 55 -3 0 -135z m149 2 l0 -137 -60 -1 -60
-1 0 139 0 138 60 0 60 0 0 -138z m270 1 l0 -138 -130 -1 -130 0 0 138 0 138
130 0 130 0 0 -137z m270 0 l0 -138 -125 0 -125 0 0 138 0 137 125 0 125 0 0
-137z m-688 -268 c-3 -100 -2 -115 12 -115 14 0 16 17 16 115 l0 115 60 0 60
0 0 -135 0 -135 -130 0 -130 0 0 135 0 135 58 0 57 0 -3 -115z m418 -20 l0
-135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270 0 l0 -135 -124 0
-125 0 -3 135 -3 135 128 0 127 0 0 -135z`}),E.createElement("path",{d:`M2019 606 c-2 -2 -3 -45 -1 -95 l3 -91 65 0 c58 0 64 2 64 21 0 18
-5 20 -52 17 l-53 -3 -1 74 c0 65 -9 93 -25 77z`}),E.createElement("path",{d:`M2140 570 c0 -29 4 -40 15 -40 11 0 15 11 15 40 0 29 -4 40 -15 40
-11 0 -15 -11 -15 -40z`}))),Ng=e=>E.createElement("svg",{fill:"current",stroke:"current",preserveAspectRatio:"xMidYMid meet",viewBox:"22.355999999999998 5.837837837837838 82.35 87.29729729729729",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:82.35,height:87.29729729729729,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -55 0 -55 0 0 51 c0 50 1 51 25 46 14 -2 24 -1 23 2 -2 4 -16
38 -33 75 l-29 68 -33 -72 c-18 -40 -33 -74 -33 -75 0 -1 11 0 25 3 24 4 25 2
25 -47 l0 -51 -55 0 -55 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0
-130 0 0 138 0 137 130 0 130 0 0 -137z m130 -2 l0 -138 -55 1 -55 0 0 138 0
138 55 0 55 0 0 -139z m140 1 l0 -138 -55 -2 -55 -2 0 140 0 140 55 0 55 0 0
-138z m-540 -287 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270
0 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m130 20 c0 -96 3
-115 15 -115 12 0 15 19 15 115 l0 115 55 0 55 0 0 -135 0 -135 -124 0 -125 0
-3 135 -3 135 58 0 57 0 0 -115z`}),E.createElement("path",{d:`M570 605 c-1 0 -2 -43 -3 -95 -2 -78 1 -95 13 -95 11 0 14 9 12 38
-5 51 19 50 54 -3 15 -22 33 -40 40 -40 20 0 17 8 -13 44 l-26 31 26 3 c26 3
27 6 27 60 l0 57 -65 0 c-36 0 -65 0 -65 0z m100 -55 c0 -17 -7 -20 -40 -20
-33 0 -40 3 -40 20 0 17 7 20 40 20 33 0 40 -3 40 -20z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -55 0 -55 0 0 115 c0 96 -3 115 -15 115 -12 0 -15 -19 -15
-115 l0 -115 -55 0 -55 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0 -138
-130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0 -130 0
0 138 0 137 130 0 130 0 0 -137z m130 -1 l0 -138 -55 0 -55 1 0 138 0 137 55
0 55 0 0 -138z m140 1 l0 -138 -55 -1 -55 0 0 138 0 138 55 0 55 0 0 -137z
m-540 -288 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270 0 l0
-135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m130 84 c0 -50 -1 -51
-25 -45 -14 4 -25 5 -25 3 0 -3 15 -36 33 -75 l33 -71 29 66 c17 37 32 71 33
75 2 5 -8 6 -22 2 -25 -6 -26 -5 -26 45 l0 51 55 0 55 0 0 -135 0 -135 -124 0
-125 0 -3 135 -3 135 58 0 57 0 0 -51z`}),E.createElement("path",{d:`M2000 507 c0 -75 3 -98 13 -94 6 2 12 20 12 40 0 29 4 37 18 37 9 0
17 -4 17 -8 0 -15 58 -77 65 -70 4 4 -4 23 -19 43 l-27 35 25 0 c25 0 26 3 26
58 l0 57 -65 0 -65 0 0 -98z m108 41 c3 -15 -4 -18 -41 -18 -41 0 -45 2 -40
21 5 16 12 19 42 17 25 -2 37 -8 39 -20z`}),E.createElement("path",{d:"M2160 571 c0 -29 4 -41 15 -41 10 0 14 10 12 37 -3 52 -27 56 -27 4z"}))),Pg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"168.09875999999997 5.45945945945946 83.42999999999999 88.10810810810811",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.42999999999999,height:88.10810810810811,...e},E.createElement("metadata",null,`\r
        Created by potrace 1.10, written by Peter Selinger 2001-2011\r
    `),E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -55 0 -55 0 0 51 c0 50 1 51 25 46 14 -2 24 -1 23 2 -2 4 -16
38 -33 75 l-29 68 -33 -72 c-18 -40 -33 -74 -33 -75 0 -1 11 0 25 3 24 4 25 2
25 -47 l0 -51 -55 0 -55 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0
-138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0
-130 0 0 138 0 137 130 0 130 0 0 -137z m130 -2 l0 -138 -55 1 -55 0 0 138 0
138 55 0 55 0 0 -139z m140 1 l0 -138 -55 -2 -55 -2 0 140 0 140 55 0 55 0 0
-138z m-540 -287 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270
0 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m130 20 c0 -96 3
-115 15 -115 12 0 15 19 15 115 l0 115 55 0 55 0 0 -135 0 -135 -124 0 -125 0
-3 135 -3 135 58 0 57 0 0 -115z`}),E.createElement("path",{d:`M570 605 c-1 0 -2 -43 -3 -95 -2 -78 1 -95 13 -95 11 0 14 9 12 38
-5 51 19 50 54 -3 15 -22 33 -40 40 -40 20 0 17 8 -13 44 l-26 31 26 3 c26 3
27 6 27 60 l0 57 -65 0 c-36 0 -65 0 -65 0z m100 -55 c0 -17 -7 -20 -40 -20
-33 0 -40 3 -40 20 0 17 7 20 40 20 33 0 40 -3 40 -20z`}),E.createElement("path",{d:`M1680 510 l0 -440 415 0 415 0 0 440 0 440 -415 0 -415 0 0 -440z
m270 288 l0 -138 -130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0
-138 -130 0 -130 0 0 133 c0 74 2 136 4 138 2 2 61 4 130 4 l126 0 0 -137z
m270 0 l0 -138 -55 0 -55 0 0 115 c0 96 -3 115 -15 115 -12 0 -15 -19 -15
-115 l0 -115 -55 0 -55 0 0 138 0 137 125 0 125 0 0 -137z m-540 -285 l0 -138
-130 0 -130 0 0 138 0 137 130 0 130 0 0 -137z m270 0 l0 -138 -130 0 -130 0
0 138 0 137 130 0 130 0 0 -137z m130 -1 l0 -138 -55 0 -55 1 0 138 0 137 55
0 55 0 0 -138z m140 1 l0 -138 -55 -1 -55 0 0 138 0 138 55 0 55 0 0 -137z
m-540 -288 l0 -135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m270 0 l0
-135 -130 0 -130 0 0 135 0 135 130 0 130 0 0 -135z m130 84 c0 -50 -1 -51
-25 -45 -14 4 -25 5 -25 3 0 -3 15 -36 33 -75 l33 -71 29 66 c17 37 32 71 33
75 2 5 -8 6 -22 2 -25 -6 -26 -5 -26 45 l0 51 55 0 55 0 0 -135 0 -135 -124 0
-125 0 -3 135 -3 135 58 0 57 0 0 -51z`}),E.createElement("path",{d:`M2000 507 c0 -75 3 -98 13 -94 6 2 12 20 12 40 0 29 4 37 18 37 9 0
17 -4 17 -8 0 -15 58 -77 65 -70 4 4 -4 23 -19 43 l-27 35 25 0 c25 0 26 3 26
58 l0 57 -65 0 -65 0 0 -98z m108 41 c3 -15 -4 -18 -41 -18 -41 0 -45 2 -40
21 5 16 12 19 42 17 25 -2 37 -8 39 -20z`}),E.createElement("path",{d:"M2160 571 c0 -29 4 -41 15 -41 10 0 14 10 12 37 -3 52 -27 56 -27 4z"}))),Fg=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"21.488625000000003 4.54054054054054 83.42999999999999 89.1891891891892",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.42999999999999,height:89.1891891891892,...e},E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 410 0 410 0 0 440 0 440 -410 0 -410 0 0 -440z
m270 364 l0 -65 -47 3 c-46 3 -48 4 -45 31 l4 28 -66 -33 c-36 -18 -66 -35
-66 -38 0 -3 30 -20 66 -38 l67 -33 -5 25 c-5 25 -3 26 43 26 l49 0 0 -60 0
-60 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -66z m270 1 l0 -65 -130 0 -130
0 0 65 0 65 130 0 130 0 0 -65z m270 -75 l0 -141 -127 3 -128 3 -3 57 -3 57
107 3 c73 2 109 7 111 15 3 9 -24 13 -104 15 l-108 3 -3 49 c-5 78 -8 76 133
76 l125 0 0 -140z m-270 -80 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0
-60z m-270 -210 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270
0 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127
3 -128 3 -3 124 c-1 69 0 131 2 138 4 10 37 13 131 13 l125 0 0 -140z m-540
-290 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140
-130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3
-3 138 -3 137 131 0 130 0 0 -140z`}),E.createElement("path",{d:`M570 510 l0 -90 65 0 65 0 0 90 c0 73 -3 90 -15 90 -12 0 -15 -14
-15 -70 l0 -70 -40 0 -40 0 0 70 c0 40 -4 70 -10 70 -6 0 -10 -37 -10 -90z`}),E.createElement("path",{d:`M1680 510 l0 -440 410 0 410 0 0 440 0 440 -410 0 -410 0 0 -440z
m270 365 l0 -65 -111 0 c-84 0 -110 -3 -107 -12 3 -9 37 -14 111 -16 l107 -3
0 -59 0 -60 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -65z m270 0 l0 -65 -130
0 -130 0 0 65 0 65 130 0 130 0 0 -65z m270 -75 l0 -140 -130 0 -130 0 0 60 0
60 51 0 c50 0 51 -1 45 -25 l-6 -25 65 32 c36 18 65 35 65 38 0 3 -29 20 -65
38 l-64 32 6 -31 6 -30 -49 3 -49 3 -3 49 c-5 78 -8 76 133 76 l125 0 0 -140z
m-270 -80 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m-270 -210 l0
-140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140 -130 0
-130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3 -3 124
c-1 69 0 131 2 138 4 10 37 13 131 13 l125 0 0 -140z m-540 -290 l0 -140 -130
0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140 -130 0 -130 0 0 140
0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3 -3 138 -3 137 131 0
130 0 0 -140z`}),E.createElement("path",{d:`M2000 510 l0 -90 65 0 65 0 0 90 c0 73 -3 90 -15 90 -12 0 -15 -14
-15 -70 l0 -70 -35 0 -35 0 0 70 c0 56 -3 70 -15 70 -12 0 -15 -17 -15 -90z`}),E.createElement("path",{d:`M2160 565 c0 -19 5 -35 10 -35 6 0 10 16 10 35 0 19 -4 35 -10 35 -5
0 -10 -16 -10 -35z`}))),Og=e=>E.createElement("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"167.50125 4.702702702702703 83.42999999999999 89.1891891891892",xmlns:"http://www.w3.org/2000/svg",style:{maxHeight:500},width:83.42999999999999,height:89.1891891891892,...e},E.createElement("g",{stroke:"current",fill:"current",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},E.createElement("path",{d:`M220 510 l0 -440 410 0 410 0 0 440 0 440 -410 0 -410 0 0 -440z
m270 364 l0 -65 -47 3 c-46 3 -48 4 -45 31 l4 28 -66 -33 c-36 -18 -66 -35
-66 -38 0 -3 30 -20 66 -38 l67 -33 -5 25 c-5 25 -3 26 43 26 l49 0 0 -60 0
-60 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -66z m270 1 l0 -65 -130 0 -130
0 0 65 0 65 130 0 130 0 0 -65z m270 -75 l0 -141 -127 3 -128 3 -3 57 -3 57
107 3 c73 2 109 7 111 15 3 9 -24 13 -104 15 l-108 3 -3 49 c-5 78 -8 76 133
76 l125 0 0 -140z m-270 -80 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0
-60z m-270 -210 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270
0 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127
3 -128 3 -3 124 c-1 69 0 131 2 138 4 10 37 13 131 13 l125 0 0 -140z m-540
-290 l0 -140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140
-130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3
-3 138 -3 137 131 0 130 0 0 -140z`}),E.createElement("path",{d:`M570 510 l0 -90 65 0 65 0 0 90 c0 73 -3 90 -15 90 -12 0 -15 -14
-15 -70 l0 -70 -40 0 -40 0 0 70 c0 40 -4 70 -10 70 -6 0 -10 -37 -10 -90z`}),E.createElement("path",{d:`M1680 510 l0 -440 410 0 410 0 0 440 0 440 -410 0 -410 0 0 -440z
m270 365 l0 -65 -111 0 c-84 0 -110 -3 -107 -12 3 -9 37 -14 111 -16 l107 -3
0 -59 0 -60 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -65z m270 0 l0 -65 -130
0 -130 0 0 65 0 65 130 0 130 0 0 -65z m270 -75 l0 -140 -130 0 -130 0 0 60 0
60 51 0 c50 0 51 -1 45 -25 l-6 -25 65 32 c36 18 65 35 65 38 0 3 -29 20 -65
38 l-64 32 6 -31 6 -30 -49 3 -49 3 -3 49 c-5 78 -8 76 133 76 l125 0 0 -140z
m-270 -80 l0 -60 -130 0 -130 0 0 60 0 60 130 0 130 0 0 -60z m-270 -210 l0
-140 -130 0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140 -130 0
-130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3 -3 124
c-1 69 0 131 2 138 4 10 37 13 131 13 l125 0 0 -140z m-540 -290 l0 -140 -130
0 -130 0 0 140 0 140 130 0 130 0 0 -140z m270 0 l0 -140 -130 0 -130 0 0 140
0 140 130 0 130 0 0 -140z m270 0 l0 -141 -127 3 -128 3 -3 138 -3 137 131 0
130 0 0 -140z`}),E.createElement("path",{d:`M2000 510 l0 -90 65 0 65 0 0 90 c0 73 -3 90 -15 90 -12 0 -15 -14
-15 -70 l0 -70 -35 0 -35 0 0 70 c0 56 -3 70 -15 70 -12 0 -15 -17 -15 -90z`}),E.createElement("path",{d:`M2160 565 c0 -19 5 -35 10 -35 6 0 10 16 10 35 0 19 -4 35 -10 35 -5
0 -10 -16 -10 -35z`}))),Bg={R:Ng,"R'":Pg,L:bg,"L'":_g,F:Ag,"F'":Ig,D:Lg,"D'":Rg,B:Cg,"B'":Dg,U:Fg,"U'":Og},jg=e=>Bg[e],Rn=Object.freeze({RED:"red",GREEN:"green",YELLOW:"#E49B0F",WHITE:"white",GRAY:"gray"});class mr{constructor(t,n,r=Rn.WHITE,i=!1){this.move=t,this.index=n,this.color=r,this.isCurrent=i}}const Ug=(e,t)=>new F(e.slice(t).join(" ")).experimentalSimplify({cancel:!0,puzzleLoader:ts}).invert().toString().split(" ").map((n,r)=>new mr(n,r,Rn.RED)),Vg=(e,t,n,r)=>e===0&&t.length>1&&n.length===t.length&&n.every((i,s)=>i===t[s])&&r!==Ie.RUNNING,Wg=({className:e=""})=>{const{scramble:t,connection:n,setTimerState:r,showScramble:i,setShowScramble:s,timerState:a,setScramble:o,lastMoves:l,scrambleDisplay:u,setScrambleDisplay:c,lastScrambleRef:h}=Zl(),{settings:d}=Xl(),f=async()=>{const v=await v8("333"),D=v.toString().split(" ").map((g,y)=>new mr(g,y));h.current=t,o(v),c(D)},p=async v=>{const D=t==null?void 0:t.toString().split(" ");if(a!==Ie.IDLE)return;let g=0,y=0;const w=D==null?void 0:D.map((A,L)=>A===v[L]&&g===0?new mr(A,L,Rn.GRAY):L>v.length-1||v[L]===""||A.includes("2")&&A.replace("2","")===v[L].replace(/'/g,"")?new mr(A,L):(A!==v[L]&&g===0&&(g++,y=L,A.replace(/'/g,""),v[L].replace(/'/g,"")),g>0?(g++,new mr(A,L,Rn.RED)):new mr(A,L))),k=w?w.findIndex(A=>A.color===Rn.WHITE):0,I=w==null?void 0:w.map((A,L)=>new mr(A.move,L,A.color,L===k));g>1?c(Ug(v,y)):c(I),Vg(g,D,v,a)&&(r(Ie.READY),s(!1),await f())};return E.useEffect(()=>{a===Ie.IDLE&&p(O7(l.map(v=>v.move))).then()},[l,a]),E.useEffect(()=>{f().then()},[]),E.useEffect(()=>{s(!!n)},[n]),x.jsx(x.Fragment,{children:i&&a===Ie.IDLE&&x.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${e}`,children:[x.jsx("div",{className:"flex justify-between items-center mb-2",children:x.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Scramble"})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-md font-mono text-sm md:text-base overflow-x-auto",children:x.jsx("div",{className:"whitespace-normal break-all leading-relaxed text-gray-900 dark:text-gray-50",children:u.length>35?x.jsx("div",{className:"text-red-500 px-10 py-2",children:"Cube should be solved"}):u.map(v=>{const D={style:{color:v.color!==Rn.WHITE?v.color:"inherit"},children:v.move};if(d.imageNotation){const g=jg(v.move.replace("2",""));if(g){const y=d.theme==="dark"?"white":"black";return x.jsx("span",{className:`${v.isCurrent?"is-current-move":""} inline-block px-1`,children:x.jsxs("div",{className:"relative",children:[v.move.includes("2")&&x.jsx("span",{className:"absolute -right-2 -top-4",children:"x2"}),x.jsx(g,{fill:v.color!==Rn.WHITE?v.color:y,stroke:v.color!==Rn.WHITE?v.color:y,className:"w-12 h-12"})]})},v.index)}}return x.jsx("span",{className:`${v.isCurrent?"is-current-move":""} inline-block px-1`,children:x.jsx("span",{...D})},v.index)})})})]})})},Js=e=>{if(!e)return"00:00.000";const t=Math.floor(e/1e3),n=Math.floor(t/60),r=t%60,i=e%1e3,s=n.toString().padStart(2,"0"),a=r.toString().padStart(2,"0"),o=i.toString().padStart(3,"0");return`${s}:${a}.${o}`},Gg=e=>e.minutes*60*1e3+e.seconds*1e3+e.milliseconds;class Hg{constructor(t,n,r,i,s){this.originalTime=t,this.formattedTime=n,this.scramble=r,this.solution=i,this.plainSolution=s}toString(){return`Original Time: ${this.originalTime}, Time: ${this.formattedTime}, Scramble: ${this.scramble}, Solution: ${this.solution}, Plain Solution: ${this.plainSolution}`}}const t3=(e,t)=>{var o,l;const n=(l=(o=e.solution)==null?void 0:o.split(" "))==null?void 0:l.length,r=Lm(e.originalTime.asTimestamp,n),i={movesCount:n,tps:r};if(!t)return i;const s=e.originalTime.asTimestamp-t.originalTime.asTimestamp,a={formattedTime:Js(Math.abs(s)),sign:Math.sign(s)};return{...i,formattedTimeDiff:a}},$g=e=>{const t=e.solution.split(" ").length,n=Lm(e.originalTime.asTimestamp,t),i=new Date(e.date).toLocaleString();return`Time: ${e.formattedTime}
Date: ${i}
Scramble: ${e.scramble}
Solution: ${e==null?void 0:e.solution}
Moves: ${t}
TPS: ${n}`},Lm=(e,t)=>(t*1/Math.floor(e/1e3)).toFixed(1),Qg=({times:e,className:t=""})=>{var a,o;const n=()=>{if(e.length===0)return{};const l=e.reduce((f,p)=>p.originalTime.asTimestamp<f.originalTime.asTimestamp?p:f),u=e[e.length-1],c=e.length>=5&&r(e.slice(-5)),h=e.length>=12&&r(e.slice(-12)),d=e.length>1?t3(u,e[e.length-2]):t3(u);return{current:u,best:l,avg5:c,avg12:h,currentStats:d}},r=l=>{if(l.length===0)return 0;if(l.length<3)return l.reduce((d,f)=>d+f.originalTime.asTimestamp,0)/l.length;let u=l[0],c=l[0],h=0;return l.forEach(d=>{const f=d.originalTime.asTimestamp;h+=f,f<u.originalTime.asTimestamp&&(u=d),f>c.originalTime.asTimestamp&&(c=d)}),(h-u.originalTime.asTimestamp-c.originalTime.asTimestamp)/(l.length-2)},i=n(),s=[{label:"Current",value:(a=i.current)==null?void 0:a.formattedTime,icon:x.jsx(t6,{size:18})},{label:"Best",value:(o=i.best)==null?void 0:o.formattedTime,icon:x.jsx(J5,{size:18})},{label:"Avg5",value:(i==null?void 0:i.avg5)&&Js(i.avg5.toFixed(0)),icon:x.jsx(u6,{size:18})},{label:"Avg12",value:i.avg12&&Js(i.avg12.toFixed(0)),icon:x.jsx(e6,{size:18})}];return x.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${t}`,children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Statistics"}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:s.map((l,u)=>{var c,h,d,f;return x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-md flex flex-col items-center justify-center",children:[x.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 mb-1",children:[l.icon,x.jsx("span",{className:"ml-1 text-xs font-medium",children:l.label})]}),x.jsxs("div",{className:"font-mono font-semibold flex-col text-lg text-gray-900 dark:text-white",children:[x.jsx("div",{className:l.value===((c=i.best)==null?void 0:c.formattedTime)&&l.label==="Current"?"flex justify-center text-green-600 dark:text-green-400":"flex justify-center",children:l.value}),l.label==="Current"&&((h=i==null?void 0:i.currentStats)==null?void 0:h.formattedTimeDiff)&&x.jsx(x.Fragment,{children:x.jsx("div",{className:i.currentStats.formattedTimeDiff.sign===1?"text-red-600 dark:text-red-400 text-xs flex justify-center":"text-green-600 dark:text-green-400 text-xs flex justify-center",children:x.jsx("p",{children:`(${i.currentStats.formattedTimeDiff.sign===1?"+":"-"}${i.currentStats.formattedTimeDiff.formattedTime})`})})}),l.label==="Current"&&l.value&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-center ml-1 text-xs text-gray-500 dark:text-gray-400",children:["Moves:"," ",x.jsx("p",{className:"text-gray-900 dark:text-white text-xs",children:(d=i.currentStats)==null?void 0:d.movesCount})]}),x.jsxs("div",{className:"flex justify-center ml-1 text-xs text-gray-500 dark:text-gray-400",children:["TPS:"," ",x.jsx("p",{className:"text-gray-900 text-xs dark:text-white",children:(f=i.currentStats)==null?void 0:f.tps})]})]})]})]},u)})})]})},qg=e=>{const t=e.split(" "),n=[];let r=t[0],i=1;for(let s=1;s<=t.length;s++)t[s]===r?i++:(n.push(i>1?`${r}${i}`:r),r=t[s],i=1);return n.join(" ")},Yg=({onSaveTime:e})=>{const{twistyPlayerRef:t,timerState:n,setTimerState:r,timerStateRef:i,solutionMovesRef:s,setShowScramble:a,setLastMoves:o,lastScrambleRef:l,connectionRef:u}=Zl(),c=E.useRef(null),[h,d]=E.useState(!1),[f,p]=E.useState(""),v=E.useRef(null),D=E.useCallback(()=>{w();const A=hg(s.current).slice(-1).pop(),{formattedTime:L,originalTime:B}=g(A?A.cubeTimestamp:0),q=s.current.map(te=>te.move).join(" "),N=qg(q),U=new Hg(B,L,l.current.toString(),N);d(!1),e(U),k(),a(!0)},[e,a]),g=E.useCallback(I=>{const A=ng(I),L=Js(Gg(A));return p(L),{formattedTime:L,originalTime:A}},[]),y=E.useCallback(()=>{const I=new Date().getTime();c.current=eg(30).subscribe(()=>{if(u.current)return g(new Date().getTime()-I);d(!1),k(),w()})},[u,g]),w=E.useCallback(()=>{var I;(I=c.current)==null||I.unsubscribe(),c.current=null},[]),k=E.useCallback(()=>{o([]),s.current=[],r(Ie.IDLE),p(Js(0))},[o,r]);return E.useEffect(()=>{const I=async A=>{P7(A)===Uu&&i.current===Ie.RUNNING&&(r(Ie.STOPPED),t.current.alg="")};return t.current&&(v.current=t.current.experimentalModel.currentPattern.addFreshListener(I)),()=>{v.current&&t.current&&t.current.experimentalModel.currentPattern.removeFreshListener(v.current),w()}},[t,i,r,w]),E.useEffect(()=>{switch(n){case Ie.READY:g(0),d(!0);break;case Ie.RUNNING:y();break;case Ie.STOPPED:D();break;case Ie.IDLE:break}},[n,g,y,D]),x.jsx(x.Fragment,{children:h&&x.jsx("div",{id:"timer",className:"font-mono font-semibold text-lg text-gray-900 dark:text-white",children:f})})},Kg=({isOpen:e,onClose:t,onDelete:n})=>{const r=()=>{t()},i=()=>{n(),r()};return x.jsx("div",{children:e&&x.jsx("dialog",{open:!0,className:"modal",children:x.jsxs("div",{className:"modal-box",children:[x.jsx("h3",{className:"font-bold text-lg",children:"Delete All Solves"}),x.jsx("p",{className:"py-4",children:"Are you sure you want to delete session?"}),x.jsxs("div",{className:"modal-action",children:[x.jsx("button",{className:"p-2 rounded bg-red-700 dark:bg-red-700 text-gray-100 dark:text-gray-300  transition-colors",onClick:i,children:"Delete All"}),x.jsx("button",{className:"p-1.5 rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",onClick:r,children:"Cancel"})]})]})})})},Xg=({onDeleteTimes:e,times:t,onDeleteTime:n,className:r=""})=>{var g,y;const[i,s]=E.useState(null),[a,o]=E.useState(!1),[l,u]=E.useState(!1),c=()=>{u(!0)},h=()=>{u(!1)},d=[...t].sort((w,k)=>new Date(k.date).getTime()-new Date(w.date).getTime()),f=w=>new Date(w).toLocaleDateString()+" "+new Date(w).toLocaleTimeString(),p=w=>{s(w)},v=()=>{s(null)},D=w=>{navigator.clipboard.writeText(w).then(()=>{o(!0),setTimeout(()=>o(!1),1e3)})};return x.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${r}`,children:[x.jsxs("div",{className:"flex mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Session"}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(Kg,{isOpen:l,onClose:h,onDelete:()=>e()}),x.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x.jsx("button",{onClick:c,className:"p-1 rounded text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",title:"Delete all times",children:x.jsx(Sd,{size:16})})})]})]}),t.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No solves recorded yet"}):x.jsxs("div",{className:"overflow-x-auto",children:[x.jsxs("table",{className:"w-full text-sm",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-900 text-left",children:[x.jsx("th",{className:"px-4 py-2 rounded-tl-md dark:text-white",children:"#"}),x.jsx("th",{className:"px-4 py-2 dark:text-white",children:"Time"}),x.jsx("th",{className:"px-4 py-2 dark:text-white",children:"When"}),x.jsx("th",{className:"px-4 py-2 rounded-tr-md dark:text-white",children:"Actions"})]})}),x.jsx("tbody",{children:d.map((w,k)=>x.jsxs("tr",{className:`
                    border-t border-gray-100 dark:border-gray-700
                    ${k%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/50"}
                    hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors
                  `,children:[x.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",children:d.length-k}),x.jsx("td",{onClick:()=>p(w),className:"px-4 py-3 font-mono font-medium text-gray-900 dark:text-white",children:w.formattedTime}),x.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",children:f(w.date)}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("button",{onClick:()=>n(w.id),className:"p-1 rounded text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",title:"Delete time",children:x.jsx(Sd,{size:16})})})]},w.id))})]}),i&&x.jsxs("dialog",{open:!0,className:"modal",children:[x.jsx("div",{className:"modal-box",children:x.jsxs("div",{onClick:()=>D($g(i)),children:[x.jsxs("div",{className:"flex justify-between items-center gap-16",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"Time",children:"Time:"})}),x.jsx("input",{id:"time",type:"text",readOnly:!0,value:i.formattedTime,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1 w-full"})]}),x.jsxs("div",{className:"flex justify-between gap-8",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"Scramble",children:"Scramble:"})}),x.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.scramble,className:"bg-gray-100 dark:bg-gray-800 p-1 rounded flex-1 w-full"})]}),x.jsxs("div",{className:"flex justify-between gap-16",children:[x.jsx("b",{children:x.jsx("label",{className:"x",htmlFor:"date",children:"Date:"})}),x.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.date,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1 w-full"})]}),x.jsxs("div",{className:"flex justify-between gap-1",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"Moves count",children:"Moves count:"})}),x.jsx("input",{id:"time",type:"text",readOnly:!0,value:(y=(g=i==null?void 0:i.solution)==null?void 0:g.split(" "))==null?void 0:y.length,className:"bg-gray-100 dark:bg-gray-800 p-1 rounded flex-1 w-full"})]}),x.jsxs("div",{className:"flex justify-between gap-9",children:[x.jsx("b",{children:x.jsx("label",{htmlFor:"Solution",children:"Solution: "})}),x.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.solution,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1"})]}),a&&x.jsx("div",{className:"absolute center flex right-4",children:x.jsx("span",{className:"copied-message text-green-800",children:"Copied!"})})]})}),x.jsx("form",{method:"dialog",className:"modal-backdrop",children:x.jsx("button",{onClick:v,children:"Close"})})]})]})]})};function Zg(e,t){const n=()=>{if(typeof window>"u")return t;try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn(`Error reading localStorage key "${e}":`,a),t}},[r,i]=E.useState(n),s=a=>{try{const o=a instanceof Function?a(r):a;i(o),typeof window<"u"&&window.localStorage.setItem(e,JSON.stringify(o))}catch(o){console.warn(`Error setting localStorage key "${e}":`,o)}};return E.useEffect(()=>{i(n())},[e]),[r,s]}var zl,oa,I3,t0=(I3=class{constructor(){R(this,zl,0);R(this,oa,0)}queue(e){return new Promise(async(t,n)=>{try{const r=++Oa(this,zl)._,i=await e;r>m(this,oa)&&(C(this,oa,r),t(i))}catch(r){n(r)}})}},zl=new WeakMap,oa=new WeakMap,I3),Rm=0,_n,kr,qi,Im,Nn,bm,Mr,b3,Am=(b3=class{constructor(){R(this,qi);R(this,_n);R(this,kr);R(this,Nn);R(this,Mr);C(this,_n,new Set),this.lastSourceGeneration=0,C(this,kr,new Set),C(this,Nn,!1),C(this,Mr,new Map)}canReuse(e,t){return e===t||this.canReuseValue(e,t)}canReuseValue(e,t){return!1}debugGetChildren(){return Array.from(m(this,_n).values())}addChild(e){m(this,_n).add(e)}removeChild(e){m(this,_n).delete(e)}markStale(e){if(e.detail.generation!==Rm)throw new Error("A TwistyProp was marked stale too late!");if(this.lastSourceGeneration!==e.detail.generation){this.lastSourceGeneration=e.detail.generation;for(const t of m(this,_n))t.markStale(e);H(this,qi,Im).call(this)}}addRawListener(e,t){m(this,kr).add(e),t!=null&&t.initial&&e()}removeRawListener(e){m(this,kr).delete(e)}addFreshListener(e){const t=new t0;let n=null;const r=async()=>{const i=await t.queue(this.get());n!==null&&this.canReuse(n,i)||(n=i,e(i))};m(this,Mr).set(e,r),this.addRawListener(r,{initial:!0})}removeFreshListener(e){this.removeRawListener(m(this,Mr).get(e)),m(this,Mr).delete(e)}},_n=new WeakMap,kr=new WeakMap,qi=new WeakSet,Im=function(){m(this,Nn)||(C(this,Nn,!0),setTimeout(()=>H(this,qi,bm).call(this),0))},Nn=new WeakMap,bm=function(){if(!m(this,Nn))throw new Error("Invalid dispatch state!");for(const e of m(this,kr))e();C(this,Nn,!1)},Mr=new WeakMap,b3),Ut,_3,lr=(_3=class extends Am{constructor(t){super();R(this,Ut);C(this,Ut,tc(()=>this.getDefaultValue())),t&&C(this,Ut,this.deriveFromPromiseOrValue(t,m(this,Ut)))}set(t){C(this,Ut,this.deriveFromPromiseOrValue(t,m(this,Ut)));const n={sourceProp:this,value:m(this,Ut),generation:++Rm};this.markStale(new CustomEvent("stale",{detail:n}))}async get(){return m(this,Ut)}async deriveFromPromiseOrValue(t,n){return this.derive(await t,n)}},Ut=new WeakMap,_3),J=class extends lr{derive(e){return e}},ea=Symbol("no value"),Pn,la,Ti,Yi,_m,Nm,N3,se=(N3=class extends Am{constructor(t,n){super();R(this,Yi);R(this,Pn);R(this,la,null);R(this,Ti,null);this.userVisibleErrorTracker=n,C(this,Pn,t);for(const r of Object.values(t))r.addChild(this)}async get(){var r,i;const t=this.lastSourceGeneration;if(((r=m(this,Ti))==null?void 0:r.generation)===t)return m(this,Ti).output;const n={generation:t,output:H(this,Yi,Nm).call(this,H(this,Yi,_m).call(this),t,m(this,la))};return C(this,Ti,n),(i=this.userVisibleErrorTracker)==null||i.reset(),n.output}},Pn=new WeakMap,la=new WeakMap,Ti=new WeakMap,Yi=new WeakSet,_m=async function(){const t={};for(const[r,i]of Object.entries(m(this,Pn)))t[r]=i.get();const n={};for(const r in m(this,Pn))n[r]=await t[r];return n},Nm=async function(t,n,r=null){const i=await t,s=o=>(C(this,la,{inputs:i,output:Promise.resolve(o),generation:n}),o);if(!r)return s(await this.derive(i));const a=r.inputs;for(const o in m(this,Pn))if(!m(this,Pn)[o].canReuse(i[o],a[o]))return s(await this.derive(i));return r.output},N3),Ci,P3,Na=(P3=class{constructor(){R(this,Ci,[])}addListener(e,t){let n=!1;const r=i=>{n||t(i)};e.addFreshListener(r),m(this,Ci).push(()=>{e.removeFreshListener(r),n=!0})}addMultiListener3(e,t){this.addMultiListener(e,t)}addMultiListener(e,t){let n=!1,r=e.length-1;const i=async s=>{if(r>0){r--;return}if(n)return;const a=e.map(l=>l.get()),o=await Promise.all(a);t(o)};for(const s of e)s.addFreshListener(i);m(this,Ci).push(()=>{for(const s of e)s.removeFreshListener(i);n=!0})}disconnect(){for(const e of m(this,Ci))e()}},Ci=new WeakMap,P3),ns=class{constructor(e){this.animFrameID=null,this.animFrame=this.animFrameWrapper.bind(this),this.callback=e}requestIsPending(){return!!this.animFrameID}requestAnimFrame(){this.animFrameID||(this.animFrameID=requestAnimationFrame(this.animFrame))}cancelAnimFrame(){this.animFrameID&&(cancelAnimationFrame(this.animFrameID),this.animFrameID=0)}animFrameWrapper(e){this.animFrameID=0,this.callback(e)}},$v={floating:!0,none:!0},Jg=class extends J{getDefaultValue(){return"auto"}},e9=Math.PI*2,ta=360/e9,t9=class{},na;globalThis.HTMLElement?na=globalThis.HTMLElement:na=t9;var n9=class{define(){}},Ue;globalThis.customElements?Ue=globalThis.customElements:Ue=new n9;var ht,r9=class{replaceSync(){}};globalThis.CSSStyleSheet?ht=globalThis.CSSStyleSheet:ht=r9;var Tt=class extends na{constructor(e){super(),this.shadow=this.attachShadow({mode:(e==null?void 0:e.mode)??"closed"}),this.contentWrapper=document.createElement("div"),this.contentWrapper.classList.add("wrapper"),this.shadow.appendChild(this.contentWrapper)}addCSS(e){this.shadow.adoptedStyleSheets.push(e)}removeCSS(e){const t=this.shadow.adoptedStyleSheets.indexOf(e);typeof t<"u"&&this.shadow.adoptedStyleSheets.splice(t,t+1)}addElement(e){return this.contentWrapper.appendChild(e)}prependElement(e){this.contentWrapper.prepend(e)}removeElement(e){return this.contentWrapper.removeChild(e)}};Ue.define("twisty-managed-custom-element",Tt);var i9=null;async function Zt(){return i9??(i9=X(()=>import("./twisty-dynamic-3d-QGRCHB6L.sNYXrCS9.js"),[]))}function qu(){return devicePixelRatio||1}var n3=.1,Tr,Cr,Di,wn,Pm,Fm,Yu,F3,s9=(F3=class extends EventTarget{constructor(t){super();R(this,wn);R(this,Tr,new Map);R(this,Cr,new Map);R(this,Di,!1);this.target=t}start(){this.addTargetListener("pointerdown",this.onPointerDown.bind(this)),this.addTargetListener("contextmenu",t=>{t.preventDefault()}),this.addTargetListener("touchmove",t=>t.preventDefault()),this.addTargetListener("dblclick",t=>t.preventDefault())}stop(){for(const[t,n]of m(this,Cr).entries())this.target.removeEventListener(t,n);m(this,Cr).clear(),C(this,Di,!1)}addTargetListener(t,n){m(this,Cr).has(t)||(this.target.addEventListener(t,n),m(this,Cr).set(t,n))}onPointerDown(t){H(this,wn,Pm).call(this);const n={attachedInfo:{},hasMoved:!1,lastClientX:t.clientX,lastClientY:t.clientY,lastTimeStamp:t.timeStamp};m(this,Tr).set(t.pointerId,n),this.target.setPointerCapture(t.pointerId)}onPointerMove(t){const n=H(this,wn,Yu).call(this,t).movementInfo;n&&(t.preventDefault(),this.dispatchEvent(new CustomEvent("move",{detail:n})))}onPointerUp(t){const n=H(this,wn,Yu).call(this,t),r=m(this,Tr).get(t.pointerId);H(this,wn,Fm).call(this,t),this.target.releasePointerCapture(t.pointerId);let i;if(n.hasMoved)i=new CustomEvent("up",{detail:{attachedInfo:r.attachedInfo}});else{const{altKey:s,ctrlKey:a,metaKey:o,shiftKey:l}=t;i=new CustomEvent("press",{detail:{normalizedX:t.offsetX/this.target.offsetWidth*2-1,normalizedY:1-t.offsetY/this.target.offsetHeight*2,rightClick:!!(t.button&2),keys:{altKey:s,ctrlOrMetaKey:a||o,shiftKey:l}}})}this.dispatchEvent(i)}},Tr=new WeakMap,Cr=new WeakMap,Di=new WeakMap,wn=new WeakSet,Pm=function(){m(this,Di)||(this.addTargetListener("pointermove",this.onPointerMove.bind(this)),this.addTargetListener("pointerup",this.onPointerUp.bind(this)),C(this,Di,!0))},Fm=function(t){m(this,Tr).delete(t.pointerId)},Yu=function(t){const n=m(this,Tr).get(t.pointerId);if(!n)return{movementInfo:null,hasMoved:!1};let r;return(t.movementX??0)!==0||(t.movementY??0)!==0?r={attachedInfo:n.attachedInfo,movementX:t.movementX,movementY:t.movementY,elapsedMs:t.timeStamp-n.lastTimeStamp}:r={attachedInfo:n.attachedInfo,movementX:t.clientX-n.lastClientX,movementY:t.clientY-n.lastClientY,elapsedMs:t.timeStamp-n.lastTimeStamp},n.lastClientX=t.clientX,n.lastClientY=t.clientY,n.lastTimeStamp=t.timeStamp,Math.abs(r.movementX)<n3&&Math.abs(r.movementY)<n3?{movementInfo:null,hasMoved:n.hasMoved}:(n.hasMoved=!0,{movementInfo:r,hasMoved:n.hasMoved})},F3),As=[];async function Om(e,t,n,r){As.length===0&&As.push(uc());const i=await As[0];return i.setSize(e,t),i.render(n,r),i.domElement}async function a9(e,t,n,r,i){if(e===0||t===0)return;As.length===0&&As.push(uc());const s=await Om(e,t,r,i),a=n.getContext("2d");a.clearRect(0,0,n.width,n.height),a.drawImage(s,0,0)}var o9="srgb-linear";async function uc(){const e=(await Zt()).ThreeWebGLRenderer,t=new e({antialias:!0,alpha:!0});return t.outputColorSpace=o9,t.setPixelRatio(qu()),t}var Bm=new ht;Bm.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  place-content: center;
  contain: strict;
}

.loading {
  width: 4em;
  height: 4em;
  border-radius: 2.5em;
  border: 0.5em solid rgba(0, 0, 0, 0);
  border-top: 0.5em solid rgba(0, 0, 0, 0.7);
  border-right: 0.5em solid rgba(0, 0, 0, 0.7);
  animation: fade-in-delayed 4s, rotate 1s linear infinite;
}

@keyframes fade-in-delayed {
  0% { opacity: 0; }
  25% {opacity: 0; }
  100% { opacity: 1; }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* TODO: This is due to stats hack. Replace with \`canvas\`. */
.wrapper > canvas {
  max-width: 100%;
  max-height: 100%;
  animation: fade-in 0.25s ease-in;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.wrapper.invisible {
  opacity: 0;
}

.wrapper.drag-input-enabled > canvas {
  cursor: grab;
}

.wrapper.drag-input-enabled > canvas:active {
  cursor: grabbing;
}
`);var l9=!0,F0=500,u9=50,c9=.75;function r3(e){return(Math.exp(1-e)-(1-e))/(1-Math.E)+1}var d9=class{constructor(e,t,n,r){this.scheduler=new ns(this.render.bind(this)),this.startTimestamp=e,this.momentumX=t,this.momentumY=n,this.callback=r,this.scheduler.requestAnimFrame(),this.lastTimestamp=e}render(e){const t=(this.lastTimestamp-this.startTimestamp)/F0,n=Math.min(1,(e-this.startTimestamp)/F0);if(t===0&&n>u9/F0)return;const r=r3(n)-r3(t);this.callback(this.momentumX*r*1e3,this.momentumY*r*1e3),n<1&&this.scheduler.requestAnimFrame(),this.lastTimestamp=e}},h9=class{constructor(e,t,n,r){this.experimentalInertia=l9,this.onMovementBound=this.onMovement.bind(this),this.experimentalHasBeenMoved=!1,this.model=e,this.mirror=t,this.canvas=n,this.dragTracker=r,this.dragTracker.addEventListener("move",this.onMove.bind(this)),this.dragTracker.addEventListener("up",this.onUp.bind(this))}temperMovement(e){return Math.sign(e)*Math.log(Math.abs(e*10)+1)/6}onMove(e){var i;(i=e.detail).attachedInfo??(i.attachedInfo={});const{temperedX:t,temperedY:n}=this.onMovement(e.detail.movementX,e.detail.movementY),r=e.detail.attachedInfo;r.lastTemperedX=t*10,r.lastTemperedY=n*10,r.timestamp=e.timeStamp}onMovement(e,t){const n=this.mirror?-1:1,r=Math.min(this.canvas.offsetWidth,this.canvas.offsetHeight),i=this.temperMovement(e/r),s=this.temperMovement(t/r*c9);return this.model.twistySceneModel.orbitCoordinatesRequest.set((async()=>{const a=await this.model.twistySceneModel.orbitCoordinates.get();return{latitude:a.latitude+2*s*ta*n,longitude:a.longitude-2*i*ta}})()),{temperedX:i,temperedY:s}}onUp(e){e.preventDefault(),"lastTemperedX"in e.detail.attachedInfo&&"lastTemperedY"in e.detail.attachedInfo&&"timestamp"in e.detail.attachedInfo&&e.timeStamp-e.detail.attachedInfo.timestamp<60&&new d9(e.timeStamp,e.detail.attachedInfo.lastTemperedX,e.detail.attachedInfo.lastTemperedY,this.onMovementBound)}};async function jm(e,t,n=!1){const r=new(await Zt()).ThreeSpherical(t.distance,(90-(n?-1:1)*t.latitude)/ta,((n?180:0)+t.longitude)/ta);r.makeSafe(),e.position.setFromSpherical(r),e.lookAt(0,0,0)}var i3=0,f9=2,Um=!1;function m9(){return i3<f9?(i3++,!1):(Um=!0,!0)}function Qv(){return Um}var Jt,Vm,ua,Li,Ri,Xu,ca,da,ha,Zu,fa,ma,Dr,Lr,pa,O3,Ku=(O3=class extends Tt{constructor(t,n,r){super();R(this,Jt);R(this,ua);R(this,Li);R(this,Ri);R(this,ca);R(this,da);R(this,ha);R(this,fa);R(this,ma);R(this,Dr);R(this,Lr);R(this,pa);this.scene=null,this.stats=null,this.rendererIsShared=m9(),this.loadingElement=null,C(this,ua,new t0),C(this,Li,0),C(this,Ri,0),C(this,ca,null),C(this,da,null),C(this,ha,null),C(this,fa,null),C(this,ma,null),C(this,Dr,[]),C(this,Lr,null),C(this,pa,new ns(this.render.bind(this))),this.model=t,this.options=r,this.scene=n??null,this.loadingElement=this.addElement(document.createElement("div")),this.loadingElement.classList.add("loading")}async connectedCallback(){this.addCSS(Bm),this.addElement((await this.canvasInfo()).canvas),H(this,Jt,Xu).call(this),new ResizeObserver(H(this,Jt,Xu).bind(this)).observe(this.contentWrapper),this.orbitControls(),H(this,Jt,Vm).call(this),this.scheduleRender()}async clearCanvas(){if(this.rendererIsShared){const t=await this.canvasInfo();t.context.clearRect(0,0,t.canvas.width,t.canvas.height)}else{const n=(await this.renderer()).getContext();n.clear(n.COLOR_BUFFER_BIT)}}async renderer(){if(this.rendererIsShared)throw new Error("renderer expected to be shared.");return m(this,ca)??C(this,ca,uc())}async canvasInfo(){return m(this,da)??C(this,da,(async()=>{var r;let t;if(this.rendererIsShared)t=this.addElement(document.createElement("canvas"));else{const i=await this.renderer();t=this.addElement(i.domElement)}(r=this.loadingElement)==null||r.remove();const n=t.getContext("2d");return{canvas:t,context:n}})())}async camera(){return m(this,fa)??C(this,fa,(async()=>{var n;const t=new(await Zt()).ThreePerspectiveCamera(20,1,.1,20);return t.position.copy(new(await Zt()).ThreeVector3(2,4,4).multiplyScalar((n=this.options)!=null&&n.backView?-1:1)),t.lookAt(0,0,0),t})())}async orbitControls(){return m(this,ma)??C(this,ma,(async()=>{var n;const t=new h9(this.model,!!((n=this.options)!=null&&n.backView),(await this.canvasInfo()).canvas,await H(this,Jt,Zu).call(this));return this.model&&this.addListener(this.model.twistySceneModel.orbitCoordinates,async r=>{var s;const i=await this.camera();jm(i,r,(s=this.options)==null?void 0:s.backView),this.scheduleRender()}),t})())}addListener(t,n){t.addFreshListener(n),m(this,Dr).push(()=>{t.removeFreshListener(n)})}disconnect(){for(const t of m(this,Dr))t();C(this,Dr,[])}experimentalNextRenderFinishedCallback(t){C(this,Lr,t)}async render(){var i,s,a;if(!this.scene)throw new Error("Attempted to render without a scene");(i=this.stats)==null||i.begin();const[t,n,r]=await Promise.all([this.scene.scene(),this.camera(),this.canvasInfo()]);this.rendererIsShared?a9(m(this,Li),m(this,Ri),r.canvas,t,n):(await this.renderer()).render(t,n),(s=this.stats)==null||s.end(),(a=m(this,Lr))==null||a.call(this),C(this,Lr,null)}scheduleRender(){m(this,pa).requestAnimFrame()}},Jt=new WeakSet,Vm=async function(){(await H(this,Jt,Zu).call(this)).addEventListener("press",async n=>{await this.model.twistySceneModel.movePressInput.get()==="basic"&&this.dispatchEvent(new CustomEvent("press",{detail:{pressInfo:n.detail,cameraPromise:this.camera()}}))})},ua=new WeakMap,Li=new WeakMap,Ri=new WeakMap,Xu=async function(){const t=await m(this,ua).queue(this.camera()),n=this.contentWrapper.clientWidth,r=this.contentWrapper.clientHeight;C(this,Li,n),C(this,Ri,r);const i=0;let s=0,a=0;if(r>n&&(a=r-n,s=-Math.floor(.5*a)),t.aspect=n/r,t.setViewOffset(n,r-a,i,s,n,r),t.updateProjectionMatrix(),this.clearCanvas(),this.rendererIsShared){const o=await this.canvasInfo();o.canvas.width=n*qu(),o.canvas.height=r*qu(),o.canvas.style.width=`${n.toString()}px`,o.canvas.style.height=`${r.toString()}px`}else(await this.renderer()).setSize(n,r,!0);this.scheduleRender()},ca=new WeakMap,da=new WeakMap,ha=new WeakMap,Zu=async function(){return m(this,ha)??C(this,ha,(async()=>{var n;const t=new s9((await this.canvasInfo()).canvas);return(n=this.model)==null||n.twistySceneModel.dragInput.addFreshListener(r=>{let i=!1;switch(r){case"auto":{t.start(),i=!0;break}case"none":{t.stop();break}}this.contentWrapper.classList.toggle("drag-input-enabled",i)}),t})())},fa=new WeakMap,ma=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,pa=new WeakMap,O3);Ue.define("twisty-3d-vantage",Ku);function p9(e){return e.endsWith("v")||["x","y","z"].includes(e)?"Rotation":e.startsWith("2")||["M","E","S"].includes(e)?"Inner":"Outer"}var ms;function g9(){if(ms)return ms;ms={};const e=[...Object.keys(il.moves),...Object.keys(il.derivedMoves)];for(const t of e)ms[t]=p9(t);return ms}var Wm={OBTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:1,amountFactor:0,zeroAmount:0},Inner:{constantFactor:2,amountFactor:0,zeroAmount:0}},RBTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:1,amountFactor:0,zeroAmount:0},Inner:{constantFactor:1,amountFactor:0,zeroAmount:0}},OBQTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:0,amountFactor:1,zeroAmount:0},Inner:{constantFactor:0,amountFactor:2,zeroAmount:0}},RBQTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:0,amountFactor:1,zeroAmount:0},Inner:{constantFactor:0,amountFactor:1,zeroAmount:0}},ETM:{Rotation:{constantFactor:1,amountFactor:0,zeroAmount:1},Outer:{constantFactor:1,amountFactor:0,zeroAmount:1},Inner:{constantFactor:1,amountFactor:0,zeroAmount:1}}};function y9(e,t){const n=Wm[e];if(!n)throw new Error(`Invalid metric for 3x3x3: ${e}`);const r=g9(),i=t.quantum.toString();if(!(i in r))throw new Error(`Invalid move for 3x3x3 ${e}: ${i}`);const s=r[i],{constantFactor:a,amountFactor:o,zeroAmount:l}=n[s];return t.amount===0?l:a+o*Math.abs(t.amount)}var Pa=class extends qr{constructor(e){super(),this.metric=e}traverseAlg(e){let t=0;for(const n of e.childAlgNodes())t+=this.traverseAlgNode(n);return t}traverseGrouping(e){const t=e.alg;return this.traverseAlg(t)*Math.abs(e.amount)}traverseMove(e){return this.metric(e)}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 0}traverseNewline(e){return 0}traverseLineComment(e){return 0}},v9=class extends qr{traverseAlg(e){let t=0;for(const n of e.childAlgNodes())t+=this.traverseAlgNode(n);return t}traverseGrouping(e){const t=e.alg;return this.traverseAlg(t)*Math.abs(e.amount)}traverseMove(e){return 1}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 1}traverseNewline(e){return 1}traverseLineComment(e){return 1}};function Gm(e){return"A"<=e&&e<="Z"}function Hm(e){const t=e.family;return Gm(t[0])&&t[t.length-1]==="v"||t==="x"||t==="y"||t==="z"||t==="T"?0:1}function w9(e){return 1}function $m(e){const t=e.family;return Gm(t[0])&&t[t.length-1]==="v"||t==="x"||t==="y"||t==="z"||t==="T"?0:1}function x9(e){return Math.abs(e.amount)*$m(e)}var qv=pt(Pa,[Hm]),S9=pt(Pa,[w9]),z9=pt(Pa,[x9]),E9=pt(Pa,[$m]),k9=pt(v9,[Hm]);function M9(e,t,n){if(e.id==="3x3x3"){if(t in Wm)return pt(Pa,[r=>y9(t,r)])(n)}else switch(t){case"ETM":return S9(n);case"RBTM":{if(e.pg)return E9(n);break}case"RBQTM":{if(e.pg)return z9(n);break}}throw new Error("Unsupported puzzle or metric.")}var T9=class extends qr{traverseAlg(e){let t=0;for(const n of e.childAlgNodes())t+=this.traverseAlgNode(n);return t}traverseGrouping(e){return this.traverseAlg(e.alg)*Math.abs(e.amount)}traverseMove(e){return 1}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 1}traverseNewline(e){return 0}traverseLineComment(e){return 0}},C9=pt(T9);function Ju(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function s3(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function e1(e,t,n){return Cf(e,n-t,t)}var D9=class{constructor(e){this.catchingUp=!1,this.pendingFrame=!1,this.scheduler=new ns(this.animFrame.bind(this)),this.catchUpMs=500,this.lastTimestamp=0,this.model=e,e.tempoScale.addFreshListener(t=>{this.tempoScale=t})}start(){this.catchingUp||(this.lastTimestamp=performance.now()),this.catchingUp=!0,this.pendingFrame=!0,this.scheduler.requestAnimFrame()}stop(){this.catchingUp=!1,this.scheduler.cancelAnimFrame()}animFrame(e){this.scheduler.requestAnimFrame();const t=this.tempoScale*(e-this.lastTimestamp)/this.catchUpMs;this.lastTimestamp=e,this.model.catchUpMove.set((async()=>{const n=await this.model.catchUpMove.get();if(n.move===null)return n;const r=n.amount+t;return r>=1?(this.pendingFrame=!0,this.stop(),this.model.timestampRequest.set("end"),{move:null,amount:0}):(this.pendingFrame=!1,{move:n.move,amount:r})})())}},ga,t1,ya,B3,L9=(B3=class{constructor(e,t){R(this,ga);R(this,ya);this.playing=!1,this.direction=1,this.lastDatestamp=0,this.scheduler=new ns(this.animFrame.bind(this)),C(this,ya,new t0),this.delegate=t,this.model=e,this.lastTimestampPromise=H(this,ga,t1).call(this),this.model.playingInfo.addFreshListener(this.onPlayingProp.bind(this)),this.catchUpHelper=new D9(this.model),this.model.catchUpMove.addFreshListener(this.onCatchUpMoveProp.bind(this))}async onPlayingProp(e){e.playing!==this.playing&&(e.playing?this.play(e):this.pause())}async onCatchUpMoveProp(e){const t=e.move!==null;t!==this.catchUpHelper.catchingUp&&(t?this.catchUpHelper.start():this.catchUpHelper.stop()),this.scheduler.requestAnimFrame()}jumpToStart(e){this.model.timestampRequest.set("start"),this.pause(),e!=null&&e.flash&&this.delegate.flash()}jumpToEnd(e){this.model.timestampRequest.set("end"),this.pause(),e!=null&&e.flash&&this.delegate.flash()}playPause(){this.playing?this.pause():this.play()}async play(e){const t=(e==null?void 0:e.direction)??1,n=await this.model.coarseTimelineInfo.get();((e==null?void 0:e.autoSkipToOtherEndIfStartingAtBoundary)??!0)&&(t===1&&n.atEnd&&(this.model.timestampRequest.set("start"),this.delegate.flash()),t===-1&&n.atStart&&(this.model.timestampRequest.set("end"),this.delegate.flash())),this.model.playingInfo.set({playing:!0,direction:t,untilBoundary:(e==null?void 0:e.untilBoundary)??"entire-timeline",loop:(e==null?void 0:e.loop)??!1}),this.playing=!0,this.lastDatestamp=performance.now(),this.lastTimestampPromise=H(this,ga,t1).call(this),this.scheduler.requestAnimFrame()}pause(){this.playing=!1,this.scheduler.cancelAnimFrame(),this.model.playingInfo.set({playing:!1,untilBoundary:"entire-timeline"})}async animFrame(e){this.playing&&this.scheduler.requestAnimFrame();const t=this.lastDatestamp,n=await m(this,ya).queue(Promise.all([this.model.playingInfo.get(),this.lastTimestampPromise,this.model.timeRange.get(),this.model.tempoScale.get(),this.model.currentMoveInfo.get()])),[r,i,s,a,o]=n;if(!r.playing){this.playing=!1;return}let l=o.earliestEnd;(o.currentMoves.length===0||r.untilBoundary==="entire-timeline")&&(l=s.end);let u=o.latestStart;(o.currentMoves.length===0||r.untilBoundary==="entire-timeline")&&(u=s.start);let c=(e-t)*this.direction*a;c=Math.max(c,1),c*=r.direction;let h=i+c,d=null;h>=l?r.loop?h=e1(h,s.start,s.end):(h===s.end?d="end":h=l,this.playing=!1,this.model.playingInfo.set({playing:!1})):h<=u&&(r.loop?h=e1(h,s.start,s.end):(h===s.start?d="start":h=u,this.playing=!1,this.model.playingInfo.set({playing:!1}))),this.lastDatestamp=e,this.lastTimestampPromise=Promise.resolve(h),this.model.timestampRequest.set(d??h)}},ga=new WeakSet,t1=async function(){return(await this.model.detailedTimelineInfo.get()).timestamp},ya=new WeakMap,B3),R9=class{constructor(e,t){this.model=e,this.animationController=new L9(e,t)}jumpToStart(e){this.animationController.jumpToStart(e)}jumpToEnd(e){this.animationController.jumpToEnd(e)}togglePlay(e){typeof e>"u"&&this.animationController.playPause(),e?this.animationController.play():this.animationController.pause()}async visitTwizzleLink(){const e=document.createElement("a");e.href=await this.model.twizzleLink(),e.target="_blank",e.click()}},A9={"bottom-row":!0,none:!0},I9=class extends J{getDefaultValue(){return"auto"}},cc=new ht;cc.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
}

.wrapper > * {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.wrapper.back-view-side-by-side {
  grid-template-columns: 1fr 1fr;
}

.wrapper.back-view-top-right {
  grid-template-columns: 3fr 1fr;
  grid-template-rows: 1fr 3fr;
}

.wrapper.back-view-top-right > :nth-child(1) {
  grid-row: 1 / 3;
  grid-column: 1 / 3;
}

.wrapper.back-view-top-right > :nth-child(2) {
  grid-row: 1 / 2;
  grid-column: 2 / 3;
}
`);var lo="http://www.w3.org/2000/svg",a3="data-copy-id",o3=0;function b9(){return o3+=1,`svg${o3.toString()}`}var _9={dim:{white:"#dddddd",orange:"#884400",limegreen:"#008800",red:"#660000","rgb(34, 102, 255)":"#000088",yellow:"#888800","rgb(102, 0, 153)":"rgb(50, 0, 76)",purple:"#3f003f"},oriented:"#44ddcc",ignored:"#555555",invisible:"#00000000"},N9=class{constructor(e,t,n,r=!1){if(this.originalColors={},this.gradients={},this.kpuzzle=e,this.showUnknownOrientations=r,!t)throw new Error(`No SVG definition for puzzle type: ${e.name()}`);this.svgID=b9(),this.wrapperElement=document.createElement("div"),this.wrapperElement.classList.add("svg-wrapper"),this.wrapperElement.innerHTML=t;const i=this.wrapperElement.querySelector("svg");if(!i)throw new Error("Could not get SVG element");if(this.svgElement=i,lo!==i.namespaceURI)throw new Error("Unexpected XML namespace");i.style.maxWidth="100%",i.style.maxHeight="100%",this.gradientDefs=document.createElementNS(lo,"defs"),i.insertBefore(this.gradientDefs,i.firstChild);for(const s of e.definition.orbits)for(let a=0;a<s.numPieces;a++)for(let o=0;o<s.numOrientations;o++){const l=this.elementID(s.orbitName,a,o),u=this.elementByID(l);let c=u==null?void 0:u.style.fill;n?(()=>{const h=n.orbits;if(!h)return;const d=h[s.orbitName];if(!d)return;const f=d.pieces[a];if(!f)return;const p=f.facelets[o];if(!p)return;const v=typeof p=="string"?p:p==null?void 0:p.mask,D=_9[v];typeof D=="string"?c=D:D&&(c=D[c])})():c=u==null?void 0:u.style.fill,this.originalColors[l]=c,this.gradients[l]=this.newGradient(l,c),this.gradientDefs.appendChild(this.gradients[l]),u==null||u.setAttribute("style",`fill: url(#grad-${this.svgID}-${l})`)}for(const s of Array.from(i.querySelectorAll(`[${a3}]`))){const a=s.getAttribute(a3);s.setAttribute("style",`fill: url(#grad-${this.svgID}-${a})`)}this.showUnknownOrientations&&this.drawPattern(this.kpuzzle.defaultPattern())}drawPattern(e,t,n){this.draw(e,t,n)}draw(e,t,n){var i;const r=t==null?void 0:t.experimentalToTransformation();if(!e)throw new Error("Distinguishable pieces are not handled for SVG yet!");for(const s of e.kpuzzle.definition.orbits){const a=e.patternData[s.orbitName],o=r?r.transformationData[s.orbitName]:null;for(let l=0;l<s.numPieces;l++)for(let u=0;u<s.numOrientations;u++){const c=this.elementID(s.orbitName,l,u),h=this.elementID(s.orbitName,a.pieces[l],(s.numOrientations-a.orientation[l]+u)%s.numOrientations);let d=!1;if(o){const f=this.elementID(s.orbitName,o.permutation[l],(s.numOrientations-o.orientationDelta[l]+u)%s.numOrientations);h===f&&(d=!0),n=n||0;const p=100*(1-n*n*(2-n*n));this.gradients[c].children[0].setAttribute("stop-color",this.originalColors[h]),this.gradients[c].children[0].setAttribute("offset",`${Math.max(p-5,0)}%`),this.gradients[c].children[1].setAttribute("offset",`${Math.max(p-5,0)}%`),this.gradients[c].children[2].setAttribute("offset",`${p}%`),this.gradients[c].children[3].setAttribute("offset",`${p}%`),this.gradients[c].children[3].setAttribute("stop-color",this.originalColors[f])}else d=!0;d&&(this.showUnknownOrientations&&((i=a.orientationMod)==null?void 0:i[l])===1?(this.gradients[c].children[0].setAttribute("stop-color","#000"),this.gradients[c].children[0].setAttribute("offset","5%"),this.gradients[c].children[1].setAttribute("offset","5%"),this.gradients[c].children[2].setAttribute("offset","20%"),this.gradients[c].children[3].setAttribute("offset","20%"),this.gradients[c].children[3].setAttribute("stop-color",this.originalColors[h])):(this.gradients[c].children[0].setAttribute("stop-color",this.originalColors[h]),this.gradients[c].children[0].setAttribute("offset","100%"),this.gradients[c].children[1].setAttribute("offset","100%"),this.gradients[c].children[2].setAttribute("offset","100%"),this.gradients[c].children[3].setAttribute("offset","100%")))}}}newGradient(e,t){const n=document.createElementNS(lo,"radialGradient");n.setAttribute("id",`grad-${this.svgID}-${e}`),n.setAttribute("r","70.7107%");const r=[{offset:0,color:t},{offset:0,color:"black"},{offset:0,color:"black"},{offset:0,color:t}];for(const i of r){const s=document.createElementNS(lo,"stop");s.setAttribute("offset",`${i.offset}%`),s.setAttribute("stop-color",i.color),s.setAttribute("stop-opacity","1"),n.appendChild(s)}return n}elementID(e,t,n){return`${e}-l${t}-o${n}`}elementByID(e){return this.wrapperElement.querySelector(`#${e}`)}},Qm=new ht;Qm.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
}

.svg-wrapper,
twisty-2d-svg,
svg {
  width: 100%;
  height: 100%;
  display: grid;
  min-height: 0;
}

svg {
  animation: fade-in 0.25s ease-in;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
`);var Rr,Ar,j3,qm=(j3=class extends Tt{constructor(t,n,r,i,s){var a;super();R(this,Rr);R(this,Ar);this.scheduler=new ns(this.render.bind(this)),C(this,Rr,null),C(this,Ar,new Na),this.model=t,this.kpuzzle=n,this.svgSource=r,this.options=i,this.puzzleLoader=s,this.addCSS(Qm),this.resetSVG(),m(this,Ar).addListener(this.model.puzzleID,o=>{(s==null?void 0:s.id)!==o&&this.disconnect()}),m(this,Ar).addListener(this.model.legacyPosition,this.onPositionChange.bind(this)),(a=this.options)!=null&&a.experimentalStickeringMask&&this.experimentalSetStickeringMask(this.options.experimentalStickeringMask)}disconnect(){m(this,Ar).disconnect()}onPositionChange(t){var n;try{if(t.movesInProgress.length>0){const r=t.movesInProgress[0].move;let i=r;t.movesInProgress[0].direction===-1&&(i=r.invert());const s=t.pattern.applyMove(i);this.svgWrapper.draw(t.pattern,s,t.movesInProgress[0].fraction)}else this.svgWrapper.draw(t.pattern),C(this,Rr,t)}catch(r){console.warn("Bad position (this doesn't necessarily mean something is wrong). Pre-emptively disconnecting:",(n=this.puzzleLoader)==null?void 0:n.id,r),this.disconnect()}}scheduleRender(){this.scheduler.requestAnimFrame()}experimentalSetStickeringMask(t){this.resetSVG(t)}resetSVG(t){this.svgWrapper&&this.removeElement(this.svgWrapper.wrapperElement),this.kpuzzle&&(this.svgWrapper=new N9(this.kpuzzle,this.svgSource,t),this.addElement(this.svgWrapper.wrapperElement),m(this,Rr)&&this.onPositionChange(m(this,Rr)))}render(){}},Rr=new WeakMap,Ar=new WeakMap,j3);Ue.define("twisty-2d-puzzle",qm);var va,El,U3,P9=(U3=class{constructor(e,t,n,r){R(this,va,new Na);R(this,El,null);this.model=e,this.schedulable=t,this.puzzleLoader=n,this.effectiveVisualization=r,this.twisty2DPuzzle(),m(this,va).addListener(this.model.twistySceneModel.stickeringMask,async i=>{(await this.twisty2DPuzzle()).experimentalSetStickeringMask(i)})}disconnect(){m(this,va).disconnect()}scheduleRender(){}async twisty2DPuzzle(){return m(this,El)??C(this,El,(async()=>{const e=this.effectiveVisualization==="experimental-2D-LL-face"?this.puzzleLoader.llFaceSVG():this.effectiveVisualization==="experimental-2D-LL"?this.puzzleLoader.llSVG():this.puzzleLoader.svg();return new qm(this.model,await this.puzzleLoader.kpuzzle(),await e,{},this.puzzleLoader)})())}},va=new WeakMap,El=new WeakMap,U3),wa,kl,Fn,V3,Ym=(V3=class extends Tt{constructor(t,n){super();R(this,wa,new Na);R(this,kl);R(this,Fn,null);this.model=t,this.effectiveVisualization=n}disconnect(){m(this,wa).disconnect()}async connectedCallback(){this.addCSS(cc),this.model&&m(this,wa).addListener(this.model.twistyPlayerModel.puzzleLoader,this.onPuzzleLoader.bind(this))}async scene(){return m(this,kl)??C(this,kl,(async()=>new(await Zt()).ThreeScene)())}scheduleRender(){var t;(t=m(this,Fn))==null||t.scheduleRender()}currentTwisty2DPuzzleWrapper(){return m(this,Fn)}async setCurrentTwisty2DPuzzleWrapper(t){const n=m(this,Fn);C(this,Fn,t),n==null||n.disconnect();const r=t.twisty2DPuzzle();this.contentWrapper.textContent="",this.addElement(await r)}async onPuzzleLoader(t){var r;(r=m(this,Fn))==null||r.disconnect();const n=new P9(this.model.twistyPlayerModel,this,t,this.effectiveVisualization);this.setCurrentTwisty2DPuzzleWrapper(n)}},wa=new WeakMap,kl=new WeakMap,Fn=new WeakMap,V3);Ue.define("twisty-2d-scene-wrapper",Ym);var On,W3,n0=(W3=class{constructor(e,t,n){R(this,On,null);this.elem=e,this.prefix=t,this.validSuffixes=n}clearValue(){m(this,On)&&this.elem.contentWrapper.classList.remove(m(this,On)),C(this,On,null)}setValue(e){if(!this.validSuffixes.includes(e))throw new Error(`Invalid suffix: ${e}`);const t=`${this.prefix}${e}`,n=m(this,On)!==t;return n&&(this.clearValue(),this.elem.contentWrapper.classList.add(t),C(this,On,t)),n}},On=new WeakMap,W3),xa,G3,Km=(G3=class{constructor(){R(this,xa);this.promise=new Promise((e,t)=>{C(this,xa,e),this.reject=t})}handleNewValue(e){m(this,xa).call(this,e)}},xa=new WeakMap,G3),At,Ml,H3,Xm=(H3=class extends EventTarget{constructor(t,n,r,i){super();R(this,At,new Na);R(this,Ml,null);this.model=t,this.schedulable=n,this.puzzleLoader=r,this.visualizationStrategy=i,this.twisty3DPuzzle(),m(this,At).addListener(this.model.puzzleLoader,s=>{this.puzzleLoader.id!==s.id&&this.disconnect()}),m(this,At).addListener(this.model.legacyPosition,async s=>{try{(await this.twisty3DPuzzle()).onPositionChange(s),this.scheduleRender()}catch{this.disconnect()}}),m(this,At).addListener(this.model.twistySceneModel.hintFacelet,async s=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({hintFacelets:s==="auto"?"floating":s}),this.scheduleRender()}),m(this,At).addListener(this.model.twistySceneModel.foundationDisplay,async s=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({showFoundation:s!=="none"}),this.scheduleRender()}),m(this,At).addListener(this.model.twistySceneModel.stickeringMask,async s=>{(await this.twisty3DPuzzle()).setStickeringMask(s),this.scheduleRender()}),m(this,At).addListener(this.model.twistySceneModel.faceletScale,async s=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({faceletScale:s}),this.scheduleRender()}),m(this,At).addMultiListener3([this.model.twistySceneModel.stickeringMask,this.model.twistySceneModel.foundationStickerSprite,this.model.twistySceneModel.hintStickerSprite],async s=>{"experimentalUpdateTexture"in await this.twisty3DPuzzle()&&((await this.twisty3DPuzzle()).experimentalUpdateTexture(s[0].specialBehaviour==="picture",s[1],s[2]),this.scheduleRender())})}disconnect(){m(this,At).disconnect()}scheduleRender(){this.schedulable.scheduleRender(),this.dispatchEvent(new CustomEvent("render-scheduled"))}async twisty3DPuzzle(){return m(this,Ml)??C(this,Ml,(async()=>{const t=Zt();if(this.puzzleLoader.id==="3x3x3"&&this.visualizationStrategy==="Cube3D"){const[n,r,i,s]=await Promise.all([this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get(),this.model.twistySceneModel.stickeringMask.get(),this.model.twistySceneModel.initialHintFaceletsAnimation.get()]);return(await t).cube3DShim(()=>this.schedulable.scheduleRender(),{foundationSprite:n,hintSprite:r,experimentalStickeringMask:i,initialHintFaceletsAnimation:s})}else{const[n,r,i,s]=await Promise.all([this.model.twistySceneModel.hintFacelet.get(),this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get(),this.model.twistySceneModel.faceletScale.get()]),a=(await t).pg3dShim(()=>this.schedulable.scheduleRender(),this.puzzleLoader,n==="auto"?"floating":n,s,this.puzzleLoader.id==="kilominx");return a.then(o=>o.experimentalUpdateTexture(!0,r??void 0,i??void 0)),a}})())}async raycastMove(t,n){const r=await this.twisty3DPuzzle();if(!("experimentalGetControlTargets"in r)){console.info("not PG3D! skipping raycast");return}const i=r.experimentalGetControlTargets(),[s,a]=await Promise.all([t,this.model.twistySceneModel.movePressCancelOptions.get()]),o=s.intersectObjects(i);if(o.length>0){const l=r.getClosestMoveToAxis(o[0].point,n);l?this.model.experimentalAddMove(l.move,{cancel:a}):console.info("Skipping move!")}}},At=new WeakMap,Ml=new WeakMap,H3),Tl,Ai,an,Cl,Ir,on,Sa,Dl,$3,n1=($3=class extends Tt{constructor(t){super();R(this,Tl,new n0(this,"back-view-",["auto","none","side-by-side","top-right"]));R(this,Ai,new Na);R(this,an,null);R(this,Cl);R(this,Ir,new Set);R(this,on,null);R(this,Sa,new Km);R(this,Dl,new t0);this.model=t}disconnect(){m(this,Ai).disconnect()}async connectedCallback(){this.addCSS(cc);const t=new Ku(this.model,this);this.addVantage(t),this.model&&(m(this,Ai).addMultiListener([this.model.puzzleLoader,this.model.visualizationStrategy],this.onPuzzle.bind(this)),m(this,Ai).addListener(this.model.backView,this.onBackView.bind(this))),this.scheduleRender()}setBackView(t){const n=["side-by-side","top-right"].includes(t),r=m(this,an)!==null;m(this,Tl).setValue(t),n?r||(C(this,an,new Ku(this.model,this,{backView:!0})),this.addVantage(m(this,an)),this.scheduleRender()):m(this,an)&&(this.removeVantage(m(this,an)),C(this,an,null))}onBackView(t){this.setBackView(t)}async onPress(t){const n=m(this,on);if(!n){console.info("no wrapper; skipping scene wrapper press!");return}const r=(async()=>{const[i,{ThreeRaycaster:s,ThreeVector2:a}]=await Promise.all([t.detail.cameraPromise,(async()=>{const{ThreeRaycaster:u,ThreeVector2:c}=await Zt();return{ThreeRaycaster:u,ThreeVector2:c}})()]),o=new s,l=new a(t.detail.pressInfo.normalizedX,t.detail.pressInfo.normalizedY);return o.setFromCamera(l,i),o})();n.raycastMove(r,{invert:!t.detail.pressInfo.rightClick,depth:t.detail.pressInfo.keys.ctrlOrMetaKey?"rotation":t.detail.pressInfo.keys.shiftKey?"secondSlice":"none"})}async scene(){return m(this,Cl)??C(this,Cl,(async()=>new(await Zt()).ThreeScene)())}addVantage(t){t.addEventListener("press",this.onPress.bind(this)),m(this,Ir).add(t),this.contentWrapper.appendChild(t)}removeVantage(t){var n;m(this,Ir).delete(t),t.remove(),t.disconnect(),(n=m(this,on))==null||n.disconnect()}experimentalVantages(){return m(this,Ir).values()}scheduleRender(){for(const t of m(this,Ir))t.scheduleRender()}async setCurrentTwisty3DPuzzleWrapper(t,n){const r=m(this,on);try{C(this,on,n),r==null||r.disconnect(),t.add(await n.twisty3DPuzzle())}finally{r&&t.remove(await r.twisty3DPuzzle())}m(this,Sa).handleNewValue(n)}async experimentalTwisty3DPuzzleWrapper(){return m(this,on)||m(this,Sa).promise}async onPuzzle(t){var i;if(t[1]==="2D")return;(i=m(this,on))==null||i.disconnect();const[n,r]=await m(this,Dl).queue(Promise.all([this.scene(),new Xm(this.model,this,t[0],t[1])]));this.setCurrentTwisty3DPuzzleWrapper(n,r)}},Tl=new WeakMap,Ai=new WeakMap,an=new WeakMap,Cl=new WeakMap,Ir=new WeakMap,on=new WeakMap,Sa=new WeakMap,Dl=new WeakMap,$3);Ue.define("twisty-3d-scene-wrapper",n1);var Zm=new ht;Zm.replaceSync(`
:host {
  width: 384px;
  height: 24px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.wrapper {
  grid-auto-flow: column;
}

.viewer-link-none .twizzle-link-button {
  display: none;
}

.wrapper twisty-button,
.wrapper twisty-control-button {
  width: inherit;
  height: inherit;
}
`);var Jm=new ht;Jm.replaceSync(`
:host:not([hidden]) {
  display: grid;
}

:host {
  width: 48px;
  height: 24px;
}

.wrapper {
  width: 100%;
  height: 100%;
}

button {
  width: 100%;
  height: 100%;
  border: none;
  
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;

  background-color: rgba(196, 196, 196, 0.75);
}

button:enabled {
  background-color: rgba(196, 196, 196, 0.75)
}

.dark-mode button:enabled {
  background-color: #88888888;
}

button:disabled {
  background-color: rgba(0, 0, 0, 0.4);
  opacity: 0.25;
  pointer-events: none;
}

.dark-mode button:disabled {
  background-color: #ffffff44;
}

button:enabled:hover {
  background-color: rgba(255, 255, 255, 0.75);
  box-shadow: 0 0 1em rgba(0, 0, 0, 0.25);
  cursor: pointer;
}

/* TODO: fullscreen icons have too much padding?? */
.svg-skip-to-start button,
button.svg-skip-to-start {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjQzIDEwMzdxMTktMTkgMzItMTN0MTMgMzJ2MTQ3MnEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djcxMHEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djY3OHEwIDI2LTE5IDQ1dC00NSAxOUg5NjBxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWgxMjhxMjYgMCA0NSAxOXQxOSA0NXY2NzhxNC0xMSAxMy0xOWw3MTAtNzEwcTE5LTE5IDMyLTEzdDEzIDMydjcxMHE0LTExIDEzLTE5eiIvPjwvc3ZnPg==");
}

.svg-skip-to-end button,
button.svg-skip-to-end {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik05NDEgMjU0N3EtMTkgMTktMzIgMTN0LTEzLTMyVjEwNTZxMC0yNiAxMy0zMnQzMiAxM2w3MTAgNzEwcTggOCAxMyAxOXYtNzEwcTAtMjYgMTMtMzJ0MzIgMTNsNzEwIDcxMHE4IDggMTMgMTl2LTY3OHEwLTI2IDE5LTQ1dDQ1LTE5aDEyOHEyNiAwIDQ1IDE5dDE5IDQ1djE0MDhxMCAyNi0xOSA0NXQtNDUgMTloLTEyOHEtMjYgMC00NS0xOXQtMTktNDV2LTY3OHEtNSAxMC0xMyAxOWwtNzEwIDcxMHEtMTkgMTktMzIgMTN0LTEzLTMydi03MTBxLTUgMTAtMTMgMTl6Ii8+PC9zdmc+");
}

.svg-step-forward button,
button.svg-step-forward {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDE1NjhxMCAyNi0xOSA0NWwtNTEyIDUxMnEtMTkgMTktNDUgMTl0LTQ1LTE5cS0xOS0xOS0xOS00NXYtMjU2aC0yMjRxLTk4IDAtMTc1LjUgNnQtMTU0IDIxLjVxLTc2LjUgMTUuNS0xMzMgNDIuNXQtMTA1LjUgNjkuNXEtNDkgNDIuNS04MCAxMDF0LTQ4LjUgMTM4LjVxLTE3LjUgODAtMTcuNSAxODEgMCA1NSA1IDEyMyAwIDYgMi41IDIzLjV0Mi41IDI2LjVxMCAxNS04LjUgMjV0LTIzLjUgMTBxLTE2IDAtMjgtMTctNy05LTEzLTIydC0xMy41LTMwcS03LjUtMTctMTAuNS0yNC0xMjctMjg1LTEyNy00NTEgMC0xOTkgNTMtMzMzIDE2Mi00MDMgODc1LTQwM2gyMjR2LTI1NnEwLTI2IDE5LTQ1dDQ1LTE5cTI2IDAgNDUgMTlsNTEyIDUxMnExOSAxOSAxOSA0NXoiLz48L3N2Zz4=");
}

.svg-step-backward button,
button.svg-step-backward {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDIwNDhxMCAxNjYtMTI3IDQ1MS0zIDctMTAuNSAyNHQtMTMuNSAzMHEtNiAxMy0xMyAyMi0xMiAxNy0yOCAxNy0xNSAwLTIzLjUtMTB0LTguNS0yNXEwLTkgMi41LTI2LjV0Mi41LTIzLjVxNS02OCA1LTEyMyAwLTEwMS0xNy41LTE4MXQtNDguNS0xMzguNXEtMzEtNTguNS04MC0xMDF0LTEwNS41LTY5LjVxLTU2LjUtMjctMTMzLTQyLjV0LTE1NC0yMS41cS03Ny41LTYtMTc1LjUtNmgtMjI0djI1NnEwIDI2LTE5IDQ1dC00NSAxOXEtMjYgMC00NS0xOWwtNTEyLTUxMnEtMTktMTktMTktNDV0MTktNDVsNTEyLTUxMnExOS0xOSA0NS0xOXQ0NSAxOXExOSAxOSAxOSA0NXYyNTZoMjI0cTcxMyAwIDg3NSA0MDMgNTMgMTM0IDUzIDMzM3oiLz48L3N2Zz4=");
}

.svg-pause button,
button.svg-pause {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNTYwIDEwODh2MTQwOHEwIDI2LTE5IDQ1dC00NSAxOWgtNTEycS0yNiAwLTQ1LTE5dC0xOS00NVYxMDg4cTAtMjYgMTktNDV0NDUtMTloNTEycTI2IDAgNDUgMTl0MTkgNDV6bS04OTYgMHYxNDA4cTAgMjYtMTkgNDV0LTQ1IDE5aC01MTJxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWg1MTJxMjYgMCA0NSAxOXQxOSA0NXoiLz48L3N2Zz4=");
}

.svg-play button,
button.svg-play {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNDcyLjUgMTgyM2wtMTMyOCA3MzhxLTIzIDEzLTM5LjUgM3QtMTYuNS0zNlYxMDU2cTAtMjYgMTYuNS0zNnQzOS41IDNsMTMyOCA3MzhxMjMgMTMgMjMgMzF0LTIzIDMxeiIvPjwvc3ZnPg==");
}

.svg-enter-fullscreen button,
button.svg-enter-fullscreen {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTZIN3Y1aDV2LTJIOXYtM3ptLTItNGgyVjloM1Y3SDd2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTYgN3YyaDN2M2gyVjdoLTV6Ii8+PC9zdmc+");
}

.svg-exit-fullscreen button,
button.svg-exit-fullscreen {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcgMThoM3YzaDJ2LTVIN3Yyem0zLThIN3YyaDVWN2gtMnYzem02IDExaDJ2LTNoM3YtMmgtNXY1em0yLTExVjdoLTJ2NWg1di0yaC0zeiIvPjwvc3ZnPg==");
}

.svg-twizzle-tw button,
button.svg-twizzle-tw {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODY0IiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzk3LjU4MSAxNTEuMTh2NTcuMDg0aC04OS43MDN2MjQwLjM1MmgtNjYuOTU1VjIwOC4yNjRIMTUxLjIydi01Ny4wODNoMjQ2LjM2MXptNTQuMzEgNzEuNjc3bDcuNTEyIDMzLjY5MmMyLjcxOCAxMi4xNiA1LjU4IDI0LjY4IDguNTg0IDM3LjU1NWEyMTgwLjc3NSAyMTgwLjc3NSAwIDAwOS40NDIgMzguODQzIDEyNjYuMyAxMjY2LjMgMCAwMDEwLjA4NiAzNy41NTVjMy43Mi0xMi41OSA3LjM2OC0yNS40NjYgMTAuOTQ1LTM4LjYyOCAzLjU3Ni0xMy4xNjIgNy4wMS0yNi4xMSAxMC4zLTM4Ljg0M2w1Ljc2OS0yMi40NTZjMS4yNDgtNC44ODcgMi40NzItOS43MDUgMy42NzQtMTQuNDU1IDMuMDA0LTExLjg3NSA1LjY1MS0yMi45NjIgNy45NC0zMy4yNjNoNDYuMzU0bDIuMzg0IDEwLjU2M2EyMDAwLjc3IDIwMDAuNzcgMCAwMDMuOTM1IDE2LjgyOGw2LjcxMSAyNy43MWMxLjIxMyA0Ljk1NiAyLjQ1IDkuOTggMy43MDkgMTUuMDczYTMxMTkuNzc3IDMxMTkuNzc3IDAgMDA5Ljg3MSAzOC44NDMgMTI0OS4yMjcgMTI0OS4yMjcgMCAwMDEwLjczIDM4LjYyOCAxOTA3LjYwNSAxOTA3LjYwNSAwIDAwMTAuMzAxLTM3LjU1NSAxMzk3Ljk0IDEzOTcuOTQgMCAwMDkuNjU3LTM4Ljg0M2w0LjQtMTkuMDQ2Yy43MTUtMy4xMyAxLjQyMS02LjIzNiAyLjExOC05LjMyMWw5LjU3Ny00Mi44OGg2Ni41MjZhMjk4OC43MTggMjk4OC43MTggMCAwMS0xOS41MjkgNjYuMzExbC01LjcyOCAxOC40ODJhMzIzNy40NiAzMjM3LjQ2IDAgMDEtMTQuMDE1IDQzLjc1MmMtNi40MzggMTkuNi0xMi43MzMgMzcuNjk4LTE4Ljg4NSA1NC4yOTRsLTMuMzA2IDguODI1Yy00Ljg4NCAxMi44OTgtOS40MzMgMjQuMjYzLTEzLjY0NyAzNC4wOTVoLTQ5Ljc4N2E4NDE3LjI4OSA4NDE3LjI4OSAwIDAxLTIxLjAzMS02NC44MDkgMTI4OC42ODYgMTI4OC42ODYgMCAwMS0xOC44ODUtNjQuODEgMTk3Mi40NDQgMTk3Mi40NDQgMCAwMS0xOC4yNCA2NC44MSAyNTc5LjQxMiAyNTc5LjQxMiAwIDAxLTIwLjM4OCA2NC44MWgtNDkuNzg3Yy00LjY4Mi0xMC45MjYtOS43Mi0yMy43NDMtMTUuMTEtMzguNDUxbC0xLjYyOS00LjQ3Yy01LjI1OC0xNC41MjEtMTAuNjgtMzAuMTkyLTE2LjI2Ni00Ny4wMTRsLTIuNDA0LTcuMjhjLTYuNDM4LTE5LjYtMTMuMDItNDAuMzQ0LTE5Ljc0My02Mi4yMzRhMjk4OC43MDcgMjk4OC43MDcgMCAwMS0xOS41MjktNjYuMzExaDY3LjM4NXoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==");
}
`);var oe=typeof document>"u"?null:document,F9=(oe==null?void 0:oe.fullscreenEnabled)||!!(oe!=null&&oe.webkitFullscreenEnabled);function O9(){return document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen()}function l3(){return document.fullscreenElement?document.fullscreenElement:document.webkitFullscreenElement??null}function B9(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()}var j9=["skip-to-start","skip-to-end","step-forward","step-backward","pause","play","enter-fullscreen","exit-fullscreen","twizzle-tw"],U9=class extends se{derive(e){return{fullscreen:{enabled:F9,icon:document.fullscreenElement===null?"enter-fullscreen":"exit-fullscreen",title:"Enter fullscreen"},"jump-to-start":{enabled:!e.coarseTimelineInfo.atStart,icon:"skip-to-start",title:"Restart"},"play-step-backwards":{enabled:!e.coarseTimelineInfo.atStart,icon:"step-backward",title:"Step backward"},"play-pause":{enabled:!(e.coarseTimelineInfo.atStart&&e.coarseTimelineInfo.atEnd),icon:e.coarseTimelineInfo.playing?"pause":"play",title:e.coarseTimelineInfo.playing?"Pause":"Play"},"play-step":{enabled:!e.coarseTimelineInfo.atEnd,icon:"step-forward",title:"Step forward"},"jump-to-end":{enabled:!e.coarseTimelineInfo.atEnd,icon:"skip-to-end",title:"Skip to End"},"twizzle-link":{enabled:!0,icon:"twizzle-tw",title:"View at Twizzle",hidden:e.viewerLink==="none"}}}},u3={fullscreen:!0,"jump-to-start":!0,"play-step-backwards":!0,"play-pause":!0,"play-step":!0,"jump-to-end":!0,"twizzle-link":!0},Ll,t4,Q3,e4=(Q3=class extends Tt{constructor(t,n,r){super();R(this,Ll);this.buttons=null,this.model=t,this.controller=n,this.defaultFullscreenElement=r}connectedCallback(){var n,r;this.addCSS(Zm);const t={};for(const i in u3){const s=new n4;t[i]=s,s.htmlButton.addEventListener("click",()=>H(this,Ll,t4).call(this,i)),this.addElement(s)}this.buttons=t,(n=this.model)==null||n.buttonAppearance.addFreshListener(this.update.bind(this)),(r=this.model)==null||r.twistySceneModel.colorScheme.addFreshListener(this.updateColorScheme.bind(this))}async onFullscreenButton(){var t,n;if(!this.defaultFullscreenElement)throw new Error("Attempted to go fullscreen without an element.");if(l3()===this.defaultFullscreenElement)O9();else{(t=this.buttons)==null||t.fullscreen.setIcon("exit-fullscreen"),B9(await((n=this.model)==null?void 0:n.twistySceneModel.fullscreenElement.get())??this.defaultFullscreenElement);const r=()=>{var i;l3()!==this.defaultFullscreenElement&&((i=this.buttons)==null||i.fullscreen.setIcon("enter-fullscreen"),window.removeEventListener("fullscreenchange",r))};window.addEventListener("fullscreenchange",r)}}async update(t){for(const n in u3){const r=this.buttons[n],i=t[n];r.htmlButton.disabled=!i.enabled,r.htmlButton.title=i.title,r.setIcon(i.icon),r.hidden=!!i.hidden}}updateColorScheme(t){for(const n of Object.values(this.buttons??{}))n.updateColorScheme(t)}},Ll=new WeakSet,t4=function(t){var n,r,i,s,a,o;switch(t){case"fullscreen":{this.onFullscreenButton();break}case"jump-to-start":{(n=this.controller)==null||n.jumpToStart({flash:!0});break}case"play-step-backwards":{(r=this.controller)==null||r.animationController.play({direction:-1,untilBoundary:"move"});break}case"play-pause":{(i=this.controller)==null||i.togglePlay();break}case"play-step":{(s=this.controller)==null||s.animationController.play({direction:1,untilBoundary:"move"});break}case"jump-to-end":{(a=this.controller)==null||a.jumpToEnd({flash:!0});break}case"twizzle-link":{(o=this.controller)==null||o.visitTwizzleLink();break}default:throw new Error("Missing command")}},Q3);Ue.define("twisty-buttons",e4);var za,q3,n4=(q3=class extends Tt{constructor(){super(...arguments);R(this,za);this.htmlButton=document.createElement("button"),C(this,za,new n0(this,"svg-",j9))}updateColorScheme(t){this.contentWrapper.classList.toggle("dark-mode",t==="dark")}connectedCallback(){this.addCSS(Jm),this.addElement(this.htmlButton)}setIcon(t){m(this,za).setValue(t)}},za=new WeakMap,q3);Ue.define("twisty-button",n4);var r4=new ht;r4.replaceSync(`
:host {
  width: 384px;
  height: 16px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  background: rgba(196, 196, 196, 0.75);
}

input:not(:disabled) {
  cursor: ew-resize;
}

.wrapper.dark-mode {
  background: #666666;
}
`);oe==null||oe.addEventListener("mousedown",e=>{e.which},!0);oe==null||oe.addEventListener("mouseup",e=>{e.which},!0);oe==null||oe.addEventListener("mousedown",()=>{},!1);oe==null||oe.addEventListener("mousemove",i4,!1);oe==null||oe.addEventListener("mouseenter",i4,!1);function i4(e){e.pageY}var Rl,Y3,s4=(Y3=class extends Tt{constructor(t,n){super();R(this,Rl,null);this.model=t,this.controller=n}async onDetailedTimelineInfo(t){const n=await this.inputElem();n.min=t.timeRange.start.toString(),n.max=t.timeRange.end.toString(),n.disabled=n.min===n.max,n.value=t.timestamp.toString()}async connectedCallback(){var t;this.addCSS(r4),this.addElement(await this.inputElem()),(t=this.model)==null||t.twistySceneModel.colorScheme.addFreshListener(this.updateColorScheme.bind(this))}updateColorScheme(t){this.contentWrapper.classList.toggle("dark-mode",t==="dark")}async inputElem(){return m(this,Rl)??C(this,Rl,(async()=>{var n;const t=document.createElement("input");return t.type="range",t.disabled=!0,(n=this.model)==null||n.detailedTimelineInfo.addFreshListener(this.onDetailedTimelineInfo.bind(this)),t.addEventListener("input",this.onInput.bind(this)),t.addEventListener("keydown",this.onKeypress.bind(this)),t})())}async onInput(t){var i,s;const n=await this.inputElem();await this.slowDown(t,n);const r=parseInt(n.value);(i=this.model)==null||i.playingInfo.set({playing:!1}),(s=this.model)==null||s.timestampRequest.set(r)}onKeypress(t){var n,r;switch(t.key){case"ArrowLeft":case"ArrowRight":{(n=this.controller)==null||n.animationController.play({direction:t.key==="ArrowLeft"?-1:1,untilBoundary:"move"}),t.preventDefault();break}case" ":{(r=this.controller)==null||r.togglePlay(),t.preventDefault();break}}}async slowDown(t,n){}},Rl=new WeakMap,Y3);Ue.define("twisty-scrubber",s4);var V9=null;async function c3(e,t){const[{ThreePerspectiveCamera:n,ThreeScene:r},i,s,a,o,l,u]=await Promise.all([(async()=>{const{ThreePerspectiveCamera:w,ThreeScene:k}=await Zt();return{ThreePerspectiveCamera:w,ThreeScene:k}})(),await e.puzzleLoader.get(),await e.visualizationStrategy.get(),await e.twistySceneModel.stickeringRequest.get(),await e.twistySceneModel.stickeringMaskRequest.get(),await e.legacyPosition.get(),await e.twistySceneModel.orbitCoordinates.get()]),c=(t==null?void 0:t.width)??2048,h=(t==null?void 0:t.height)??2048,d=c/h,f=V9??(V9=await(async()=>new n(20,d,.1,20))()),p=new r,v=new Xm(e,{scheduleRender:()=>{}},i,s);p.add(await v.twisty3DPuzzle()),await jm(f,u);const g=(await Om(c,h,p,f)).toDataURL(),y=await a4(e);return{dataURL:g,download:async w=>{o4(g,w??y)}}}async function a4(e){const[t,n]=await Promise.all([e.puzzleID.get(),e.alg.get()]);return`[${t}]${n.alg.experimentalNumChildAlgNodes()===0?"":` ${n.alg.toString()}`}`}function o4(e,t,n="png"){const r=document.createElement("a");r.href=e,r.download=`${t}.${n}`,r.click()}var l4=new ht;l4.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;

  -webkit-user-select: none;
  user-select: none;
}

.wrapper {
  display: grid;
  overflow: hidden;
  contain: size;
  grid-template-rows: 7fr minmax(1.5em, 0.5fr) minmax(2em, 1fr);
}

.wrapper > * {
  width: inherit;
  height: inherit;
  overflow: hidden;
}

.wrapper.controls-none {
  grid-template-rows: 7fr;
}

.wrapper.controls-none twisty-scrubber,
.wrapper.controls-none twisty-control-button-panel ,
.wrapper.controls-none twisty-scrubber,
.wrapper.controls-none twisty-buttons {
  display: none;
}

twisty-scrubber {
  background: rgba(196, 196, 196, 0.5);
}

.wrapper.checkered,
.wrapper.checkered-transparent {
  background-color: #EAEAEA;
  background-image: linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD),
    linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD);
  background-size: 32px 32px;
  background-position: 0 0, 16px 16px;
}

.wrapper.checkered-transparent {
  background-color: #F4F4F4;
  background-image: linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88),
    linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88);
}

.wrapper.dark-mode {
  background-color: #444;
  background-image: linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b),
    linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b);
}

.visualization-wrapper > * {
  width: 100%;
  height: 100%;
}

.error-elem {
  width: 100%;
  height: 100%;
  display: none;
  place-content: center;
  font-family: sans-serif;
  box-shadow: inset 0 0 2em rgb(255, 0, 0);
  color: red;
  text-shadow: 0 0 0.2em white;
  background: rgba(255, 255, 255, 0.25);
}

.wrapper.error .visualization-wrapper {
  display: none;
}

.wrapper.error .error-elem {
  display: grid;
}
`);var d3=class extends J{getDefaultValue(){return null}},r1=class extends lr{getDefaultValue(){return null}derive(e){return typeof e=="string"?new URL(e,location.href):e}},ra=class u4{constructor(t){this.warnings=Object.freeze((t==null?void 0:t.warnings)??[]),this.errors=Object.freeze((t==null?void 0:t.errors)??[]),Object.freeze(this)}add(t){return new u4({warnings:this.warnings.concat((t==null?void 0:t.warnings)??[]),errors:this.errors.concat((t==null?void 0:t.errors)??[])})}log(){this.errors.length>0?console.error(` ${this.errors[0]}`):this.warnings.length>0?console.warn(` ${this.warnings[0]}`):console.info(" No issues!")}};function c4(e){try{const t=F.fromString(e),n=[];return t.toString()!==e&&n.push("Alg is non-canonical!"),{alg:t,issues:new ra({warnings:n})}}catch(t){return{alg:new F,issues:new ra({errors:[`Malformed alg: ${t.toString()}`]})}}}function W9(e,t){return e.alg.isIdentical(t.alg)&&Ju(e.issues.warnings,t.issues.warnings)&&Ju(e.issues.errors,t.issues.errors)}var h3=class extends lr{getDefaultValue(){return{alg:new F,issues:new ra}}canReuseValue(e,t){return W9(e,t)}async derive(e){return typeof e=="string"?c4(e):{alg:e,issues:new ra}}},G9=class extends se{derive(e){return e.kpuzzle.algToTransformation(e.setupAlg.alg)}},H9=class extends se{derive(e){if(e.setupTransformation)return e.setupTransformation;switch(e.setupAnchor){case"start":return e.setupAlgTransformation;case"end":{const n=e.indexer.transformationAtIndex(e.indexer.numAnimatedLeaves()).invert();return e.setupAlgTransformation.applyTransformation(n)}default:throw new Error("Unimplemented!")}}},$9=class extends J{getDefaultValue(){return null}},Q9=class extends J{getDefaultValue(){return{move:null,amount:0}}canReuseValue(e,t){return e.move===t.move&&e.amount===t.amount}},q9=class extends se{derive(e){return{patternIndex:e.currentMoveInfo.patternIndex,movesFinishing:e.currentMoveInfo.movesFinishing.map(t=>t.move),movesFinished:e.currentMoveInfo.movesFinished.map(t=>t.move)}}canReuseValue(e,t){return e.patternIndex===t.patternIndex&&s3(e.movesFinishing,t.movesFinishing,(n,r)=>n.isIdentical(r))&&s3(e.movesFinished,t.movesFinished,(n,r)=>n.isIdentical(r))}},Y9=class extends se{derive(e){var n;function t(r){return e.detailedTimelineInfo.atEnd&&e.catchUpMove.move!==null&&r.currentMoves.push({move:e.catchUpMove.move,direction:-1,fraction:1-e.catchUpMove.amount,startTimestamp:-1,endTimestamp:-1}),r}if(e.indexer.currentMoveInfo)return t(e.indexer.currentMoveInfo(e.detailedTimelineInfo.timestamp));{const r=e.indexer.timestampToIndex(e.detailedTimelineInfo.timestamp),i={patternIndex:r,currentMoves:[],movesFinishing:[],movesFinished:[],movesStarting:[],latestStart:-1/0,earliestEnd:1/0};if(e.indexer.numAnimatedLeaves()>0){const s=(n=e.indexer.getAnimLeaf(r))==null?void 0:n.as(S);if(!s)return t(i);const a=e.indexer.indexToMoveStartTimestamp(r),o=e.indexer.moveDuration(r),l=o?(e.detailedTimelineInfo.timestamp-a)/o:0,u=a+o,c={move:s,direction:1,fraction:l,startTimestamp:a,endTimestamp:u};l===0?i.movesStarting.push(c):l===1?i.movesFinishing.push(c):(i.currentMoves.push(c),i.latestStart=Math.max(i.latestStart,a),i.earliestEnd=Math.min(i.earliestEnd,u))}return t(i)}}},K9=class extends se{derive(e){let t=e.indexer.transformationAtIndex(e.currentLeavesSimplified.patternIndex);t=e.anchoredStart.applyTransformation(t);for(const n of e.currentLeavesSimplified.movesFinishing)t=t.applyMove(n);for(const n of e.currentLeavesSimplified.movesFinished)t=t.applyMove(n);return t.toKPattern()}};function wr(e){switch(Math.abs(e)){case 0:return 0;case 1:return 1e3;case 2:return 1500;default:return 2e3}}var d4=class extends qr{constructor(e=wr){super(),this.durationForAmount=e}traverseAlg(e){let t=0;for(const n of e.childAlgNodes())t+=this.traverseAlgNode(n);return t}traverseGrouping(e){return e.amount*this.traverseAlg(e.alg)}traverseMove(e){return this.durationForAmount(e.amount)}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return this.durationForAmount(1)}traverseNewline(e){return this.durationForAmount(1)}traverseLineComment(e){return this.durationForAmount(0)}},X9=class{constructor(e,t){this.durationFn=new d4(wr),this.kpuzzle=e,this.moves=new F(t.experimentalExpand())}getAnimLeaf(e){return Array.from(this.moves.childAlgNodes())[e]}indexToMoveStartTimestamp(e){const t=new F(Array.from(this.moves.childAlgNodes()).slice(0,e));return this.durationFn.traverseAlg(t)}timestampToIndex(e){let t=0,n;for(n=0;n<this.numAnimatedLeaves();n++)if(t+=this.durationFn.traverseMove(this.getAnimLeaf(n)),t>=e)return n;return n}patternAtIndex(e){return this.kpuzzle.defaultPattern().applyTransformation(this.transformationAtIndex(e))}transformationAtIndex(e){let t=this.kpuzzle.identityTransformation();for(const n of Array.from(this.moves.childAlgNodes()).slice(0,e))t=t.applyMove(n);return t}algDuration(){return this.durationFn.traverseAlg(this.moves)}numAnimatedLeaves(){return C9(this.moves)}moveDuration(e){return this.durationFn.traverseMove(this.getAnimLeaf(e))}},f3={u:"y",l:"x",f:"z",r:"x",b:"z",d:"y",m:"x",e:"y",s:"z",x:"x",y:"y",z:"z"};function Z9(e,t){return f3[e.family[0].toLowerCase()]===f3[t.family[0].toLowerCase()]}var J9=class extends qr{traverseAlg(e){const t=[];for(const n of e.childAlgNodes())t.push(this.traverseAlgNode(n));return Array.prototype.concat(...t)}traverseGroupingOnce(e){if(e.experimentalIsEmpty())return[];const t=[];for(const i of e.childAlgNodes()){if(!(i.is(S)||i.is(Ji)||i.is(Jn)))return this.traverseAlg(e);const s=i.as(S);s&&t.push(s)}let n=wr(t[0].amount);for(let i=0;i<t.length-1;i++){for(let s=1;s<t.length;s++)if(!Z9(t[i],t[s]))return this.traverseAlg(e);n=Math.max(n,wr(t[i].amount))}const r=t.map(i=>({animLeafAlgNode:i,msUntilNext:0,duration:n}));return r[r.length-1].msUntilNext=n,r}traverseGrouping(e){const t=[],n=e.amount>0?e.alg:e.alg.invert();for(let r=0;r<Math.abs(e.amount);r++)t.push(this.traverseGroupingOnce(n));return Array.prototype.concat(...t)}traverseMove(e){const t=wr(e.amount);return[{animLeafAlgNode:e,msUntilNext:t,duration:t}]}traverseCommutator(e){const t=[],n=[e.A,e.B,e.A.invert(),e.B.invert()];for(const r of n)t.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...t)}traverseConjugate(e){const t=[],n=[e.A,e.B,e.A.invert()];for(const r of n)t.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...t)}traversePause(e){if(e.experimentalNISSGrouping)return[];const t=wr(1);return[{animLeafAlgNode:e,msUntilNext:t,duration:t}]}traverseNewline(e){return[]}traverseLineComment(e){return[]}},ey=pt(J9);function ty(e){let t=0;return ey(e).map(r=>{const i={animLeaf:r.animLeafAlgNode,start:t,end:t+r.duration};return t+=r.msUntilNext,i})}var O0=class{constructor(e,t,n){this.kpuzzle=e,this.animLeaves=(n==null?void 0:n.animationTimelineLeaves)??ty(t)}getAnimLeaf(e){var t;return((t=this.animLeaves[Math.min(e,this.animLeaves.length-1)])==null?void 0:t.animLeaf)??null}getAnimLeafWithRange(e){return this.animLeaves[Math.min(e,this.animLeaves.length-1)]}indexToMoveStartTimestamp(e){let t=0;return this.animLeaves.length>0&&(t=this.animLeaves[Math.min(e,this.animLeaves.length-1)].start),t}timestampToIndex(e){let t=0;for(t=0;t<this.animLeaves.length;t++)if(this.animLeaves[t].start>=e)return Math.max(0,t-1);return Math.max(0,t-1)}timestampToPosition(e,t){const n=this.currentMoveInfo(e);let r=t??this.kpuzzle.identityTransformation().toKPattern();for(const i of this.animLeaves.slice(0,n.patternIndex)){const s=i.animLeaf.as(S);s!==null&&(r=r.applyMove(s))}return{pattern:r,movesInProgress:n.currentMoves}}currentMoveInfo(e){let t=1/0;for(const u of this.animLeaves)if(u.start<=e&&u.end>=e)t=Math.min(t,u.start);else if(u.start>e)break;const n=[],r=[],i=[],s=[];let a=-1/0,o=1/0,l=0;for(const u of this.animLeaves)if(u.end<=t){if(!isFinite(t)&&u.start>e)break;l++}else{if(u.start>e)break;{const c=u.animLeaf.as(S);if(c!==null){let h=(e-u.start)/(u.end-u.start),d=!1;h>1&&(h=1,d=!0);const f={move:c,direction:1,fraction:h,startTimestamp:u.start,endTimestamp:u.end};switch(h){case 0:{r.push(f);break}case 1:{d?s.push(f):i.push(f);break}default:n.push(f),a=Math.max(a,u.start),o=Math.min(o,u.end)}}}}return{patternIndex:l,currentMoves:n,latestStart:a,earliestEnd:o,movesStarting:r,movesFinishing:i,movesFinished:s}}patternAtIndex(e,t){let n=t??this.kpuzzle.defaultPattern();for(let r=0;r<this.animLeaves.length&&r<e;r++){const s=this.animLeaves[r].animLeaf.as(S);s!==null&&(n=n.applyMove(s))}return n}transformationAtIndex(e){let t=this.kpuzzle.identityTransformation();for(const n of this.animLeaves.slice(0,e)){const r=n.animLeaf.as(S);r!==null&&(t=t.applyMove(r))}return t}algDuration(){let e=0;for(const t of this.animLeaves)e=Math.max(e,t.end);return e}numAnimatedLeaves(){return this.animLeaves.length}moveDuration(e){const t=this.getAnimLeafWithRange(e);return t.end-t.start}},cr=class{constructor(e,t,n,r,i=[]){this.moveCount=e,this.duration=t,this.forward=n,this.backward=r,this.children=i}},ny=class extends qr{constructor(e){super(),this.durationFn=new d4(wr),this.cache={},this.kpuzzle=e,this.identity=e.identityTransformation(),this.dummyLeaf=new cr(0,0,this.identity,this.identity,[])}traverseAlg(e){let t=0,n=0,r=this.identity;const i=[];for(const s of e.childAlgNodes()){const a=this.traverseAlgNode(s);t+=a.moveCount,n+=a.duration,r===this.identity?r=a.forward:r=r.applyTransformation(a.forward),i.push(a)}return new cr(t,n,r,r.invert(),i)}traverseGrouping(e){const t=this.traverseAlg(e.alg);return this.mult(t,e.amount,[t])}traverseMove(e){const t=e.toString();let n=this.cache[t];if(n)return n;const r=this.kpuzzle.moveToTransformation(e);return n=new cr(1,this.durationFn.traverseAlgNode(e),r,r.invert()),this.cache[t]=n,n}traverseCommutator(e){const t=this.traverseAlg(e.A),n=this.traverseAlg(e.B),r=t.forward.applyTransformation(n.forward),i=t.backward.applyTransformation(n.backward),s=r.applyTransformation(i),a=new cr(2*(t.moveCount+n.moveCount),2*(t.duration+n.duration),s,s.invert(),[t,n]);return this.mult(a,1,[a,t,n])}traverseConjugate(e){const t=this.traverseAlg(e.A),n=this.traverseAlg(e.B),i=t.forward.applyTransformation(n.forward).applyTransformation(t.backward),s=new cr(2*t.moveCount+n.moveCount,2*t.duration+n.duration,i,i.invert(),[t,n]);return this.mult(s,1,[s,t,n])}traversePause(e){return e.experimentalNISSGrouping?this.dummyLeaf:new cr(1,this.durationFn.traverseAlgNode(e),this.identity,this.identity)}traverseNewline(e){return this.dummyLeaf}traverseLineComment(e){return this.dummyLeaf}mult(e,t,n){const r=Math.abs(t),i=e.forward.selfMultiply(t);return new cr(e.moveCount*r,e.duration*r,i,i.invert(),n)}},Ee=class{constructor(e,t){this.apd=e,this.back=t}},ry=class extends es{constructor(e,t,n){super(),this.kpuzzle=e,this.algOrAlgNode=t,this.apd=n,this.i=-1,this.dur=-1,this.goali=-1,this.goaldur=-1,this.move=void 0,this.back=!1,this.moveDuration=0,this.st=this.kpuzzle.identityTransformation(),this.root=new Ee(this.apd,!1)}moveByIndex(e){return this.i>=0&&this.i===e?this.move!==void 0:this.dosearch(e,1/0)}moveByDuration(e){return this.dur>=0&&this.dur<e&&this.dur+this.moveDuration>=e?this.move!==void 0:this.dosearch(1/0,e)}dosearch(e,t){return this.goali=e,this.goaldur=t,this.i=0,this.dur=0,this.move=void 0,this.moveDuration=0,this.back=!1,this.st=this.kpuzzle.identityTransformation(),this.algOrAlgNode.is(F)?this.traverseAlg(this.algOrAlgNode,this.root):this.traverseAlgNode(this.algOrAlgNode,this.root)}traverseAlg(e,t){if(!this.firstcheck(t))return!1;let n=t.back?e.experimentalNumChildAlgNodes()-1:0;for(const r of g6(e.childAlgNodes(),t.back?-1:1)){if(this.traverseAlgNode(r,new Ee(t.apd.children[n],t.back)))return!0;n+=t.back?-1:1}return!1}traverseGrouping(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,e.amount);return this.traverseAlg(e.alg,new Ee(t.apd.children[0],n))}traverseMove(e,t){return this.firstcheck(t)?(this.move=e,this.moveDuration=t.apd.duration,this.back=t.back,!0):!1}traverseCommutator(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,1);return n?this.traverseAlg(e.B,new Ee(t.apd.children[2],!n))||this.traverseAlg(e.A,new Ee(t.apd.children[1],!n))||this.traverseAlg(e.B,new Ee(t.apd.children[2],n))||this.traverseAlg(e.A,new Ee(t.apd.children[1],n)):this.traverseAlg(e.A,new Ee(t.apd.children[1],n))||this.traverseAlg(e.B,new Ee(t.apd.children[2],n))||this.traverseAlg(e.A,new Ee(t.apd.children[1],!n))||this.traverseAlg(e.B,new Ee(t.apd.children[2],!n))}traverseConjugate(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,1);return n?this.traverseAlg(e.A,new Ee(t.apd.children[1],!n))||this.traverseAlg(e.B,new Ee(t.apd.children[2],n))||this.traverseAlg(e.A,new Ee(t.apd.children[1],n)):this.traverseAlg(e.A,new Ee(t.apd.children[1],n))||this.traverseAlg(e.B,new Ee(t.apd.children[2],n))||this.traverseAlg(e.A,new Ee(t.apd.children[1],!n))}traversePause(e,t){return this.firstcheck(t)?(this.move=e,this.moveDuration=t.apd.duration,this.back=t.back,!0):!1}traverseNewline(e,t){return!1}traverseLineComment(e,t){return!1}firstcheck(e){return e.apd.moveCount+this.i<=this.goali&&e.apd.duration+this.dur<this.goaldur?this.keepgoing(e):!0}domult(e,t){let n=e.back;if(t===0)return n;t<0&&(n=!n,t=-t);const r=e.apd.children[0],i=Math.min(Math.floor((this.goali-this.i)/r.moveCount),Math.ceil((this.goaldur-this.dur)/r.duration-1));return i>0&&this.keepgoing(new Ee(r,n),i),n}keepgoing(e,t=1){return this.i+=t*e.apd.moveCount,this.dur+=t*e.apd.duration,t!==1?e.back?this.st=this.st.applyTransformation(e.apd.backward.selfMultiply(t)):this.st=this.st.applyTransformation(e.apd.forward.selfMultiply(t)):e.back?this.st=this.st.applyTransformation(e.apd.backward):this.st=this.st.applyTransformation(e.apd.forward),!1}},iy=16;function sy(e,t){const n=new nl,r=new nl;for(const i of e.childAlgNodes())r.push(i),r.experimentalNumAlgNodes()>=t&&(n.push(new He(r.toAlg())),r.reset());return n.push(new He(r.toAlg())),n.toAlg()}var ay=class extends qr{traverseAlg(e){const t=e.experimentalNumChildAlgNodes();return t<iy?e:sy(e,Math.ceil(Math.sqrt(t)))}traverseGrouping(e){return new He(this.traverseAlg(e.alg),e.amount)}traverseMove(e){return e}traverseCommutator(e){return new et(this.traverseAlg(e.A),this.traverseAlg(e.B))}traverseConjugate(e){return new et(this.traverseAlg(e.A),this.traverseAlg(e.B))}traversePause(e){return e}traverseNewline(e){return e}traverseLineComment(e){return e}},oy=pt(ay),m3=class{constructor(e,t){this.kpuzzle=e;const n=new ny(this.kpuzzle),r=oy(t);this.decoration=n.traverseAlg(r),this.walker=new ry(this.kpuzzle,r,this.decoration)}getAnimLeaf(e){if(this.walker.moveByIndex(e)){if(!this.walker.move)throw new Error("`this.walker.mv` missing");const t=this.walker.move;return this.walker.back?t.invert():t}return null}indexToMoveStartTimestamp(e){if(this.walker.moveByIndex(e)||this.walker.i===e)return this.walker.dur;throw new Error(`Out of algorithm: index ${e}`)}indexToMovesInProgress(e){if(this.walker.moveByIndex(e)||this.walker.i===e)return this.walker.dur;throw new Error(`Out of algorithm: index ${e}`)}patternAtIndex(e,t){return this.walker.moveByIndex(e),(t??this.kpuzzle.defaultPattern()).applyTransformation(this.walker.st)}transformationAtIndex(e){return this.walker.moveByIndex(e),this.walker.st}numAnimatedLeaves(){return this.decoration.moveCount}timestampToIndex(e){return this.walker.moveByDuration(e),this.walker.i}algDuration(){return this.decoration.duration}moveDuration(e){return this.walker.moveByIndex(e),this.walker.moveDuration}},ly=1024,uy=class extends se{derive(e){switch(e.indexerConstructorRequest){case"auto":return e.animationTimelineLeaves!==null||k9(e.alg.alg)<=ly&&e.puzzle==="3x3x3"&&e.visualizationStrategy==="Cube3D"?O0:m3;case"tree":return m3;case"simple":return X9;case"simultaneous":return O0;default:throw new Error("Invalid indexer request!")}}},cy=class extends J{getDefaultValue(){return"auto"}},dy=class extends se{derive(e){return new e.indexerConstructor(e.kpuzzle,e.algWithIssues.alg,{animationTimelineLeaves:e.animationTimelineLeaves})}},hy=class extends se{derive(e){return{pattern:e.currentPattern,movesInProgress:e.currentMoveInfo.currentMoves}}},fy=!0,p3=class extends se{async derive(e){try{return fy&&e.kpuzzle.algToTransformation(e.algWithIssues.alg),e.algWithIssues}catch(t){return{alg:new F,issues:new ra({errors:[`Invalid alg for puzzle: ${t.toString()}`]})}}}},my=class extends J{getDefaultValue(){return"start"}},py=class extends J{getDefaultValue(){return null}},gy=class extends se{async derive(e){return e.puzzleLoader.kpuzzle()}},yy=class extends J{getDefaultValue(){return ea}},vy=class extends se{async derive(e){return e.puzzleLoader.id}},wy=class extends J{getDefaultValue(){return ea}},xy=class extends se{derive(e){if(e.puzzleIDRequest&&e.puzzleIDRequest!==ea){const t=ic[e.puzzleIDRequest];return t||this.userVisibleErrorTracker.set({errors:[`Invalid puzzle ID: ${e.puzzleIDRequest}`]}),t}return e.puzzleDescriptionRequest&&e.puzzleDescriptionRequest!==ea?e7(e.puzzleDescriptionRequest):ts}},Sy=class extends se{derive(e){return{playing:e.playingInfo.playing,atStart:e.detailedTimelineInfo.atStart,atEnd:e.detailedTimelineInfo.atEnd}}canReuseValue(e,t){return e.playing===t.playing&&e.atStart===t.atStart&&e.atEnd===t.atEnd}},Al,h4,K3,zy=(K3=class extends se{constructor(){super(...arguments);R(this,Al)}derive(t){let n=H(this,Al,h4).call(this,t),r=!1,i=!1;return n>=t.timeRange.end&&(i=!0,n=Math.min(t.timeRange.end,n)),n<=t.timeRange.start&&(r=!0,n=Math.max(t.timeRange.start,n)),{timestamp:n,timeRange:t.timeRange,atStart:r,atEnd:i}}canReuseValue(t,n){return t.timestamp===n.timestamp&&t.timeRange.start===n.timeRange.start&&t.timeRange.end===n.timeRange.end&&t.atStart===n.atStart&&t.atEnd===n.atEnd}},Al=new WeakSet,h4=function(t){switch(t.timestampRequest){case"auto":return t.setupAnchor==="start"&&t.setupAlg.alg.experimentalIsEmpty()?t.timeRange.end:t.timeRange.start;case"start":return t.timeRange.start;case"end":return t.timeRange.end;case"anchor":return t.setupAnchor==="start"?t.timeRange.start:t.timeRange.end;case"opposite-anchor":return t.setupAnchor==="start"?t.timeRange.end:t.timeRange.start;default:return t.timestampRequest}},K3),Ey=class extends lr{async getDefaultValue(){return{direction:1,playing:!1,untilBoundary:"entire-timeline",loop:!1}}async derive(e,t){const n=await t,r=Object.assign({},n);return Object.assign(r,e),r}canReuseValue(e,t){return e.direction===t.direction&&e.playing===t.playing&&e.untilBoundary===t.untilBoundary&&e.loop===t.loop}},ky=class extends lr{getDefaultValue(){return 1}derive(e){return e<0?1:e}},My={auto:!0,start:!0,end:!0,anchor:!0,"opposite-anchor":!0},Ty=class extends J{getDefaultValue(){return"auto"}set(e){const t=this.get();super.set((async()=>this.validInput(await e)?e:t)())}validInput(e){return!!(typeof e=="number"||My[e])}},Cy=class extends J{getDefaultValue(){return"auto"}},Dy=class extends se{derive(e){return{start:0,end:e.indexer.algDuration()}}},Ly=class extends J{getDefaultValue(){return"auto"}},Ry=class extends J{getDefaultValue(){return"auto"}},Ay=class extends se{derive(e){switch(e.puzzleID){case"clock":case"square1":case"redi_cube":case"melindas2x2x2x2":case"tri_quad":case"loopover":return"2D";case"3x3x3":switch(e.visualizationRequest){case"auto":case"3D":return"Cube3D";default:return e.visualizationRequest}default:switch(e.visualizationRequest){case"auto":case"3D":return"PG3D";case"experimental-2D-LL":case"experimental-2D-LL-face":return["2x2x2","4x4x4","megaminx"].includes(e.puzzleID)?"experimental-2D-LL":"2D";default:return e.visualizationRequest}}}},Iy=class extends J{getDefaultValue(){return"auto"}},by=class extends J{getDefaultValue(){return"auto"}},_y=class extends J{getDefaultValue(){return"auto"}},Ny=null;async function Py(){return Ny??(Ny=new(await Zt()).ThreeTextureLoader)}var g3=class extends se{async derive(e){const{spriteURL:t}=e;return t===null?null:new Promise(async(n,r)=>{const i=()=>{console.warn("Could not load sprite:",t.toString()),n(null)};try{(await Py()).load(t.toString(),n,i,i)}catch{i()}})}},Fy={facelets:["regular","regular","regular","regular","regular"]};async function Oy(e){const{definition:t}=await e.kpuzzle(),n={orbits:{}};for(const r of t.orbits)n.orbits[r.orbitName]={pieces:new Array(r.numPieces).fill(Fy)};return n}var By=class extends se{getDefaultValue(){return{orbits:{}}}async derive(e){var t,n;return e.stickeringMaskRequest?e.stickeringMaskRequest:e.stickeringRequest==="picture"?{specialBehaviour:"picture",orbits:{}}:((n=(t=e.puzzleLoader).stickeringMask)==null?void 0:n.call(t,e.stickeringRequest??"full"))??Oy(e.puzzleLoader)}},jy={"-":"Regular",D:"Dim",I:"Ignored",X:"Invisible",O:"IgnoreNonPrimary",P:"PermuteNonPrimary",o:"Ignoriented","?":"OrientationWithoutPermutation",M:"Mystery","@":"Regular"};function Uy(e){const t={orbits:{}},n=e.split(",");for(const r of n){const[i,s,...a]=r.split(":");if(a.length>0)throw new Error(`Invalid serialized orbit stickering mask (too many colons): \`${r}\``);const o=[];t.orbits[i]={pieces:o};for(const l of s){const u=jy[l];o.push(Af(u))}}return t}var Vy=class extends lr{getDefaultValue(){return null}derive(e){return e===null?null:typeof e=="string"?Uy(e):e}},Wy=class extends J{getDefaultValue(){return null}},Gy=class extends J{getDefaultValue(){return"auto"}},Hy=class extends J{getDefaultValue(){return{}}},$y=class extends J{getDefaultValue(){return"auto"}},Qy=class extends J{getDefaultValue(){return"auto"}},qy=class extends se{derive(e){return e.colorSchemeRequest==="dark"?"dark":"light"}},Yy=class extends J{getDefaultValue(){return"auto"}},Ky=class extends J{getDefaultValue(){return null}},Xy=35,Zy=class extends J{getDefaultValue(){return Xy}};function f4(e,t){return e.latitude===t.latitude&&e.longitude===t.longitude&&e.distance===t.distance}var Jy=class extends lr{getDefaultValue(){return"auto"}canReuseValue(e,t){return e===t||f4(e,t)}async derive(e,t){if(e==="auto")return"auto";let n=await t;n==="auto"&&(n={});const r=Object.assign({},n);return Object.assign(r,e),typeof r.latitude<"u"&&(r.latitude=Math.min(Math.max(r.latitude,-90),90)),typeof r.longitude<"u"&&(r.longitude=e1(r.longitude,180,-180)),r}},ev=class extends se{canReuseValue(e,t){return f4(e,t)}async derive(e){if(e.orbitCoordinatesRequest==="auto")return v3(e.puzzleID,e.strategy);const t=Object.assign(Object.assign({},v3(e.puzzleID,e.strategy),e.orbitCoordinatesRequest));if(Math.abs(t.latitude)<=e.latitudeLimit)return t;{const{latitude:n,longitude:r,distance:i}=t;return{latitude:e.latitudeLimit*Math.sign(n),longitude:r,distance:i}}}},tv={latitude:31.717474411461005,longitude:0,distance:5.877852522924731},nv={latitude:35,longitude:30,distance:6},y3={latitude:35,longitude:30,distance:6.25},rv={latitude:Math.atan(1/2)*ta,longitude:0,distance:6.7},iv={latitude:26.56505117707799,longitude:0,distance:6};function v3(e,t){if(e[1]==="x")return t==="Cube3D"?nv:y3;switch(e){case"megaminx":case"gigaminx":return rv;case"pyraminx":case"master_tetraminx":return iv;case"skewb":return y3;default:return tv}}var sv=class{constructor(e){this.background=new Qy,this.colorSchemeRequest=new Yy,this.dragInput=new Gy,this.foundationDisplay=new by,this.foundationStickerSpriteURL=new r1,this.fullscreenElement=new Ky,this.hintFacelet=new Jg,this.hintStickerSpriteURL=new r1,this.initialHintFaceletsAnimation=new _y,this.latitudeLimit=new Zy,this.movePressInput=new $y,this.movePressCancelOptions=new Hy,this.orbitCoordinatesRequest=new Jy,this.stickeringMaskRequest=new Vy,this.stickeringRequest=new Wy,this.faceletScale=new Iy,this.colorScheme=new qy({colorSchemeRequest:this.colorSchemeRequest}),this.foundationStickerSprite=new g3({spriteURL:this.foundationStickerSpriteURL}),this.hintStickerSprite=new g3({spriteURL:this.hintStickerSpriteURL}),this.twistyPlayerModel=e,this.orbitCoordinates=new ev({orbitCoordinatesRequest:this.orbitCoordinatesRequest,latitudeLimit:this.latitudeLimit,puzzleID:e.puzzleID,strategy:e.visualizationStrategy}),this.stickeringMask=new By({stickeringMaskRequest:this.stickeringMaskRequest,stickeringRequest:this.stickeringRequest,puzzleLoader:e.puzzleLoader})}},av={errors:[]},ov=class extends J{getDefaultValue(){return av}reset(){this.set(this.getDefaultValue())}canReuseValue(e,t){return Ju(e.errors,t.errors)}},lv=class{constructor(){this.userVisibleErrorTracker=new ov,this.alg=new h3,this.backView=new Cy,this.controlPanel=new I9,this.catchUpMove=new Q9,this.indexerConstructorRequest=new cy,this.playingInfo=new Ey,this.puzzleDescriptionRequest=new yy,this.puzzleIDRequest=new wy,this.setupAnchor=new my,this.setupAlg=new h3,this.setupTransformation=new py,this.tempoScale=new ky,this.timestampRequest=new Ty,this.viewerLink=new Ly,this.visualizationFormat=new Ry,this.title=new d3,this.videoURL=new r1,this.competitionID=new d3,this.animationTimelineLeavesRequest=new $9,this.puzzleLoader=new xy({puzzleIDRequest:this.puzzleIDRequest,puzzleDescriptionRequest:this.puzzleDescriptionRequest},this.userVisibleErrorTracker),this.kpuzzle=new gy({puzzleLoader:this.puzzleLoader}),this.puzzleID=new vy({puzzleLoader:this.puzzleLoader}),this.puzzleAlg=new p3({algWithIssues:this.alg,kpuzzle:this.kpuzzle}),this.puzzleSetupAlg=new p3({algWithIssues:this.setupAlg,kpuzzle:this.kpuzzle}),this.visualizationStrategy=new Ay({visualizationRequest:this.visualizationFormat,puzzleID:this.puzzleID}),this.indexerConstructor=new uy({alg:this.alg,puzzle:this.puzzleID,visualizationStrategy:this.visualizationStrategy,indexerConstructorRequest:this.indexerConstructorRequest,animationTimelineLeaves:this.animationTimelineLeavesRequest}),this.setupAlgTransformation=new G9({setupAlg:this.puzzleSetupAlg,kpuzzle:this.kpuzzle}),this.indexer=new dy({indexerConstructor:this.indexerConstructor,algWithIssues:this.puzzleAlg,kpuzzle:this.kpuzzle,animationTimelineLeaves:this.animationTimelineLeavesRequest}),this.anchorTransformation=new H9({setupTransformation:this.setupTransformation,setupAnchor:this.setupAnchor,setupAlgTransformation:this.setupAlgTransformation,indexer:this.indexer}),this.timeRange=new Dy({indexer:this.indexer}),this.detailedTimelineInfo=new zy({timestampRequest:this.timestampRequest,timeRange:this.timeRange,setupAnchor:this.setupAnchor,setupAlg:this.setupAlg}),this.coarseTimelineInfo=new Sy({detailedTimelineInfo:this.detailedTimelineInfo,playingInfo:this.playingInfo}),this.currentMoveInfo=new Y9({indexer:this.indexer,detailedTimelineInfo:this.detailedTimelineInfo,catchUpMove:this.catchUpMove}),this.buttonAppearance=new U9({coarseTimelineInfo:this.coarseTimelineInfo,viewerLink:this.viewerLink}),this.currentLeavesSimplified=new q9({currentMoveInfo:this.currentMoveInfo}),this.currentPattern=new K9({anchoredStart:this.anchorTransformation,currentLeavesSimplified:this.currentLeavesSimplified,indexer:this.indexer}),this.legacyPosition=new hy({currentMoveInfo:this.currentMoveInfo,currentPattern:this.currentPattern}),this.twistySceneModel=new sv(this)}async twizzleLink(){const[e,t,n,r,i,s,a,o]=await Promise.all([this.viewerLink.get(),this.puzzleID.get(),this.puzzleDescriptionRequest.get(),this.alg.get(),this.setupAlg.get(),this.setupAnchor.get(),this.twistySceneModel.stickeringRequest.get(),this.twistySceneModel.twistyPlayerModel.title.get()]),l=e==="experimental-twizzle-explorer",u=new URL(`https://alpha.twizzle.net/${l?"explore":"edit"}/`);return r.alg.experimentalIsEmpty()||u.searchParams.set("alg",r.alg.toString()),i.alg.experimentalIsEmpty()||u.searchParams.set("setup-alg",i.alg.toString()),s!=="start"&&u.searchParams.set("setup-anchor",s),a!=="full"&&a!==null&&u.searchParams.set("experimental-stickering",a),l&&n!==ea?u.searchParams.set("puzzle-description",n):t!=="3x3x3"&&u.searchParams.set("puzzle",t),o&&u.searchParams.set("title",o),u.toString()}experimentalAddAlgLeaf(e,t){const n=e.as(S);n?this.experimentalAddMove(n,t):this.alg.set((async()=>{const i=(await this.alg.get()).alg.concat(new F([e]));return this.timestampRequest.set("end"),i})())}experimentalAddMove(e,t){const n=typeof e=="string"?new S(e):e;this.alg.set((async()=>{const[{alg:r},i]=await Promise.all([this.alg.get(),this.puzzleLoader.get()]),s=Df(r,n,{...t,...await Y6(i)});return this.timestampRequest.set("end"),this.catchUpMove.set({move:n,amount:0}),s})())}experimentalRemoveFinalChild(){this.alg.set((async()=>{const e=(await this.alg.get()).alg,t=Array.from(e.childAlgNodes()),[n]=t.splice(-1);if(!n)return e;this.timestampRequest.set("end");const r=n.as(S);return r&&this.catchUpMove.set({move:r.invert(),amount:0}),new F(t)})())}};function K(e){return new Error(`Cannot get \`.${e}\` directly from a \`TwistyPlayer\`.`)}var uv=class extends Tt{constructor(){super(...arguments),this.experimentalModel=new lv,this.experimentalGet=new cv(this.experimentalModel)}set alg(e){this.experimentalModel.alg.set(e)}get alg(){throw K("alg")}set experimentalSetupAlg(e){this.experimentalModel.setupAlg.set(e)}get experimentalSetupAlg(){throw K("setup")}set experimentalSetupAnchor(e){this.experimentalModel.setupAnchor.set(e)}get experimentalSetupAnchor(){throw K("anchor")}set puzzle(e){this.experimentalModel.puzzleIDRequest.set(e)}get puzzle(){throw K("puzzle")}set experimentalPuzzleDescription(e){this.experimentalModel.puzzleDescriptionRequest.set(e)}get experimentalPuzzleDescription(){throw K("experimentalPuzzleDescription")}set timestamp(e){this.experimentalModel.timestampRequest.set(e)}get timestamp(){throw K("timestamp")}set hintFacelets(e){this.experimentalModel.twistySceneModel.hintFacelet.set(e)}get hintFacelets(){throw K("hintFacelets")}set experimentalStickering(e){this.experimentalModel.twistySceneModel.stickeringRequest.set(e)}get experimentalStickering(){throw K("experimentalStickering")}set experimentalStickeringMaskOrbits(e){this.experimentalModel.twistySceneModel.stickeringMaskRequest.set(e)}get experimentalStickeringMaskOrbits(){throw K("experimentalStickeringMaskOrbits")}set experimentalFaceletScale(e){this.experimentalModel.twistySceneModel.faceletScale.set(e)}get experimentalFaceletScale(){throw K("experimentalFaceletScale")}set backView(e){this.experimentalModel.backView.set(e)}get backView(){throw K("backView")}set background(e){this.experimentalModel.twistySceneModel.background.set(e)}get background(){throw K("background")}set colorScheme(e){this.experimentalModel.twistySceneModel.colorSchemeRequest.set(e)}get colorScheme(){throw K("colorScheme")}set controlPanel(e){this.experimentalModel.controlPanel.set(e)}get controlPanel(){throw K("controlPanel")}set visualization(e){this.experimentalModel.visualizationFormat.set(e)}get visualization(){throw K("visualization")}set experimentalTitle(e){this.experimentalModel.title.set(e)}get experimentalTitle(){throw K("experimentalTitle")}set experimentalVideoURL(e){this.experimentalModel.videoURL.set(e)}get experimentalVideoURL(){throw K("experimentalVideoURL")}set experimentalCompetitionID(e){this.experimentalModel.competitionID.set(e)}get experimentalCompetitionID(){throw K("experimentalCompetitionID")}set viewerLink(e){this.experimentalModel.viewerLink.set(e)}get viewerLink(){throw K("viewerLink")}set experimentalMovePressInput(e){this.experimentalModel.twistySceneModel.movePressInput.set(e)}get experimentalMovePressInput(){throw K("experimentalMovePressInput")}set experimentalMovePressCancelOptions(e){this.experimentalModel.twistySceneModel.movePressCancelOptions.set(e)}get experimentalMovePressCancelOptions(){throw K("experimentalMovePressCancelOptions")}set cameraLatitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({latitude:e})}get cameraLatitude(){throw K("cameraLatitude")}set cameraLongitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({longitude:e})}get cameraLongitude(){throw K("cameraLongitude")}set cameraDistance(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({distance:e})}get cameraDistance(){throw K("cameraDistance")}set cameraLatitudeLimit(e){this.experimentalModel.twistySceneModel.latitudeLimit.set(e)}get cameraLatitudeLimit(){throw K("cameraLatitudeLimit")}set indexer(e){this.experimentalModel.indexerConstructorRequest.set(e)}get indexer(){throw K("indexer")}set tempoScale(e){this.experimentalModel.tempoScale.set(e)}get tempoScale(){throw K("tempoScale")}set experimentalSprite(e){this.experimentalModel.twistySceneModel.foundationStickerSpriteURL.set(e)}get experimentalSprite(){throw K("experimentalSprite")}set experimentalHintSprite(e){this.experimentalModel.twistySceneModel.hintStickerSpriteURL.set(e)}get experimentalHintSprite(){throw K("experimentalHintSprite")}set fullscreenElement(e){this.experimentalModel.twistySceneModel.fullscreenElement.set(e)}get fullscreenElement(){throw K("fullscreenElement")}set experimentalInitialHintFaceletsAnimation(e){this.experimentalModel.twistySceneModel.initialHintFaceletsAnimation.set(e)}get experimentalInitialHintFaceletsAnimation(){throw K("experimentalInitialHintFaceletsAnimation")}set experimentalDragInput(e){this.experimentalModel.twistySceneModel.dragInput.set(e)}get experimentalDragInput(){throw K("experimentalDragInput")}},cv=class{constructor(e){this.model=e}async alg(){return(await this.model.alg.get()).alg}async setupAlg(){return(await this.model.setupAlg.get()).alg}puzzleID(){return this.model.puzzleID.get()}async timestamp(){return(await this.model.detailedTimelineInfo.get()).timestamp}},B0="data-",ml={alg:"alg","experimental-setup-alg":"experimentalSetupAlg","experimental-setup-anchor":"experimentalSetupAnchor",puzzle:"puzzle","experimental-puzzle-description":"experimentalPuzzleDescription",visualization:"visualization","hint-facelets":"hintFacelets","experimental-stickering":"experimentalStickering","experimental-stickering-mask-orbits":"experimentalStickeringMaskOrbits",background:"background","color-scheme":"colorScheme","control-panel":"controlPanel","back-view":"backView","experimental-initial-hint-facelets-animation":"experimentalInitialHintFaceletsAnimation","viewer-link":"viewerLink","experimental-move-press-input":"experimentalMovePressInput","experimental-drag-input":"experimentalDragInput","experimental-title":"experimentalTitle","experimental-video-url":"experimentalVideoURL","experimental-competition-id":"experimentalCompetitionID","camera-latitude":"cameraLatitude","camera-longitude":"cameraLongitude","camera-distance":"cameraDistance","camera-latitude-limit":"cameraLatitudeLimit","tempo-scale":"tempoScale","experimental-sprite":"experimentalSprite","experimental-hint-sprite":"experimentalHintSprite"},dv=Object.fromEntries(Object.values(ml).map(e=>[e,!0])),hv={experimentalMovePressCancelOptions:!0},w3,m4=Symbol("intersectedCallback");function fv(e){w3??(w3=new IntersectionObserver((t,n)=>{for(const r of t)r.isIntersecting&&r.intersectionRect.height>0&&(r.target[m4](),n.unobserve(r.target))})),w3.observe(e)}var Ea,Ii,br,bi,_i,Vt,Ni,Pi,Il,p4,X3,Fa=(X3=class extends uv{constructor(t={}){super();R(this,Il);R(this,Ea);R(this,Ii);R(this,br);R(this,bi);R(this,_i);R(this,Vt);R(this,Ni);R(this,Pi);this.controller=new R9(this.experimentalModel,this),this.experimentalCanvasClickCallback=()=>{},C(this,Ea,new n0(this,"controls-",["auto"].concat(Object.keys(A9)))),C(this,Ii,document.createElement("div")),C(this,br,document.createElement("div")),C(this,bi,!1),C(this,_i,"auto"),C(this,Vt,null),C(this,Ni,new Km),C(this,Pi,null);for(const[n,r]of Object.entries(t)){if(!(dv[n]||hv[n])){console.warn(`Invalid config passed to TwistyPlayer: ${n}`);break}this[n]=r}}async connectedCallback(){this.addCSS(l4),fv(this)}async[m4](){if(m(this,bi))return;C(this,bi,!0),this.addElement(m(this,Ii)).classList.add("visualization-wrapper"),this.addElement(m(this,br)).classList.add("error-elem"),m(this,br).textContent="Error",this.experimentalModel.userVisibleErrorTracker.addFreshListener(n=>{const r=n.errors[0]??null;this.contentWrapper.classList.toggle("error",!!r),r&&(m(this,br).textContent=r)});const t=new s4(this.experimentalModel,this.controller);this.contentWrapper.appendChild(t),this.buttons=new e4(this.experimentalModel,this.controller,this),this.contentWrapper.appendChild(this.buttons),this.experimentalModel.twistySceneModel.background.addFreshListener(n=>{this.contentWrapper.classList.toggle("checkered",["auto","checkered"].includes(n)),this.contentWrapper.classList.toggle("checkered-transparent",n==="checkered-transparent")}),this.experimentalModel.twistySceneModel.colorScheme.addFreshListener(n=>{this.contentWrapper.classList.toggle("dark-mode",["dark"].includes(n))}),this.experimentalModel.controlPanel.addFreshListener(n=>{m(this,Ea).setValue(n)}),this.experimentalModel.visualizationStrategy.addFreshListener(H(this,Il,p4).bind(this)),this.experimentalModel.puzzleID.addFreshListener(this.flash.bind(this))}experimentalSetFlashLevel(t){C(this,_i,t)}flash(){var t;m(this,_i)==="auto"&&((t=m(this,Vt))==null||t.animate([{opacity:.25},{opacity:1}],{duration:250,easing:"ease-out"}))}async experimentalCurrentVantages(){this.connectedCallback();const t=m(this,Vt);return t instanceof n1?t.experimentalVantages():[]}async experimentalCurrentCanvases(){const t=await this.experimentalCurrentVantages(),n=[];for(const r of t)n.push((await r.canvasInfo()).canvas);return n}async experimentalCurrentThreeJSPuzzleObject(t){this.connectedCallback();const r=await(await m(this,Ni).promise).experimentalTwisty3DPuzzleWrapper(),i=r.twisty3DPuzzle(),s=(async()=>{await i,await new Promise(a=>setTimeout(a,0))})();if(t){const a=new ns(async()=>{});r.addEventListener("render-scheduled",async()=>{a.requestIsPending()||(a.requestAnimFrame(),await s,t())})}return i}jumpToStart(t){this.controller.jumpToStart(t)}jumpToEnd(t){this.controller.jumpToEnd(t)}play(){this.controller.togglePlay(!0)}pause(){this.controller.togglePlay(!1)}togglePlay(t){this.controller.togglePlay(t)}experimentalAddMove(t,n){this.experimentalModel.experimentalAddMove(t,n)}experimentalAddAlgLeaf(t,n){this.experimentalModel.experimentalAddAlgLeaf(t,n)}static get observedAttributes(){const t=[];for(const n of Object.keys(ml))t.push(n,B0+n);return t}experimentalRemoveFinalChild(){this.experimentalModel.experimentalRemoveFinalChild()}attributeChangedCallback(t,n,r){t.startsWith(B0)&&(t=t.slice(B0.length));const i=ml[t];i&&(this[i]=r)}async experimentalScreenshot(t){return(await c3(this.experimentalModel,t)).dataURL}async experimentalDownloadScreenshot(t){if(["2D","experimental-2D-LL","experimental-2D-LL-face"].includes(await this.experimentalModel.visualizationStrategy.get())){const r=await m(this,Vt).currentTwisty2DPuzzleWrapper().twisty2DPuzzle(),i=new XMLSerializer().serializeToString(r.svgWrapper.svgElement),s=URL.createObjectURL(new Blob([i]));o4(s,t??await a4(this.experimentalModel),"svg")}else await(await c3(this.experimentalModel)).download(t)}},Ea=new WeakMap,Ii=new WeakMap,br=new WeakMap,bi=new WeakMap,_i=new WeakMap,Vt=new WeakMap,Ni=new WeakMap,Pi=new WeakMap,Il=new WeakSet,p4=function(t){var n,r;if(t!==m(this,Pi)){(n=m(this,Vt))==null||n.remove(),(r=m(this,Vt))==null||r.disconnect();let i;switch(t){case"2D":case"experimental-2D-LL":case"experimental-2D-LL-face":{i=new Ym(this.experimentalModel.twistySceneModel,t);break}case"Cube3D":case"PG3D":{i=new n1(this.experimentalModel),m(this,Ni).handleNewValue(i);break}default:throw new Error("Invalid visualization")}m(this,Ii).appendChild(i),C(this,Vt,i),C(this,Pi,t)}},X3);Ue.define("twisty-player",Fa);var g4=new ht;g4.replaceSync(`
:host {
  display: inline;
}

.wrapper {
  display: inline;
}

a:not(:hover) {
  color: inherit;
  text-decoration: none;
}

twisty-alg-leaf-elem.twisty-alg-comment {
  color: rgba(0, 0, 0, 0.4);
}

.wrapper.current-move {
  background: rgba(66, 133, 244, 0.3);
  margin-left: -0.1em;
  margin-right: -0.1em;
  padding-left: 0.1em;
  padding-right: 0.1em;
  border-radius: 0.1em;
}
`);async function mv(e){return new Promise((t,n)=>{const r=document.getElementById(e);r&&t(r);const i=new MutationObserver(s=>{for(const a of s)a.attributeName==="id"&&a.target instanceof Element&&a.target.getAttribute("id")===e&&(t(a.target),i.disconnect())});i.observe(document.body,{attributeFilter:["id"],subtree:!0})})}var pv=.25,ei=class extends Tt{constructor(e,t,n,r,i,s){if(super({mode:"open"}),this.algOrAlgNode=r,this.classList.add(e),this.addCSS(g4),s){const a=this.contentWrapper.appendChild(document.createElement("a"));a.href="#",a.textContent=t,a.addEventListener("click",o=>{o.preventDefault(),n.twistyAlgViewer.jumpToIndex(n.earliestMoveIndex,i)})}else this.contentWrapper.appendChild(document.createElement("span")).textContent=t}pathToIndex(e){return[]}setCurrentMove(e){this.contentWrapper.classList.toggle("current-move",e)}};Ue.define("twisty-alg-leaf-elem",ei);var ti=class extends na{constructor(e,t){super(),this.queue=[],this.algOrAlgNode=t,this.classList.add(e)}addString(e){this.queue.push(document.createTextNode(e))}addElem(e){return this.queue.push(e.element),e.moveCount}flushQueue(e=1){for(const t of y4(this.queue,e))this.append(t);this.queue=[]}pathToIndex(e){return[]}};Ue.define("twisty-alg-wrapper-elem",ti);function gv(e){return e===1?-1:1}function yv(e,t){return t<0?gv(e):e}function y4(e,t){if(t===1)return e;const n=Array.from(e);return n.reverse(),n}var vv=class extends es{traverseAlg(e,t){var s,a,o;let n=0;const r=new ti("twisty-alg-alg",e);let i=!0;for(const l of vf(e.childAlgNodes(),t.direction))i||r.addString(" "),i=!1,(s=l.as(Qe))!=null&&s.experimentalNISSGrouping&&r.addString("^("),(a=l.as(He))!=null&&a.experimentalNISSPlaceholder||(n+=r.addElem(this.traverseAlgNode(l,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction}))),(o=l.as(Qe))!=null&&o.experimentalNISSGrouping&&r.addString(")");return r.flushQueue(t.direction),{moveCount:n,element:r}}traverseGrouping(e,t){const n=e.experimentalAsSquare1Tuple(),r=yv(t.direction,e.amount);let i=0;const s=new ti("twisty-alg-grouping",e);return s.addString("("),n?(i+=s.addElem({moveCount:1,element:new ei("twisty-alg-move",n[0].amount.toString(),t,n[0],!0,!0)}),s.addString(", "),i+=s.addElem({moveCount:1,element:new ei("twisty-alg-move",n[1].amount.toString(),t,n[1],!0,!0)})):i+=s.addElem(this.traverseAlg(e.alg,{earliestMoveIndex:t.earliestMoveIndex+i,twistyAlgViewer:t.twistyAlgViewer,direction:r})),s.addString(`)${e.experimentalRepetitionSuffix}`),s.flushQueue(),{moveCount:i*Math.abs(e.amount),element:s}}traverseMove(e,t){const n=new ei("twisty-alg-move",e.toString(),t,e,!0,!0);return t.twistyAlgViewer.highlighter.addMove(e[ct],n),{moveCount:1,element:n}}traverseCommutator(e,t){let n=0;const r=new ti("twisty-alg-commutator",e);r.addString("["),r.flushQueue();const[i,s]=y4([e.A,e.B],t.direction);return n+=r.addElem(this.traverseAlg(i,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.addString(", "),n+=r.addElem(this.traverseAlg(s,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.flushQueue(t.direction),r.addString("]"),r.flushQueue(),{moveCount:n*2,element:r}}traverseConjugate(e,t){let n=0;const r=new ti("twisty-alg-conjugate",e);r.addString("[");const i=r.addElem(this.traverseAlg(e.A,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction}));return n+=i,r.addString(": "),n+=r.addElem(this.traverseAlg(e.B,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.addString("]"),r.flushQueue(),{moveCount:n+i,element:r}}traversePause(e,t){return e.experimentalNISSGrouping?this.traverseAlg(e.experimentalNISSGrouping.alg,t):{moveCount:1,element:new ei("twisty-alg-pause",".",t,e,!0,!0)}}traverseNewline(e,t){const n=new ti("twisty-alg-newline",e);return n.append(document.createElement("br")),{moveCount:0,element:n}}traverseLineComment(e,t){return{moveCount:0,element:new ei("twisty-alg-line-comment",`//${e.text}`,t,e,!1,!1)}}},wv=pt(vv),xv=class{constructor(){this.moveCharIndexMap=new Map,this.currentElem=null}addMove(e,t){this.moveCharIndexMap.set(e,t)}set(e){var n,r;const t=e?this.moveCharIndexMap.get(e[ct])??null:null;this.currentElem!==t&&((n=this.currentElem)==null||n.classList.remove("twisty-alg-current-move"),(r=this.currentElem)==null||r.setCurrentMove(!1),t==null||t.classList.add("twisty-alg-current-move"),t==null||t.setCurrentMove(!0),this.currentElem=t)}},ka,Wt,bl,w4,Z3,v4=(Z3=class extends na{constructor(t){super();R(this,bl);R(this,ka);R(this,Wt);this.highlighter=new xv,C(this,Wt,null),this.lastClickTimestamp=null,t!=null&&t.twistyPlayer&&(this.twistyPlayer=t==null?void 0:t.twistyPlayer)}connectedCallback(){}setAlg(t){C(this,ka,wv(t,{earliestMoveIndex:0,twistyAlgViewer:this,direction:1}).element),this.textContent="",this.appendChild(m(this,ka))}get twistyPlayer(){return m(this,Wt)}set twistyPlayer(t){H(this,bl,w4).call(this,t)}async jumpToIndex(t,n){const r=m(this,Wt);if(r){r.pause();const i=(async()=>{const s=await r.experimentalModel.indexer.get(),a=n?s.moveDuration(t)*pv:0;return s.indexToMoveStartTimestamp(t)+s.moveDuration(t)-a})();r.experimentalModel.timestampRequest.set(await i),this.lastClickTimestamp===await i?(r.play(),this.lastClickTimestamp=null):this.lastClickTimestamp=await i}}async attributeChangedCallback(t,n,r){if(t==="for"){let i=document.getElementById(r);if(i||console.info("for= elem does not exist, waiting for one"),await customElements.whenDefined("twisty-player"),i=await mv(r),!(i instanceof Fa)){console.warn("for= elem is not a twisty-player");return}this.twistyPlayer=i}}static get observedAttributes(){return["for"]}},ka=new WeakMap,Wt=new WeakMap,bl=new WeakSet,w4=async function(t){if(m(this,Wt)){console.warn("twisty-player reassignment is not supported");return}if(t===null)throw new Error("clearing twistyPlayer is not supported");C(this,Wt,t),m(this,Wt).experimentalModel.alg.addFreshListener(i=>{this.setAlg(i.alg)});const n=(await m(this,Wt).experimentalModel.alg.get()).alg,r=ct in n?n:F.fromString(n.toString());this.setAlg(r),t.experimentalModel.currentMoveInfo.addFreshListener(i=>{let s=i.currentMoves[0];if(s??(s=i.movesStarting[0]),s??(s=i.movesFinishing[0]),!s)this.highlighter.set(null);else{const a=s.move;this.highlighter.set(a)}}),t.experimentalModel.detailedTimelineInfo.addFreshListener(i=>{i.timestamp!==this.lastClickTimestamp&&(this.lastClickTimestamp=null)})},Z3);Ue.define("twisty-alg-viewer",v4);var Sv=class extends es{traverseAlg(e,t){const n=[];let r=0;for(const i of e.childAlgNodes()){const s=this.traverseAlgNode(i,{numMovesSofar:t.numMovesSofar+r});n.push(s.tokens),r+=s.numLeavesInside}return{tokens:Array.prototype.concat(...n),numLeavesInside:r}}traverseGrouping(e,t){const n=this.traverseAlg(e.alg,t);return{tokens:n.tokens,numLeavesInside:n.numLeavesInside*e.amount}}traverseMove(e,t){return{tokens:[{leaf:e,idx:t.numMovesSofar}],numLeavesInside:1}}traverseCommutator(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,{numMovesSofar:t.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:n.numLeavesInside*2+r.numLeavesInside}}traverseConjugate(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,{numMovesSofar:t.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:n.numLeavesInside*2+r.numLeavesInside*2}}traversePause(e,t){return{tokens:[{leaf:e,idx:t.numMovesSofar}],numLeavesInside:1}}traverseNewline(e,t){return{tokens:[],numLeavesInside:0}}traverseLineComment(e,t){return{tokens:[],numLeavesInside:0}}},zv=pt(Sv),Ev=class extends J{getDefaultValue(){return""}},kv=class extends se{derive(e){return c4(e.value)}},Mv=class extends lr{getDefaultValue(){return{selectionStart:0,selectionEnd:0,endChangedMostRecently:!1}}async derive(e,t){const{selectionStart:n,selectionEnd:r}=e,i=await t,s=e.selectionStart===i.selectionStart&&e.selectionEnd!==(await t).selectionEnd;return{selectionStart:n,selectionEnd:r,endChangedMostRecently:s}}},Tv=class extends se{derive(e){return e.selectionInfo.endChangedMostRecently?e.selectionInfo.selectionEnd:e.selectionInfo.selectionStart}},Cv=class extends se{derive(e){return zv(e.algWithIssues.alg,{numMovesSofar:0}).tokens}},Dv=class extends se{derive(e){function t(r){if(r===null)return null;let i;return e.targetChar<r.leaf[ct]?i="before":e.targetChar===r.leaf[ct]?i="start":e.targetChar<r.leaf[Kt]?i="inside":e.targetChar===r.leaf[Kt]?i="end":i="after",{leafInfo:r,where:i}}let n=null;for(const r of e.leafTokens){if(e.targetChar<r.leaf[ct]&&n!==null)return t(n);if(e.targetChar<=r.leaf[Kt])return t(r);n=r}return t(n)}},Lv=class{constructor(){this.valueProp=new Ev,this.selectionProp=new Mv,this.targetCharProp=new Tv({selectionInfo:this.selectionProp}),this.algEditorAlgWithIssues=new kv({value:this.valueProp}),this.leafTokensProp=new Cv({algWithIssues:this.algEditorAlgWithIssues}),this.leafToHighlight=new Dv({leafTokens:this.leafTokensProp,targetChar:this.targetCharProp})}},Rv="//";function Av(e){try{return F.fromString(e)}catch{return null}}function x4(e,t){const n=e.indexOf(t);return n===-1?[e,""]:[e.slice(0,n),e.slice(n)]}function x3(e){const t=[];for(const n of e.split(`
`)){let[r,i]=x4(n,Rv);r=r.replaceAll("","'"),t.push(r+i)}return t.join(`
`)}function Iv(e,t){const{value:n}=e,{selectionStart:r,selectionEnd:i}=e,s=n.slice(0,r),a=n.slice(i);t=t.replaceAll(`\r
`,`
`);const o=s.match(/\/\/[^\n]*$/),l=n[r-1]==="/"&&t[0]==="/",u=o||l,c=t.match(/\/\/[^\n]*$/);let h=t;if(u){const[D,g]=x4(t,`
`);h=D+x3(g)}else h=x3(t);const d=!u&&r!==0&&![`
`," "].includes(h[0])&&![`
`," "].includes(n[r-1]),f=!c&&i!==n.length&&![`
`," "].includes(h.at(-1))&&![`
`," "].includes(n[i]);function p(D,g){const y=D+h+g,w=!!Av(s+y+a);return w&&(h=y),w}d&&f&&p(" "," ")||d&&p(" ","")||f&&p(""," "),(oe==null?void 0:oe.execCommand("insertText",!1,h))||e.setRangeText(h,r,i,"end")}var S4=new ht;S4.replaceSync(`
:host {
  width: 384px;
  display: grid;
}

.wrapper {
  /*overflow: hidden;
  resize: horizontal;*/

  background: var(--background, none);
  display: grid;
}

textarea, .carbon-copy {
  grid-area: 1 / 1 / 2 / 2;

  width: 100%;
  font-family: sans-serif;
  line-height: 1.2em;

  font-size: var(--font-size, inherit);
  font-family: var(--font-family, sans-serif);

  box-sizing: border-box;

  padding: var(--padding, 0.5em);
  /* Prevent horizontal growth. */
  overflow-x: hidden;
}

textarea {
  resize: none;
  background: none;
  z-index: 2;
  border: 1px solid var(--border-color, rgba(0, 0, 0, 0.25));
  overflow: hidden;
}

.carbon-copy {
  white-space: pre-wrap;
  word-wrap: break-word;
  color: transparent;
  user-select: none;
  pointer-events: none;

  z-index: 1;
}

.carbon-copy .highlight {
  background: var(--highlight-color, rgba(255, 128, 0, 0.5));
  padding: 0.1em 0.2em;
  margin: -0.1em -0.2em;
  border-radius: 0.2em;
}

.wrapper.issue-warning textarea,
.wrapper.valid-for-puzzle-warning textarea {
  outline: none;
  border: 1px solid rgba(200, 200, 0, 0.5);
  background: rgba(255, 255, 0, 0.1);
}

.wrapper.issue-error textarea,
.wrapper.valid-for-puzzle-error textarea {
  outline: none;
  border: 1px solid red;
  background: rgba(255, 0, 0, 0.1);
}
`);var uo="for-twisty-player",S3="placeholder",z3="twisty-player-prop",he,ln,Bn,Gt,jn,Ma,It,Un,fn,Lo,Fi,i1,Oi,J3,bv=(J3=class extends Tt{constructor(t){super();R(this,fn);R(this,he);R(this,ln);R(this,Bn);R(this,Gt);R(this,jn);R(this,Ma);R(this,It);R(this,Un);R(this,Fi);R(this,Oi);this.model=new Lv,C(this,he,document.createElement("textarea")),C(this,ln,document.createElement("div")),C(this,Bn,document.createElement("span")),C(this,Gt,document.createElement("span")),C(this,jn,document.createElement("span")),C(this,Ma,new n0(this,"valid-for-puzzle-",["none","warning","error"])),C(this,It,null),this.debugNeverRequestTimestamp=!1,C(this,Fi,!1),C(this,Oi,null),m(this,ln).classList.add("carbon-copy"),this.addElement(m(this,ln)),m(this,he).rows=1,this.addElement(m(this,he)),m(this,Bn).classList.add("prefix"),m(this,ln).appendChild(m(this,Bn)),m(this,Gt).classList.add("highlight"),m(this,ln).appendChild(m(this,Gt)),m(this,jn).classList.add("suffix"),m(this,ln).appendChild(m(this,jn)),m(this,he).placeholder="Alg",m(this,he).setAttribute("spellcheck","false"),this.addCSS(S4),m(this,he).addEventListener("input",()=>{C(this,Fi,!0),this.onInput()}),m(this,he).addEventListener("blur",()=>this.onBlur()),document.addEventListener("selectionchange",()=>this.onSelectionChange()),t!=null&&t.twistyPlayer&&(this.twistyPlayer=t.twistyPlayer),C(this,Un,(t==null?void 0:t.twistyPlayerProp)??"alg"),(t==null?void 0:t.twistyPlayerProp)==="alg"&&this.model.leafToHighlight.addFreshListener(n=>{n&&this.highlightLeaf(n.leafInfo.leaf)})}connectedCallback(){m(this,he).addEventListener("paste",t=>{var r;const n=(r=t.clipboardData)==null?void 0:r.getData("text");n&&(Iv(m(this,he),n),t.preventDefault(),this.onInput())})}set algString(t){m(this,he).value=t,this.onInput()}get algString(){return m(this,he).value}set placeholder(t){m(this,he).placeholder=t}onInput(){var n;m(this,Gt).hidden=!0,this.highlightLeaf(null);const t=m(this,he).value.trimEnd();this.model.valueProp.set(t),(n=m(this,fn,Lo))==null||n.set(t)}async onSelectionChange(){if(document.activeElement!==this||this.shadow.activeElement!==m(this,he)||m(this,Un)!=="alg")return;const{selectionStart:t,selectionEnd:n}=m(this,he);this.model.selectionProp.set({selectionStart:t,selectionEnd:n})}async onBlur(){}setAlgIssueClassForPuzzle(t){m(this,Ma).setValue(t)}highlightLeaf(t){if(t===null){m(this,Bn).textContent="",m(this,Gt).textContent="",m(this,jn).textContent=H(this,fn,i1).call(this,m(this,he).value);return}t!==m(this,Oi)&&(C(this,Oi,t),m(this,Bn).textContent=m(this,he).value.slice(0,t[ct]),m(this,Gt).textContent=m(this,he).value.slice(t[ct],t[Kt]),m(this,jn).textContent=H(this,fn,i1).call(this,m(this,he).value.slice(t[Kt])),m(this,Gt).hidden=!1)}get twistyPlayer(){return m(this,It)}set twistyPlayer(t){var n;if(m(this,It)){console.warn("twisty-player reassignment/clearing is not supported");return}C(this,It,t),t&&((async()=>this.algString=m(this,fn,Lo)?(await m(this,fn,Lo).get()).alg.toString():"")(),m(this,Un)==="alg"&&((n=m(this,It))==null||n.experimentalModel.puzzleAlg.addFreshListener(r=>{if(r.issues.errors.length===0){this.setAlgIssueClassForPuzzle(r.issues.warnings.length===0?"none":"warning");const i=r.alg,s=F.fromString(this.algString);i.isIdentical(s)||(this.algString=i.toString(),this.onInput())}else this.setAlgIssueClassForPuzzle("error")}),this.model.leafToHighlight.addFreshListener(async r=>{if(r===null)return;const[i,s]=await Promise.all([await t.experimentalModel.indexer.get(),await t.experimentalModel.timestampRequest.get()]);if(s==="auto"&&!m(this,Fi))return;const a=i.indexToMoveStartTimestamp(r.leafInfo.idx),o=i.moveDuration(r.leafInfo.idx);let l;switch(r.where){case"before":{l=a;break}case"start":case"inside":{l=a+o/4;break}case"end":case"after":{l=a+o;break}default:throw console.log("invalid where"),new Error("Invalid where!")}this.debugNeverRequestTimestamp||t.experimentalModel.timestampRequest.set(l)}),t.experimentalModel.currentLeavesSimplified.addFreshListener(async r=>{const s=(await t.experimentalModel.indexer.get()).getAnimLeaf(r.patternIndex);this.highlightLeaf(s)})))}attributeChangedCallback(t,n,r){switch(t){case uo:{const i=document.getElementById(r);if(!i){console.warn(`${uo}= elem does not exist`);return}if(!(i instanceof Fa)){console.warn(`${uo}=is not a twisty-player`);return}this.twistyPlayer=i;return}case S3:{this.placeholder=r;return}case z3:{if(m(this,It))throw console.log("cannot set prop"),new Error("cannot set prop after twisty player");C(this,Un,r);return}}}static get observedAttributes(){return[uo,S3,z3]}},he=new WeakMap,ln=new WeakMap,Bn=new WeakMap,Gt=new WeakMap,jn=new WeakMap,Ma=new WeakMap,It=new WeakMap,Un=new WeakMap,fn=new WeakSet,Lo=function(){return m(this,It)===null?null:m(this,It).experimentalModel[m(this,Un)]},Fi=new WeakMap,i1=function(t){return t.endsWith(`
`)?`${t} `:t},Oi=new WeakMap,J3);Ue.define("twisty-alg-editor",bv);var Ro=new ht;Ro.replaceSync(`
.wrapper {
  background: rgb(255, 245, 235);
  border: 1px solid rgba(0, 0, 0, 0.25);

  /* Workaround from https://stackoverflow.com/questions/40010597/how-do-i-apply-opacity-to-a-css-color-variable */
  --text-color: 0, 0, 0;
  --heading-background: 255, 230, 210;

  color: rgb(var(--text-color));
}

.setup-alg, twisty-alg-viewer {
  padding: 0.5em 1em;
}

.heading {
  background: rgba(var(--heading-background), 1);
  color: rgba(var(--text-color), 1);
  font-weight: bold;
  padding: 0.25em 0.5em;
  display: grid;
  grid-template-columns: auto 1fr;

  /* For the move count hover elems. */
  position: sticky;
}

.heading.title {
  background: rgb(255, 245, 235);
  font-size: 150%;
  white-space: pre-wrap;
}

.heading .move-count {
  font-weight: initial;
  text-align: right;
  color: rgba(var(--text-color), 0.4);
}

.wrapper.dark-mode .heading .move-count {
  color: rgba(var(--text-color), 0.7);
}

.heading a {
  text-decoration: none;
  color: inherit;
}

twisty-player {
  width: 100%;
  min-height: 128px;
  height: 288px;
  resize: vertical;
  overflow-y: hidden;
}

twisty-player + .heading {
  padding-top: 0.5em;
}

twisty-alg-viewer {
  display: inline-block;
}

.wrapper {
  container-type: inline-size;
}

.scrollable-region {
  border-top: 1px solid rgba(0, 0, 0, 0.25);
}

.scrollable-region {
  max-height: 18em;
  overflow-y: auto;
}

@container (min-width: 512px) {
  .responsive-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
  twisty-player {
    height: 320px
  }
  .scrollable-region {
    border-top: none;
    border-left: 1px solid rgba(0, 0, 0, 0.25);
    contain: strict;
    max-height: 100cqh;
  }
}

.wrapper:fullscreen,
.wrapper:fullscreen .responsive-wrapper {
  width: 100%;
  height: 100%;
}

.wrapper:fullscreen twisty-player,
.wrapper:fullscreen .scrollable-region {
  height: 50%;
}

@container (min-width: 512px) {
  .wrapper:fullscreen twisty-player,
  .wrapper:fullscreen .scrollable-region {
    height: 100%;
  }
}

/* TODO: dedup with Twizzle Editor */
.move-count > span:hover:before {
  background-color: rgba(var(--heading-background), 1);
  color: rgba(var(--text-color), 1);
  backdrop-filter: blur(4px);
  z-index: 100;
  position: absolute;
  padding: 0.5em;
  top: 1.5em;
  right: 0;
  content: attr(data-before);
  white-space: pre-wrap;
  text-align: left;
}

.move-count > span:hover {
  color: rgba(var(--text-color), 1);
  cursor: help;
}
`);var z4=new ht;z4.replaceSync(`
.wrapper {
  background: white;
  --heading-background: 232, 239, 253
}

.wrapper.dark-mode {
  --text-color: 236, 236, 236;
  --heading-background: 29, 29, 29;
}

.scrollable-region {
  overflow-y: auto;
}

.wrapper.dark-mode {
  background: #262626;
  --text-color: 142, 142, 142;
  border-color: #FFFFFF44;
  color-scheme: dark;
}

.wrapper.dark-mode .heading:not(.title) {
  background: #1d1d1d;
}

.heading.title {
  background: none;
}
`);function _v(e="",t=location.href){const n={alg:"alg","setup-alg":"experimental-setup-alg","setup-anchor":"experimental-setup-anchor",puzzle:"puzzle",stickering:"experimental-stickering","puzzle-description":"experimental-puzzle-description",title:"experimental-title","video-url":"experimental-video-url",competition:"experimental-competition-id"},r=new URL(t).searchParams,i={};for(const[s,a]of Object.entries(n)){const o=r.get(e+s);if(o!==null){const l=ml[a];i[l]=o}}return i}var co="outer block moves (e.g. R, Rw, or 4r)",ho="inner block moves (e.g. M or 2-5r)",E3={OBTM:`HTM = OBTM ("Outer Block Turn Metric"):
 ${ho} count as 2 turns
 ${co} count as 1 turn
 rotations (e.g. x) count as 0 turns`,OBQTM:`QTM = OBQTM ("Outer Block Quantum Turn Metric"):
 ${ho} count as 2 turns per quantum (e.g. M2 counts as 4)
 ${co} count as 1 turn per quantum (e.g. R2 counts as 2)
 rotations (e.g. x) count as 0 turns`,RBTM:`STM = RBTM ("Range Block Turn Metric"):
 ${ho} count as 1 turn
 ${co} count as 1 turn
 rotations (e.g. x) count as 0 turns`,RBQTM:`SQTM = RBQTM ("Range Block Quantum Turn Metric"):
 ${ho} count as 1 turn per quantum (e.g. M2 counts as 2)
 ${co} count as 1 turn per quantum (e.g. R2 counts as 2)
 rotations (e.g. x) count as 0 turns`,ETM:`ETM ("Execution Turn Metric"):
 all moves (including rotations) count as 1 turn`},Nv={OBTM:"OB",OBQTM:"OBQ",RBTM:"RB",RBQTM:"RBQ",ETM:"E"},mn,s1,_l,Vn,_r,Ta,Ao,e2,Pv=(e2=class extends Tt{constructor(t){super({mode:"open"});R(this,mn);R(this,_l);R(this,Vn);R(this,_r);R(this,Ta);this.twistyPlayer=null,this.a=null,this.options=t}async connectedCallback(){var s,a,o,l,u;if(C(this,_r,this.addElement(document.createElement("div"))),m(this,_r).classList.add("responsive-wrapper"),((s=this.options)==null?void 0:s.colorScheme)==="dark"&&this.contentWrapper.classList.add("dark-mode"),this.addCSS(Ro),(a=this.options)!=null&&a.cdnForumTweaks&&this.addCSS(z4),this.a=this.querySelector("a"),!this.a)return;const t=_v("",this.a.href),n=(o=this.a)==null?void 0:o.href,{hostname:r,pathname:i}=new URL(n);if(r!=="alpha.twizzle.net"){H(this,mn,s1).call(this);return}if(["/edit/","/explore/"].includes(i)){const c=i==="/explore/";if(t.puzzle&&!(t.puzzle in ic)){const f=(await X(async()=>{const{getPuzzleDescriptionString:p}=await import("./index.Alr61xjd.js");return{getPuzzleDescriptionString:p}},[])).getPuzzleDescriptionString(t.puzzle);delete t.puzzle,t.experimentalPuzzleDescription=f}if(this.twistyPlayer=m(this,_r).appendChild(new Fa({background:(l=this.options)!=null&&l.cdnForumTweaks?"checkered-transparent":"checkered",colorScheme:((u=this.options)==null?void 0:u.colorScheme)==="dark"?"dark":"light",...t,viewerLink:c?"experimental-twizzle-explorer":"auto"})),this.twistyPlayer.fullscreenElement=this.contentWrapper,t.experimentalTitle&&(this.twistyPlayer.experimentalTitle=t.experimentalTitle),C(this,Vn,m(this,_r).appendChild(document.createElement("div"))),m(this,Vn).classList.add("scrollable-region"),t.experimentalTitle&&H(this,mn,Ao).call(this,t.experimentalTitle).classList.add("title"),t.experimentalSetupAlg){H(this,mn,Ao).call(this,"Setup",async()=>{var p,v;return((v=await((p=this.twistyPlayer)==null?void 0:p.experimentalModel.setupAlg.get()))==null?void 0:v.alg.toString())??null});const f=m(this,Vn).appendChild(document.createElement("div"));f.classList.add("setup-alg"),f.textContent=new F(t.experimentalSetupAlg).toString()}const h=H(this,mn,Ao).call(this,"Moves",async()=>{var f,p;return((p=await((f=this.twistyPlayer)==null?void 0:f.experimentalModel.alg.get()))==null?void 0:p.alg.toString())??null});C(this,Ta,h.appendChild(Fv(this.twistyPlayer.experimentalModel))),m(this,Ta).classList.add("move-count"),m(this,Vn).appendChild(new v4({twistyPlayer:this.twistyPlayer})).part.add("twisty-alg-viewer")}else H(this,mn,s1).call(this)}},mn=new WeakSet,s1=function(){var n;if(this.contentWrapper.textContent="",this.a){const r=this.contentWrapper.appendChild(document.createElement("span"));r.textContent="",r.title="Could not show a player for link",this.addElement(this.a)}this.removeCSS(Ro);const t=this.shadow.adoptedStyleSheets.indexOf(Ro);typeof t<"u"&&this.shadow.adoptedStyleSheets.splice(t,t+1),(n=m(this,_l))==null||n.remove()},_l=new WeakMap,Vn=new WeakMap,_r=new WeakMap,Ta=new WeakMap,Ao=function(t,n){const r=m(this,Vn).appendChild(document.createElement("div"));r.classList.add("heading");const i=r.appendChild(document.createElement("span"));if(i.textContent=t,n){i.textContent+=" ";const s=i.appendChild(document.createElement("a"));s.textContent="",s.href="#",s.title="Copy to clipboard";async function a(o){s.textContent=o,await new Promise(l=>setTimeout(l,2e3)),s.textContent===o&&(s.textContent="")}s.addEventListener("click",async o=>{o.preventDefault(),s.textContent="";const l=await n();if(l)try{await navigator.clipboard.writeText(l),a("")}catch(u){throw a(""),u}else a("")})}return r},e2);Ue.define("twizzle-link",Pv);function Fv(e,t=document.createElement("span")){async function n(){const[r,i]=await Promise.all([e.puzzleAlg.get(),e.puzzleLoader.get()]);if(r.issues.errors.length!==0){t.textContent="";return}let s=!0;function a(o){s?s=!1:t.append(")(");const l=t.appendChild(document.createElement("span")),u=M9(i,o,r.alg);l.append(`${Nv[o]}: `);const c=l.appendChild(document.createElement("span"));c.textContent=u.toString(),c.classList.add("move-number"),l.setAttribute("data-before",E3[o]??""),l.setAttribute("title",E3[o]??"")}t.textContent="(",i.id==="3x3x3"?(a("OBTM"),a("OBQTM"),a("RBTM")):i.pg&&(a("RBTM"),a("RBQTM")),a("ETM"),t.append(")")}return e.puzzleAlg.addFreshListener(n),e.puzzleID.addFreshListener(n),t}const Ov=new Fa({puzzle:"3x3x3",visualization:"PG3D",alg:"",experimentalSetupAnchor:"start",background:"none",controlPanel:"none",hintFacelets:"none",experimentalDragInput:"none",cameraLatitude:0,cameraLongitude:0,cameraLatitudeLimit:0,tempoScale:5}),Bv=({children:e})=>{const[t,n]=E.useState(!1),[r,i]=E.useState({}),[s,a]=E.useState(""),[o,l]=E.useState(""),[u,c]=E.useState(0),[h,d]=E.useState([]),[f,p]=E.useState(Ie.IDLE),[v,D]=E.useState([]),[g,y]=E.useState(!1),w=E.useRef(Ov),k=E.useRef(t),I=E.useRef(f),A=E.useRef([]),[L,B]=E.useState([]),q=E.useRef(h),N=E.useRef(u),U=E.useRef(r),te=E.useRef(s),ye=E.useRef(o),[Ne,Ce]=E.useState([]),[xe,Pe]=E.useState(!1);return E.useEffect(()=>{k.current=t},[t]),E.useEffect(()=>{I.current=f},[f]),x.jsx(gf.Provider,{value:{connection:t,hardwareInfo:r,batteryLevel:u,scramble:h,lastScrambleRef:q,showScramble:g,scrambleDisplay:Ne,timerState:f,lastMoves:v,results:L,connectionRef:k,timerStateRef:I,twistyPlayerRef:w,solutionMovesRef:A,batteryLevelRef:N,hardwareInfoRef:U,deviceMacRef:ye,deviceNameRef:te,setConnection:n,setHardwareInfo:i,setBatteryLevel:c,setScramble:d,setShowScramble:y,setScrambleDisplay:Ce,setTimerState:p,setLastMoves:D,setResults:B,isAnimating:xe,setIsAnimating:Pe,setDeviceMac:l,setDeviceName:a},children:e})},j0={theme:"light",language:"en",notifications:!0,fontSize:16},E4=({children:e})=>{const[t,n]=E.useState(j0),r=E.useRef(t);E.useEffect(()=>{r.current=t},[t]),E.useEffect(()=>{const a=localStorage.getItem("appSettings");if(a)try{const o=JSON.parse(a);n(()=>({...j0,...o}))}catch(o){console.error("Failed to parse saved settings",o)}else n(o=>({...o}))},[]),E.useEffect(()=>{document.documentElement.setAttribute("data-theme",t.theme),t.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("appSettings",JSON.stringify(t))},[t]);const i=(a,o)=>{n(l=>({...l,[a]:o}))},s=()=>{n(j0)};return x.jsx(pf.Provider,{value:{settings:t,settingsRef:r,updateSetting:i,resetSettings:s},children:e})};E4.propTypes={children:lc.node.isRequired};function jv(){const[e,t]=Zg("cube-timer-times",[]),n=s=>{const a={id:Date.now(),formattedTime:s==null?void 0:s.formattedTime,originalTime:s==null?void 0:s.originalTime,scramble:s==null?void 0:s.scramble,date:new Date,solution:s.solution};t(o=>[...o,a])},r=s=>{t(a=>a.filter(o=>o.id!==s))},i=()=>{t(()=>[])};return x.jsx(x.Fragment,{children:x.jsx(E4,{children:x.jsx(Bv,{children:x.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col",children:[x.jsx(Dm,{}),x.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:x.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-6",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[x.jsx("div",{className:"absolute -right-16 -top-16 opacity-5 transform rotate-12",children:x.jsx(r6,{size:200})}),x.jsx("div",{className:"py-4",children:x.jsx(Sg,{})}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center w-full",children:[x.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:mb-0",children:x.jsx("div",{className:"cube-container",children:x.jsx(B7,{containerId:"main"})})}),x.jsxs("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[x.jsx(Yg,{onSaveTime:n,className:"mb-6"}),x.jsx(Wg,{className:"w-full max-w-md"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[x.jsx(Qg,{times:e}),x.jsx(Xg,{onDeleteTimes:i,times:e,onDeleteTime:r})]})]})}),x.jsx(Cm,{})]})})})})}mf(document.getElementById("root")).render(x.jsx(jv,{}));export{F as A,Sn as K,S as M,hn as Q,e9 as T,X as _,j7 as a,$v as b,Zt as c,ts as d,im as e,tc as f,Vv as g,Qv as h,$i as i,A8 as j,jf as k,nl as l,S8 as m,V7 as n,qv as o,ic as p,Hv as q,I8 as r,Wv as s,Gv as t,z8 as u,Jf as v};
