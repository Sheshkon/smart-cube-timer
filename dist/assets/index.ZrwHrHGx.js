var kg=Object.defineProperty;var dd=t=>{throw TypeError(t)};var Eg=(t,e,n)=>e in t?kg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>Eg(t,typeof e!="symbol"?e+"":e,n),rc=(t,e,n)=>e.has(t)||dd("Cannot "+n);var x=(t,e,n)=>(rc(t,e,"read from private field"),n?n.call(t):e.get(t)),C=(t,e,n)=>e.has(t)?dd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),N=(t,e,n,r)=>(rc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),H=(t,e,n)=>(rc(t,e,"access private method"),n);var Ds=(t,e,n,r)=>({set _(i){N(t,e,i,n)},get _(){return x(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tx={exports:{}},Pl={},nx={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),zg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),_g=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),fd=Symbol.iterator;function Pg(t){return t===null||typeof t!="object"?null:(t=fd&&t[fd]||t["@@iterator"],typeof t=="function"?t:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ix=Object.assign,ax={};function Vi(t,e,n){this.props=t,this.context=e,this.refs=ax,this.updater=n||rx}Vi.prototype.isReactComponent={};Vi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sx(){}sx.prototype=Vi.prototype;function s0(t,e,n){this.props=t,this.context=e,this.refs=ax,this.updater=n||rx}var o0=s0.prototype=new sx;o0.constructor=s0;ix(o0,Vi.prototype);o0.isPureReactComponent=!0;var hd=Array.isArray,ox=Object.prototype.hasOwnProperty,l0={current:null},lx={key:!0,ref:!0,__self:!0,__source:!0};function cx(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)ox.call(e,r)&&!lx.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:gs,type:t,key:a,ref:s,props:i,_owner:l0.current}}function Fg(t,e){return{$$typeof:gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c0(t){return typeof t=="object"&&t!==null&&t.$$typeof===gs}function Og(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xd=/\/+/g;function ic(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Og(""+t.key):e.toString(36)}function no(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gs:case zg:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ic(s,0):r,hd(i)?(n="",t!=null&&(n=t.replace(xd,"$&/")+"/"),no(i,e,n,"",function(c){return c})):i!=null&&(c0(i)&&(i=Fg(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",hd(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+ic(a,o);s+=no(a,e,n,l,i)}else if(l=Pg(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+ic(a,o++),s+=no(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cs(t,e,n){if(t==null)return t;var r=[],i=0;return no(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Bg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},ro={transition:null},jg={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:ro,ReactCurrentOwner:l0};function ux(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Cs,forEach:function(t,e,n){Cs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cs(t,function(){e++}),e},toArray:function(t){return Cs(t,function(e){return e})||[]},only:function(t){if(!c0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Vi;Y.Fragment=Tg;Y.Profiler=Cg;Y.PureComponent=s0;Y.StrictMode=Dg;Y.Suspense=Ig;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;Y.act=ux;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ix({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=l0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ox.call(e,l)&&!lx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:gs,type:t.type,key:i,ref:a,props:r,_owner:s}};Y.createContext=function(t){return t={$$typeof:Rg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lg,_context:t},t.Consumer=t};Y.createElement=cx;Y.createFactory=function(t){var e=cx.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Ag,render:t}};Y.isValidElement=c0;Y.lazy=function(t){return{$$typeof:Ng,_payload:{_status:-1,_result:t},_init:Bg}};Y.memo=function(t,e){return{$$typeof:_g,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=ro.transition;ro.transition={};try{t()}finally{ro.transition=e}};Y.unstable_act=ux;Y.useCallback=function(t,e){return qe.current.useCallback(t,e)};Y.useContext=function(t){return qe.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};Y.useEffect=function(t,e){return qe.current.useEffect(t,e)};Y.useId=function(){return qe.current.useId()};Y.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return qe.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};Y.useRef=function(t){return qe.current.useRef(t)};Y.useState=function(t){return qe.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return qe.current.useTransition()};Y.version="18.3.1";nx.exports=Y;var V=nx.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=V,Vg=Symbol.for("react.element"),Wg=Symbol.for("react.fragment"),Gg=Object.prototype.hasOwnProperty,$g=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hg={key:!0,ref:!0,__self:!0,__source:!0};function dx(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Gg.call(e,r)&&!Hg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Vg,type:t,key:a,ref:s,props:i,_owner:$g.current}}Pl.Fragment=Wg;Pl.jsx=dx;Pl.jsxs=dx;tx.exports=Pl;var b=tx.exports,fx={exports:{}},xt={},hx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var $=j.length;j.push(G);e:for(;0<$;){var S=$-1>>>1,M=j[S];if(0<i(M,G))j[S]=G,j[$]=M,$=S;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],$=j.pop();if($!==G){j[0]=$;e:for(var S=0,M=j.length,_=M>>>1;S<_;){var R=2*(S+1)-1,T=j[R],q=R+1,de=j[q];if(0>i(T,$))q<M&&0>i(de,T)?(j[S]=de,j[q]=$,S=q):(j[S]=T,j[R]=$,S=R);else if(q<M&&0>i(de,$))j[S]=de,j[q]=$,S=q;else break e}}return G}function i(j,G){var $=j.sortIndex-G.sortIndex;return $!==0?$:j.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,y=!1,L=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=j)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function E(j){if(y=!1,v(j),!p)if(n(l)!==null)p=!0,be(z);else{var G=n(c);G!==null&&Pe(E,G.startTime-j)}}function z(j,G){p=!1,y&&(y=!1,m(F),F=-1),h=!0;var $=d;try{for(v(G),f=n(l);f!==null&&(!(f.expirationTime>G)||j&&!Q());){var S=f.callback;if(typeof S=="function"){f.callback=null,d=f.priorityLevel;var M=S(f.expirationTime<=G);G=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),v(G)}else r(l);f=n(l)}if(f!==null)var _=!0;else{var R=n(c);R!==null&&Pe(E,R.startTime-G),_=!1}return _}finally{f=null,d=$,h=!1}}var D=!1,A=null,F=-1,P=5,O=-1;function Q(){return!(t.unstable_now()-O<P)}function he(){if(A!==null){var j=t.unstable_now();O=j;var G=!0;try{G=A(!0,j)}finally{G?xe():(D=!1,A=null)}}else D=!1}var xe;if(typeof g=="function")xe=function(){g(he)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ke=De.port2;De.port1.onmessage=he,xe=function(){Ke.postMessage(null)}}else xe=function(){L(he,0)};function be(j){A=j,D||(D=!0,xe())}function Pe(j,G){F=L(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,be(z))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var $=d;d=G;try{return j()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=d;d=j;try{return G()}finally{d=$}},t.unstable_scheduleCallback=function(j,G,$){var S=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?S+$:S):$=S,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=$+M,j={id:u++,callback:G,priorityLevel:j,startTime:$,expirationTime:M,sortIndex:-1},$>S?(j.sortIndex=$,e(c,j),n(l)===null&&j===n(c)&&(y?(m(F),F=-1):y=!0,Pe(E,$-S))):(j.sortIndex=M,e(l,j),p||h||(p=!0,be(z))),j},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(j){var G=d;return function(){var $=d;d=G;try{return j.apply(this,arguments)}finally{d=$}}}})(xx);hx.exports=xx;var Qg=hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=V,ft=Qg;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,Ea={};function Br(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(Ea[t]=e,t=0;t<e.length;t++)px.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},md={};function Kg(t){return jc.call(md,t)?!0:jc.call(pd,t)?!1:Yg.test(t)?md[t]=!0:(pd[t]=!0,!1)}function Xg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zg(t,e,n,r){if(e===null||typeof e>"u"||Xg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function d0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,d0);Ne[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,d0);Ne[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,d0);Ne[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function f0(t,e,n,r){var i=Ne.hasOwnProperty(e)?Ne[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zg(e,n,i,r)&&(n=null),r||i===null?Kg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),Uc=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),Vc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),yx=Symbol.for("react.offscreen"),gd=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=gd&&t[gd]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,ac;function oa(t){if(ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function Jg(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function Gc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kr:return"Fragment";case Yr:return"Portal";case Uc:return"Profiler";case h0:return"StrictMode";case Vc:return"Suspense";case Wc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gx:return(t.displayName||"Context")+".Consumer";case mx:return(t._context.displayName||"Context")+".Provider";case x0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p0:return e=t.displayName||null,e!==null?e:Gc(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return Gc(t(e))}catch{}}return null}function e2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gc(e);case 8:return e===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t2(t){var e=vx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rs(t){t._valueTracker||(t._valueTracker=t2(t))}function wx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function So(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $c(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bx(t,e){e=e.checked,e!=null&&f0(t,"checked",e,!1)}function Hc(t,e){bx(t,e);var n=Zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qc(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qc(t,e,n){(e!=="number"||So(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var la=Array.isArray;function ci(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(la(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function Sx(t,e){var n=Zn(e.value),r=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var As,Ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=As.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n2=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){n2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function Mx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function zx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var r2=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(t,e){if(e){if(r2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Xc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function m0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jc=null,ui=null,di=null;function Sd(t){if(t=ws(t)){if(typeof Jc!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Ul(e),Jc(t.stateNode,t.type,e))}}function Tx(t){ui?di?di.push(t):di=[t]:ui=t}function Dx(){if(ui){var t=ui,e=di;if(di=ui=null,Sd(t),e)for(t=0;t<e.length;t++)Sd(e[t])}}function Cx(t,e){return t(e)}function Lx(){}var lc=!1;function Rx(t,e,n){if(lc)return t(e,n);lc=!0;try{return Cx(t,e,n)}finally{lc=!1,(ui!==null||di!==null)&&(Lx(),Dx())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var eu=!1;if(pn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{eu=!1}function i2(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xa=!1,ko=null,Eo=!1,tu=null,a2={onError:function(t){xa=!0,ko=t}};function s2(t,e,n,r,i,a,s,o,l){xa=!1,ko=null,i2.apply(a2,arguments)}function o2(t,e,n,r,i,a,s,o,l){if(s2.apply(this,arguments),xa){if(xa){var c=ko;xa=!1,ko=null}else throw Error(I(198));Eo||(Eo=!0,tu=c)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ax(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kd(t){if(jr(t)!==t)throw Error(I(188))}function l2(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return kd(i),t;if(a===r)return kd(i),e;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Ix(t){return t=l2(t),t!==null?_x(t):null}function _x(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_x(t);if(e!==null)return e;t=t.sibling}return null}var Nx=ft.unstable_scheduleCallback,Ed=ft.unstable_cancelCallback,c2=ft.unstable_shouldYield,u2=ft.unstable_requestPaint,ge=ft.unstable_now,d2=ft.unstable_getCurrentPriorityLevel,g0=ft.unstable_ImmediatePriority,Px=ft.unstable_UserBlockingPriority,Mo=ft.unstable_NormalPriority,f2=ft.unstable_LowPriority,Fx=ft.unstable_IdlePriority,Fl=null,Ht=null;function h2(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:m2,x2=Math.log,p2=Math.LN2;function m2(t){return t>>>=0,t===0?32:31-(x2(t)/p2|0)|0}var Is=64,_s=4194304;function ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=ca(o):(a&=s,a!==0&&(r=ca(a)))}else s=n&~i,s!==0?r=ca(s):a!==0&&(r=ca(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),i=1<<n,r|=t[n],e&=~i;return r}function g2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Pt(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=g2(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function nu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ox(){var t=Is;return Is<<=1,!(Is&4194240)&&(Is=64),t}function cc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ys(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function v2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pt(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var J=0;function Bx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jx,v0,Ux,Vx,Wx,ru=!1,Ns=[],Un=null,Vn=null,Wn=null,Ta=new Map,Da=new Map,Ln=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(e.pointerId)}}function Xi(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ws(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b2(t,e,n,r,i){switch(e){case"focusin":return Un=Xi(Un,t,e,n,r,i),!0;case"dragenter":return Vn=Xi(Vn,t,e,n,r,i),!0;case"mouseover":return Wn=Xi(Wn,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ta.set(a,Xi(Ta.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Da.set(a,Xi(Da.get(a)||null,t,e,n,r,i)),!0}return!1}function Gx(t){var e=fr(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=Ax(n),e!==null){t.blockedOn=e,Wx(t.priority,function(){Ux(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function io(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zc=r,n.target.dispatchEvent(r),Zc=null}else return e=ws(n),e!==null&&v0(e),t.blockedOn=n,!1;e.shift()}return!0}function zd(t,e,n){io(t)&&n.delete(e)}function S2(){ru=!1,Un!==null&&io(Un)&&(Un=null),Vn!==null&&io(Vn)&&(Vn=null),Wn!==null&&io(Wn)&&(Wn=null),Ta.forEach(zd),Da.forEach(zd)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,ru||(ru=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,S2)))}function Ca(t){function e(i){return Zi(i,t)}if(0<Ns.length){Zi(Ns[0],t);for(var n=1;n<Ns.length;n++){var r=Ns[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Un!==null&&Zi(Un,t),Vn!==null&&Zi(Vn,t),Wn!==null&&Zi(Wn,t),Ta.forEach(e),Da.forEach(e),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Gx(n),n.blockedOn===null&&Ln.shift()}var fi=wn.ReactCurrentBatchConfig,To=!0;function k2(t,e,n,r){var i=J,a=fi.transition;fi.transition=null;try{J=1,w0(t,e,n,r)}finally{J=i,fi.transition=a}}function E2(t,e,n,r){var i=J,a=fi.transition;fi.transition=null;try{J=4,w0(t,e,n,r)}finally{J=i,fi.transition=a}}function w0(t,e,n,r){if(To){var i=iu(t,e,n,r);if(i===null)vc(t,e,r,Do,n),Md(t,r);else if(b2(i,t,e,n,r))r.stopPropagation();else if(Md(t,r),e&4&&-1<w2.indexOf(t)){for(;i!==null;){var a=ws(i);if(a!==null&&jx(a),a=iu(t,e,n,r),a===null&&vc(t,e,r,Do,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else vc(t,e,r,null,n)}}var Do=null;function iu(t,e,n,r){if(Do=null,t=m0(r),t=fr(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ax(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Do=t,null}function $x(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d2()){case g0:return 1;case Px:return 4;case Mo:case f2:return 16;case Fx:return 536870912;default:return 16}default:return 16}}var Bn=null,b0=null,ao=null;function Hx(){if(ao)return ao;var t,e=b0,n=e.length,r,i="value"in Bn?Bn.value:Bn.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return ao=i.slice(t,1<r?1-r:void 0)}function so(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ps(){return!0}function Td(){return!1}function pt(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ps:Td,this.isPropagationStopped=Td,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),e}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S0=pt(Wi),vs=ue({},Wi,{view:0,detail:0}),M2=pt(vs),uc,dc,Ji,Ol=ue({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ji&&(Ji&&t.type==="mousemove"?(uc=t.screenX-Ji.screenX,dc=t.screenY-Ji.screenY):dc=uc=0,Ji=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:dc}}),Dd=pt(Ol),z2=ue({},Ol,{dataTransfer:0}),T2=pt(z2),D2=ue({},vs,{relatedTarget:0}),fc=pt(D2),C2=ue({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),L2=pt(C2),R2=ue({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=pt(R2),I2=ue({},Wi,{data:0}),Cd=pt(I2),_2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P2[t])?!!e[t]:!1}function k0(){return F2}var O2=ue({},vs,{key:function(t){if(t.key){var e=_2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=so(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k0,charCode:function(t){return t.type==="keypress"?so(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?so(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B2=pt(O2),j2=ue({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=pt(j2),U2=ue({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k0}),V2=pt(U2),W2=ue({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),G2=pt(W2),$2=ue({},Ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H2=pt($2),Q2=[9,13,27,32],E0=pn&&"CompositionEvent"in window,pa=null;pn&&"documentMode"in document&&(pa=document.documentMode);var q2=pn&&"TextEvent"in window&&!pa,Qx=pn&&(!E0||pa&&8<pa&&11>=pa),Rd=" ",Ad=!1;function qx(t,e){switch(t){case"keyup":return Q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Y2(t,e){switch(t){case"compositionend":return Yx(e);case"keypress":return e.which!==32?null:(Ad=!0,Rd);case"textInput":return t=e.data,t===Rd&&Ad?null:t;default:return null}}function K2(t,e){if(Xr)return t==="compositionend"||!E0&&qx(t,e)?(t=Hx(),ao=b0=Bn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qx&&e.locale!=="ko"?null:e.data;default:return null}}var X2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X2[t.type]:e==="textarea"}function Kx(t,e,n,r){Tx(r),e=Co(e,"onChange"),0<e.length&&(n=new S0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,La=null;function Z2(t){op(t,0)}function Bl(t){var e=ei(t);if(wx(e))return t}function J2(t,e){if(t==="change")return e}var Xx=!1;if(pn){var hc;if(pn){var xc="oninput"in document;if(!xc){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),xc=typeof _d.oninput=="function"}hc=xc}else hc=!1;Xx=hc&&(!document.documentMode||9<document.documentMode)}function Nd(){ma&&(ma.detachEvent("onpropertychange",Zx),La=ma=null)}function Zx(t){if(t.propertyName==="value"&&Bl(La)){var e=[];Kx(e,La,t,m0(t)),Rx(Z2,e)}}function ey(t,e,n){t==="focusin"?(Nd(),ma=e,La=n,ma.attachEvent("onpropertychange",Zx)):t==="focusout"&&Nd()}function ty(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(La)}function ny(t,e){if(t==="click")return Bl(e)}function ry(t,e){if(t==="input"||t==="change")return Bl(e)}function iy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:iy;function Ra(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jc.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,e){var n=Pd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ep(){for(var t=window,e=So();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=So(t.document)}return e}function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ay(t){var e=ep(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jx(n.ownerDocument.documentElement,n)){if(r!==null&&M0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Fd(n,a);var s=Fd(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sy=pn&&"documentMode"in document&&11>=document.documentMode,Zr=null,au=null,ga=null,su=!1;function Od(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||Zr==null||Zr!==So(r)||(r=Zr,"selectionStart"in r&&M0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&Ra(ga,r)||(ga=r,r=Co(au,"onSelect"),0<r.length&&(e=new S0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zr)))}function Fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},pc={},tp={};pn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function jl(t){if(pc[t])return pc[t];if(!Jr[t])return t;var e=Jr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tp)return pc[t]=e[n];return t}var np=jl("animationend"),rp=jl("animationiteration"),ip=jl("animationstart"),ap=jl("transitionend"),sp=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,e){sp.set(t,e),Br(e,[t])}for(var mc=0;mc<Bd.length;mc++){var gc=Bd[mc],oy=gc.toLowerCase(),ly=gc[0].toUpperCase()+gc.slice(1);er(oy,"on"+ly)}er(np,"onAnimationEnd");er(rp,"onAnimationIteration");er(ip,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(ap,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function jd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o2(r,e,void 0,t),t.currentTarget=null}function op(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;jd(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;jd(i,o,c),a=l}}}if(Eo)throw t=tu,Eo=!1,tu=null,t}function ne(t,e){var n=e[du];n===void 0&&(n=e[du]=new Set);var r=t+"__bubble";n.has(r)||(lp(e,t,2,!1),n.add(r))}function yc(t,e,n){var r=0;e&&(r|=4),lp(n,t,r,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[Os]){t[Os]=!0,px.forEach(function(n){n!=="selectionchange"&&(cy.has(n)||yc(n,!1,t),yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,yc("selectionchange",!1,e))}}function lp(t,e,n,r){switch($x(e)){case 1:var i=k2;break;case 4:i=E2;break;default:i=w0}n=i.bind(null,e,n,t),i=void 0,!eu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vc(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=fr(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Rx(function(){var c=a,u=m0(n),f=[];e:{var d=sp.get(t);if(d!==void 0){var h=S0,p=t;switch(t){case"keypress":if(so(n)===0)break e;case"keydown":case"keyup":h=B2;break;case"focusin":p="focus",h=fc;break;case"focusout":p="blur",h=fc;break;case"beforeblur":case"afterblur":h=fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=V2;break;case np:case rp:case ip:h=L2;break;case ap:h=G2;break;case"scroll":h=M2;break;case"wheel":h=H2;break;case"copy":case"cut":case"paste":h=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ld}var y=(e&4)!==0,L=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var g=c,v;g!==null;){v=g;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=za(g,m),E!=null&&y.push(Ia(g,E,v)))),L)break;g=g.return}0<y.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Zc&&(p=n.relatedTarget||n.fromElement)&&(fr(p)||p[mn]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?fr(p):null,p!==null&&(L=jr(p),p!==L||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(y=Dd,E="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ld,E="onPointerLeave",m="onPointerEnter",g="pointer"),L=h==null?d:ei(h),v=p==null?d:ei(p),d=new y(E,g+"leave",h,n,u),d.target=L,d.relatedTarget=v,E=null,fr(u)===c&&(y=new y(m,g+"enter",p,n,u),y.target=v,y.relatedTarget=L,E=y),L=E,h&&p)t:{for(y=h,m=p,g=0,v=y;v;v=Wr(v))g++;for(v=0,E=m;E;E=Wr(E))v++;for(;0<g-v;)y=Wr(y),g--;for(;0<v-g;)m=Wr(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Wr(y),m=Wr(m)}y=null}else y=null;h!==null&&Ud(f,d,h,y,!1),p!==null&&L!==null&&Ud(f,L,p,y,!0)}}e:{if(d=c?ei(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var z=J2;else if(Id(d))if(Xx)z=ry;else{z=ty;var D=ey}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(z=ny);if(z&&(z=z(t,c))){Kx(f,z,n,u);break e}D&&D(t,d,c),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Qc(d,"number",d.value)}switch(D=c?ei(c):window,t){case"focusin":(Id(D)||D.contentEditable==="true")&&(Zr=D,au=c,ga=null);break;case"focusout":ga=au=Zr=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Od(f,n,u);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":Od(f,n,u)}var A;if(E0)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Xr?qx(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Qx&&n.locale!=="ko"&&(Xr||F!=="onCompositionStart"?F==="onCompositionEnd"&&Xr&&(A=Hx()):(Bn=u,b0="value"in Bn?Bn.value:Bn.textContent,Xr=!0)),D=Co(c,F),0<D.length&&(F=new Cd(F,t,null,n,u),f.push({event:F,listeners:D}),A?F.data=A:(A=Yx(n),A!==null&&(F.data=A)))),(A=q2?Y2(t,n):K2(t,n))&&(c=Co(c,"onBeforeInput"),0<c.length&&(u=new Cd("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=A))}op(f,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Co(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=za(t,n),a!=null&&r.unshift(Ia(t,a,i)),a=za(t,e),a!=null&&r.push(Ia(t,a,i))),t=t.return}return r}function Wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ud(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=za(n,a),l!=null&&s.unshift(Ia(n,l,o))):i||(l=za(n,a),l!=null&&s.push(Ia(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(uy,`
`).replace(dy,"")}function Bs(t,e,n){if(e=Vd(e),Vd(t)!==e&&n)throw Error(I(425))}function Lo(){}var ou=null,lu=null;function cu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(xy)}:uu;function xy(t){setTimeout(function(){throw t})}function wc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ca(e)}function Gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Gi,_a="__reactProps$"+Gi,mn="__reactContainer$"+Gi,du="__reactEvents$"+Gi,py="__reactListeners$"+Gi,my="__reactHandles$"+Gi;function fr(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gd(t);t!==null;){if(n=t[Wt])return n;t=Gd(t)}return e}t=n,n=t.parentNode}return null}function ws(t){return t=t[Wt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Ul(t){return t[_a]||null}var fu=[],ti=-1;function tr(t){return{current:t}}function ie(t){0>ti||(t.current=fu[ti],fu[ti]=null,ti--)}function te(t,e){ti++,fu[ti]=t.current,t.current=e}var Jn={},je=tr(Jn),rt=tr(!1),Ir=Jn;function Ai(t,e){var n=t.type.contextTypes;if(!n)return Jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function it(t){return t=t.childContextTypes,t!=null}function Ro(){ie(rt),ie(je)}function $d(t,e,n){if(je.current!==Jn)throw Error(I(168));te(je,e),te(rt,n)}function cp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,e2(t)||"Unknown",i));return ue({},n,r)}function Ao(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jn,Ir=je.current,te(je,t),te(rt,rt.current),!0}function Hd(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=cp(t,e,Ir),r.__reactInternalMemoizedMergedChildContext=t,ie(rt),ie(je),te(je,t)):ie(rt),te(rt,n)}var tn=null,Vl=!1,bc=!1;function up(t){tn===null?tn=[t]:tn.push(t)}function gy(t){Vl=!0,up(t)}function nr(){if(!bc&&tn!==null){bc=!0;var t=0,e=J;try{var n=tn;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tn=null,Vl=!1}catch(i){throw tn!==null&&(tn=tn.slice(t+1)),Nx(g0,nr),i}finally{J=e,bc=!1}}return null}var ni=[],ri=0,Io=null,_o=0,yt=[],vt=0,_r=null,cn=1,un="";function or(t,e){ni[ri++]=_o,ni[ri++]=Io,Io=t,_o=e}function dp(t,e,n){yt[vt++]=cn,yt[vt++]=un,yt[vt++]=_r,_r=t;var r=cn;t=un;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var a=32-Pt(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,cn=1<<32-Pt(e)+i|n<<i|r,un=a+t}else cn=1<<a|n<<i|r,un=t}function z0(t){t.return!==null&&(or(t,1),dp(t,1,0))}function T0(t){for(;t===Io;)Io=ni[--ri],ni[ri]=null,_o=ni[--ri],ni[ri]=null;for(;t===_r;)_r=yt[--vt],yt[vt]=null,un=yt[--vt],yt[vt]=null,cn=yt[--vt],yt[vt]=null}var ut=null,lt=null,se=!1,_t=null;function fp(t,e){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,lt=Gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_r!==null?{id:cn,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,lt=null,!0):!1;default:return!1}}function hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(se){var e=lt;if(e){var n=e;if(!Qd(t,e)){if(hu(t))throw Error(I(418));e=Gn(n.nextSibling);var r=ut;e&&Qd(t,e)?fp(r,n):(t.flags=t.flags&-4097|2,se=!1,ut=t)}}else{if(hu(t))throw Error(I(418));t.flags=t.flags&-4097|2,se=!1,ut=t}}}function qd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function js(t){if(t!==ut)return!1;if(!se)return qd(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cu(t.type,t.memoizedProps)),e&&(e=lt)){if(hu(t))throw hp(),Error(I(418));for(;e;)fp(t,e),e=Gn(e.nextSibling)}if(qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lt=Gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lt=null}}else lt=ut?Gn(t.stateNode.nextSibling):null;return!0}function hp(){for(var t=lt;t;)t=Gn(t.nextSibling)}function Ii(){lt=ut=null,se=!1}function D0(t){_t===null?_t=[t]:_t.push(t)}var yy=wn.ReactCurrentBatchConfig;function ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Us(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yd(t){var e=t._init;return e(t._payload)}function xp(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=qn(m,g),m.index=0,m.sibling=null,m}function a(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,v,E){return g===null||g.tag!==6?(g=Dc(v,m.mode,E),g.return=m,g):(g=i(g,v),g.return=m,g)}function l(m,g,v,E){var z=v.type;return z===Kr?u(m,g,v.props.children,E,v.key):g!==null&&(g.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Dn&&Yd(z)===g.type)?(E=i(g,v.props),E.ref=ea(m,g,v),E.return=m,E):(E=xo(v.type,v.key,v.props,null,m.mode,E),E.ref=ea(m,g,v),E.return=m,E)}function c(m,g,v,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cc(v,m.mode,E),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function u(m,g,v,E,z){return g===null||g.tag!==7?(g=Cr(v,m.mode,E,z),g.return=m,g):(g=i(g,v),g.return=m,g)}function f(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dc(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ls:return v=xo(g.type,g.key,g.props,null,m.mode,v),v.ref=ea(m,null,g),v.return=m,v;case Yr:return g=Cc(g,m.mode,v),g.return=m,g;case Dn:var E=g._init;return f(m,E(g._payload),v)}if(la(g)||Yi(g))return g=Cr(g,m.mode,v,null),g.return=m,g;Us(m,g)}return null}function d(m,g,v,E){var z=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return z!==null?null:o(m,g,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ls:return v.key===z?l(m,g,v,E):null;case Yr:return v.key===z?c(m,g,v,E):null;case Dn:return z=v._init,d(m,g,z(v._payload),E)}if(la(v)||Yi(v))return z!==null?null:u(m,g,v,E,null);Us(m,v)}return null}function h(m,g,v,E,z){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,o(g,m,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ls:return m=m.get(E.key===null?v:E.key)||null,l(g,m,E,z);case Yr:return m=m.get(E.key===null?v:E.key)||null,c(g,m,E,z);case Dn:var D=E._init;return h(m,g,v,D(E._payload),z)}if(la(E)||Yi(E))return m=m.get(v)||null,u(g,m,E,z,null);Us(g,E)}return null}function p(m,g,v,E){for(var z=null,D=null,A=g,F=g=0,P=null;A!==null&&F<v.length;F++){A.index>F?(P=A,A=null):P=A.sibling;var O=d(m,A,v[F],E);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(m,A),g=a(O,g,F),D===null?z=O:D.sibling=O,D=O,A=P}if(F===v.length)return n(m,A),se&&or(m,F),z;if(A===null){for(;F<v.length;F++)A=f(m,v[F],E),A!==null&&(g=a(A,g,F),D===null?z=A:D.sibling=A,D=A);return se&&or(m,F),z}for(A=r(m,A);F<v.length;F++)P=h(A,m,F,v[F],E),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?F:P.key),g=a(P,g,F),D===null?z=P:D.sibling=P,D=P);return t&&A.forEach(function(Q){return e(m,Q)}),se&&or(m,F),z}function y(m,g,v,E){var z=Yi(v);if(typeof z!="function")throw Error(I(150));if(v=z.call(v),v==null)throw Error(I(151));for(var D=z=null,A=g,F=g=0,P=null,O=v.next();A!==null&&!O.done;F++,O=v.next()){A.index>F?(P=A,A=null):P=A.sibling;var Q=d(m,A,O.value,E);if(Q===null){A===null&&(A=P);break}t&&A&&Q.alternate===null&&e(m,A),g=a(Q,g,F),D===null?z=Q:D.sibling=Q,D=Q,A=P}if(O.done)return n(m,A),se&&or(m,F),z;if(A===null){for(;!O.done;F++,O=v.next())O=f(m,O.value,E),O!==null&&(g=a(O,g,F),D===null?z=O:D.sibling=O,D=O);return se&&or(m,F),z}for(A=r(m,A);!O.done;F++,O=v.next())O=h(A,m,F,O.value,E),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?F:O.key),g=a(O,g,F),D===null?z=O:D.sibling=O,D=O);return t&&A.forEach(function(he){return e(m,he)}),se&&or(m,F),z}function L(m,g,v,E){if(typeof v=="object"&&v!==null&&v.type===Kr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ls:e:{for(var z=v.key,D=g;D!==null;){if(D.key===z){if(z=v.type,z===Kr){if(D.tag===7){n(m,D.sibling),g=i(D,v.props.children),g.return=m,m=g;break e}}else if(D.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Dn&&Yd(z)===D.type){n(m,D.sibling),g=i(D,v.props),g.ref=ea(m,D,v),g.return=m,m=g;break e}n(m,D);break}else e(m,D);D=D.sibling}v.type===Kr?(g=Cr(v.props.children,m.mode,E,v.key),g.return=m,m=g):(E=xo(v.type,v.key,v.props,null,m.mode,E),E.ref=ea(m,g,v),E.return=m,m=E)}return s(m);case Yr:e:{for(D=v.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=Cc(v,m.mode,E),g.return=m,m=g}return s(m);case Dn:return D=v._init,L(m,g,D(v._payload),E)}if(la(v))return p(m,g,v,E);if(Yi(v))return y(m,g,v,E);Us(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=Dc(v,m.mode,E),g.return=m,m=g),s(m)):n(m,g)}return L}var _i=xp(!0),pp=xp(!1),No=tr(null),Po=null,ii=null,C0=null;function L0(){C0=ii=Po=null}function R0(t){var e=No.current;ie(No),t._currentValue=e}function pu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hi(t,e){Po=t,C0=ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(C0!==t)if(t={context:t,memoizedValue:e,next:null},ii===null){if(Po===null)throw Error(I(308));ii=t,Po.dependencies={lanes:0,firstContext:t}}else ii=ii.next=t;return e}var hr=null;function A0(t){hr===null?hr=[t]:hr.push(t)}function mp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,A0(e)):(n.next=i.next,i.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cn=!1;function I0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gn(t,n)}return i=r.interleaved,i===null?(e.next=e,A0(r)):(e.next=i.next,i.next=e),r.interleaved=e,gn(t,n)}function oo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}function Kd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,r){var i=t.updateQueue;Cn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,y=o;switch(d=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ue({},f,d);break e;case 2:Cn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Pr|=s,t.lanes=s,t.memoizedState=f}}function Xd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var bs={},Qt=tr(bs),Na=tr(bs),Pa=tr(bs);function xr(t){if(t===bs)throw Error(I(174));return t}function _0(t,e){switch(te(Pa,e),te(Na,t),te(Qt,bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yc(e,t)}ie(Qt),te(Qt,e)}function Ni(){ie(Qt),ie(Na),ie(Pa)}function yp(t){xr(Pa.current);var e=xr(Qt.current),n=Yc(e,t.type);e!==n&&(te(Na,t),te(Qt,n))}function N0(t){Na.current===t&&(ie(Qt),ie(Na))}var le=tr(0);function Oo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sc=[];function P0(){for(var t=0;t<Sc.length;t++)Sc[t]._workInProgressVersionPrimary=null;Sc.length=0}var lo=wn.ReactCurrentDispatcher,kc=wn.ReactCurrentBatchConfig,Nr=0,ce=null,ve=null,ze=null,Bo=!1,ya=!1,Fa=0,vy=0;function Fe(){throw Error(I(321))}function F0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,i,a){if(Nr=a,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lo.current=t===null||t.memoizedState===null?ky:Ey,t=n(r,i),ya){a=0;do{if(ya=!1,Fa=0,25<=a)throw Error(I(301));a+=1,ze=ve=null,e.updateQueue=null,lo.current=My,t=n(r,i)}while(ya)}if(lo.current=jo,e=ve!==null&&ve.next!==null,Nr=0,ze=ve=ce=null,Bo=!1,e)throw Error(I(300));return t}function B0(){var t=Fa!==0;return Fa=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ce.memoizedState=ze=t:ze=ze.next=t,ze}function Mt(){if(ve===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=ze===null?ce.memoizedState:ze.next;if(e!==null)ze=e,ve=t;else{if(t===null)throw Error(I(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},ze===null?ce.memoizedState=ze=t:ze=ze.next=t}return ze}function Oa(t,e){return typeof e=="function"?e(t):e}function Ec(t){var e=Mt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=ve,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Nr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,ce.lanes|=u,Pr|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Ot(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ce.lanes|=a,Pr|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ot(a,e.memoizedState)||(nt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function vp(){}function wp(t,e){var n=ce,r=Mt(),i=e(),a=!Ot(r.memoizedState,i);if(a&&(r.memoizedState=i,nt=!0),r=r.queue,j0(kp.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Ba(9,Sp.bind(null,n,r,i,e),void 0,null),Te===null)throw Error(I(349));Nr&30||bp(n,e,i)}return i}function bp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sp(t,e,n,r){e.value=n,e.getSnapshot=r,Ep(e)&&Mp(t)}function kp(t,e,n){return n(function(){Ep(e)&&Mp(t)})}function Ep(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function Mp(t){var e=gn(t,1);e!==null&&Ft(e,t,1,-1)}function Zd(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=Sy.bind(null,ce,t),[e.memoizedState,t]}function Ba(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zp(){return Mt().memoizedState}function co(t,e,n,r){var i=jt();ce.flags|=t,i.memoizedState=Ba(1|e,n,void 0,r===void 0?null:r)}function Wl(t,e,n,r){var i=Mt();r=r===void 0?null:r;var a=void 0;if(ve!==null){var s=ve.memoizedState;if(a=s.destroy,r!==null&&F0(r,s.deps)){i.memoizedState=Ba(e,n,a,r);return}}ce.flags|=t,i.memoizedState=Ba(1|e,n,a,r)}function Jd(t,e){return co(8390656,8,t,e)}function j0(t,e){return Wl(2048,8,t,e)}function Tp(t,e){return Wl(4,2,t,e)}function Dp(t,e){return Wl(4,4,t,e)}function Cp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lp(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,Cp.bind(null,e,t),n)}function U0(){}function Rp(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ap(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ip(t,e,n){return Nr&21?(Ot(n,e)||(n=Ox(),ce.lanes|=n,Pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function wy(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=kc.transition;kc.transition={};try{t(!1),e()}finally{J=n,kc.transition=r}}function _p(){return Mt().memoizedState}function by(t,e,n){var r=Qn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Np(t))Pp(e,n);else if(n=mp(t,e,n,r),n!==null){var i=He();Ft(n,t,r,i),Fp(n,e,r)}}function Sy(t,e,n){var r=Qn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Np(t))Pp(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Ot(o,s)){var l=e.interleaved;l===null?(i.next=i,A0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mp(t,e,i,r),n!==null&&(i=He(),Ft(n,t,r,i),Fp(n,e,r))}}function Np(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Pp(t,e){ya=Bo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}var jo={readContext:Et,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},ky={readContext:Et,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,co(4194308,4,Cp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return co(4194308,4,t,e)},useInsertionEffect:function(t,e){return co(4,2,t,e)},useMemo:function(t,e){var n=jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=by.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:Zd,useDebugValue:U0,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=Zd(!1),e=t[0];return t=wy.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,i=jt();if(se){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Te===null)throw Error(I(349));Nr&30||bp(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Jd(kp.bind(null,r,a,t),[t]),r.flags|=2048,Ba(9,Sp.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=jt(),e=Te.identifierPrefix;if(se){var n=un,r=cn;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ey={readContext:Et,useCallback:Rp,useContext:Et,useEffect:j0,useImperativeHandle:Lp,useInsertionEffect:Tp,useLayoutEffect:Dp,useMemo:Ap,useReducer:Ec,useRef:zp,useState:function(){return Ec(Oa)},useDebugValue:U0,useDeferredValue:function(t){var e=Mt();return Ip(e,ve.memoizedState,t)},useTransition:function(){var t=Ec(Oa)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:vp,useSyncExternalStore:wp,useId:_p,unstable_isNewReconciler:!1},My={readContext:Et,useCallback:Rp,useContext:Et,useEffect:j0,useImperativeHandle:Lp,useInsertionEffect:Tp,useLayoutEffect:Dp,useMemo:Ap,useReducer:Mc,useRef:zp,useState:function(){return Mc(Oa)},useDebugValue:U0,useDeferredValue:function(t){var e=Mt();return ve===null?e.memoizedState=t:Ip(e,ve.memoizedState,t)},useTransition:function(){var t=Mc(Oa)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:vp,useSyncExternalStore:wp,useId:_p,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gl={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=He(),i=Qn(t),a=dn(r,i);a.payload=e,n!=null&&(a.callback=n),e=$n(t,a,i),e!==null&&(Ft(e,t,i,r),oo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=He(),i=Qn(t),a=dn(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=$n(t,a,i),e!==null&&(Ft(e,t,i,r),oo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=He(),r=Qn(t),i=dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,r),e!==null&&(Ft(e,t,r,n),oo(e,t,r))}};function ef(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ra(n,r)||!Ra(i,a):!0}function Op(t,e,n){var r=!1,i=Jn,a=e.contextType;return typeof a=="object"&&a!==null?a=Et(a):(i=it(e)?Ir:je.current,r=e.contextTypes,a=(r=r!=null)?Ai(t,i):Jn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function tf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gl.enqueueReplaceState(e,e.state,null)}function gu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},I0(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Et(a):(a=it(e)?Ir:je.current,i.context=Ai(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(mu(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gl.enqueueReplaceState(i,i.state,null),Fo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pi(t,e){try{var n="",r=e;do n+=Jg(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function zc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zy=typeof WeakMap=="function"?WeakMap:Map;function Bp(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vo||(Vo=!0,Du=r),yu(t,e)},n}function jp(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){yu(t,e),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zy;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jy.bind(null,t,e,n),e.then(t,t))}function rf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function af(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,$n(n,e,1))),n.lanes|=1),t)}var Ty=wn.ReactCurrentOwner,nt=!1;function We(t,e,n,r){e.child=t===null?pp(e,null,n,r):_i(e,t.child,n,r)}function sf(t,e,n,r,i){n=n.render;var a=e.ref;return hi(e,i),r=O0(t,e,n,r,a,i),n=B0(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(se&&n&&z0(e),e.flags|=1,We(t,e,r,i),e.child)}function of(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Y0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Up(t,e,a,r,i)):(t=xo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(s,r)&&t.ref===e.ref)return yn(t,e,i)}return e.flags|=1,t=qn(a,r),t.ref=e.ref,t.return=e,e.child=t}function Up(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ra(a,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,yn(t,e,i)}return vu(t,e,n,r,i)}function Vp(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(si,ot),ot|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(si,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,te(si,ot),ot|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,te(si,ot),ot|=r;return We(t,e,i,n),e.child}function Wp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vu(t,e,n,r,i){var a=it(n)?Ir:je.current;return a=Ai(e,a),hi(e,i),n=O0(t,e,n,r,a,i),r=B0(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(se&&r&&z0(e),e.flags|=1,We(t,e,n,i),e.child)}function lf(t,e,n,r,i){if(it(n)){var a=!0;Ao(e)}else a=!1;if(hi(e,i),e.stateNode===null)uo(t,e),Op(e,n,r),gu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=it(n)?Ir:je.current,c=Ai(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&tf(e,s,r,c),Cn=!1;var d=e.memoizedState;s.state=d,Fo(e,r,s,i),l=e.memoizedState,o!==r||d!==l||rt.current||Cn?(typeof u=="function"&&(mu(e,n,u,r),l=e.memoizedState),(o=Cn||ef(e,n,o,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,gp(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Rt(e.type,o),s.props=c,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=it(n)?Ir:je.current,l=Ai(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&tf(e,s,r,l),Cn=!1,d=e.memoizedState,s.state=d,Fo(e,r,s,i);var p=e.memoizedState;o!==f||d!==p||rt.current||Cn?(typeof h=="function"&&(mu(e,n,h,r),p=e.memoizedState),(c=Cn||ef(e,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wu(t,e,n,r,a,i)}function wu(t,e,n,r,i,a){Wp(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Hd(e,n,!1),yn(t,e,a);r=e.stateNode,Ty.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_i(e,t.child,null,a),e.child=_i(e,null,o,a)):We(t,e,o,a),e.memoizedState=r.state,i&&Hd(e,n,!0),e.child}function Gp(t){var e=t.stateNode;e.pendingContext?$d(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$d(t,e.context,!1),_0(t,e.containerInfo)}function cf(t,e,n,r,i){return Ii(),D0(i),e.flags|=256,We(t,e,n,r),e.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Su(t){return{baseLanes:t,cachePool:null,transitions:null}}function $p(t,e,n){var r=e.pendingProps,i=le.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),te(le,i&1),t===null)return xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ql(s,r,0,null),t=Cr(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Su(n),e.memoizedState=bu,t):V0(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Dy(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qn(o,a):(a=Cr(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Su(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=bu,r}return a=t.child,t=a.sibling,r=qn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function V0(t,e){return e=Ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vs(t,e,n,r){return r!==null&&D0(r),_i(e,t.child,null,n),t=V0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dy(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=zc(Error(I(422))),Vs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ql({mode:"visible",children:r.children},i,0,null),a=Cr(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&_i(e,t.child,null,s),e.child.memoizedState=Su(s),e.memoizedState=bu,a);if(!(e.mode&1))return Vs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(I(419)),r=zc(a,r,void 0),Vs(t,e,s,r)}if(o=(s&t.childLanes)!==0,nt||o){if(r=Te,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,gn(t,i),Ft(r,t,i,-1))}return q0(),r=zc(Error(I(421))),Vs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Uy.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,lt=Gn(i.nextSibling),ut=e,se=!0,_t=null,t!==null&&(yt[vt++]=cn,yt[vt++]=un,yt[vt++]=_r,cn=t.id,un=t.overflow,_r=e),e=V0(e,r.children),e.flags|=4096,e)}function uf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pu(t.return,e,n)}function Tc(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hp(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(We(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uf(t,n,e);else if(t.tag===19)uf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tc(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tc(e,!0,n,null,a);break;case"together":Tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cy(t,e,n){switch(e.tag){case 3:Gp(e),Ii();break;case 5:yp(e);break;case 1:it(e.type)&&Ao(e);break;case 4:_0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;te(No,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?$p(t,e,n):(te(le,le.current&1),t=yn(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,Vp(t,e,n)}return yn(t,e,n)}var Qp,ku,qp,Yp;Qp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ku=function(){};qp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xr(Qt.current);var a=null;switch(n){case"input":i=$c(t,i),r=$c(t,r),a=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),a=[];break;case"textarea":i=qc(t,i),r=qc(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lo)}Kc(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ea.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};Yp=function(t,e,n,r){n!==r&&(e.flags|=4)};function ta(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ly(t,e,n){var r=e.pendingProps;switch(T0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return it(e.type)&&Ro(),Oe(e),null;case 3:return r=e.stateNode,Ni(),ie(rt),ie(je),P0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(js(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(Ru(_t),_t=null))),ku(t,e),Oe(e),null;case 5:N0(e);var i=xr(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)qp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Oe(e),null}if(t=xr(Qt.current),js(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Wt]=e,r[_a]=a,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<ua.length;i++)ne(ua[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":yd(r,a),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ne("invalid",r);break;case"textarea":wd(r,a),ne("invalid",r)}Kc(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Bs(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Bs(r.textContent,o,t),i=["children",""+o]):Ea.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ne("scroll",r)}switch(n){case"input":Rs(r),vd(r,a,!0);break;case"textarea":Rs(r),bd(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Lo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wt]=e,t[_a]=r,Qp(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xc(n,r),n){case"dialog":ne("cancel",t),ne("close",t),i=r;break;case"iframe":case"object":case"embed":ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<ua.length;i++)ne(ua[i],t);i=r;break;case"source":ne("error",t),i=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),i=r;break;case"details":ne("toggle",t),i=r;break;case"input":yd(t,r),i=$c(t,r),ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),ne("invalid",t);break;case"textarea":wd(t,r),i=qc(t,r),ne("invalid",t);break;default:i=r}Kc(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?zx(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ex(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ma(t,l):typeof l=="number"&&Ma(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ea.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ne("scroll",t):l!=null&&f0(t,a,l,s))}switch(n){case"input":Rs(t),vd(t,r,!1);break;case"textarea":Rs(t),bd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ci(t,!!r.multiple,a,!1):r.defaultValue!=null&&ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)Yp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=xr(Pa.current),xr(Qt.current),js(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wt]=e,(a=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:Bs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bs(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=e,e.stateNode=r}return Oe(e),null;case 13:if(ie(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&lt!==null&&e.mode&1&&!(e.flags&128))hp(),Ii(),e.flags|=98560,a=!1;else if(a=js(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(I(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Wt]=e}else Ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),a=!1}else _t!==null&&(Ru(_t),_t=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?we===0&&(we=3):q0())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return Ni(),ku(t,e),t===null&&Aa(e.stateNode.containerInfo),Oe(e),null;case 10:return R0(e.type._context),Oe(e),null;case 17:return it(e.type)&&Ro(),Oe(e),null;case 19:if(ie(le),a=e.memoizedState,a===null)return Oe(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)ta(a,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Oo(t),s!==null){for(e.flags|=128,ta(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}a.tail!==null&&ge()>Fi&&(e.flags|=128,r=!0,ta(a,!1),e.lanes=4194304)}else{if(!r)if(t=Oo(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ta(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!se)return Oe(e),null}else 2*ge()-a.renderingStartTime>Fi&&n!==1073741824&&(e.flags|=128,r=!0,ta(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ge(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return Q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Ry(t,e){switch(T0(e),e.tag){case 1:return it(e.type)&&Ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ni(),ie(rt),ie(je),P0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N0(e),null;case 13:if(ie(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(le),null;case 4:return Ni(),null;case 10:return R0(e.type._context),null;case 22:case 23:return Q0(),null;case 24:return null;default:return null}}var Ws=!1,Be=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,U=null;function ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Eu(t,e,n){try{n()}catch(r){fe(t,e,r)}}var df=!1;function Iy(t,e){if(ou=To,t=ep(),M0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=s),d===a&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:t,selectionRange:n},To=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,L=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rt(e.type,y),L);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(E){fe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return p=df,df=!1,p}function va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Eu(e,n,a)}i=i.next}while(i!==r)}}function $l(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kp(t){var e=t.alternate;e!==null&&(t.alternate=null,Kp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[_a],delete e[du],delete e[py],delete e[my])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xp(t){return t.tag===5||t.tag===3||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lo));else if(r!==4&&(t=t.child,t!==null))for(zu(t,e,n),t=t.sibling;t!==null;)zu(t,e,n),t=t.sibling}function Tu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tu(t,e,n),t=t.sibling;t!==null;)Tu(t,e,n),t=t.sibling}var Ae=null,It=!1;function Mn(t,e,n){for(n=n.child;n!==null;)Zp(t,e,n),n=n.sibling}function Zp(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:Be||ai(n,e);case 6:var r=Ae,i=It;Ae=null,Mn(t,e,n),Ae=r,It=i,Ae!==null&&(It?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(It?(t=Ae,n=n.stateNode,t.nodeType===8?wc(t.parentNode,n):t.nodeType===1&&wc(t,n),Ca(t)):wc(Ae,n.stateNode));break;case 4:r=Ae,i=It,Ae=n.stateNode.containerInfo,It=!0,Mn(t,e,n),Ae=r,It=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Eu(n,e,s),i=i.next}while(i!==r)}Mn(t,e,n);break;case 1:if(!Be&&(ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fe(n,e,o)}Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Mn(t,e,n),Be=r):Mn(t,e,n);break;default:Mn(t,e,n)}}function hf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ay),e.forEach(function(r){var i=Vy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ae=o.stateNode,It=!1;break e;case 3:Ae=o.stateNode.containerInfo,It=!0;break e;case 4:Ae=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Ae===null)throw Error(I(160));Zp(a,s,i),Ae=null,It=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jp(e,t),e=e.sibling}function Jp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(e,t),Bt(t),r&4){try{va(3,t,t.return),$l(3,t)}catch(y){fe(t,t.return,y)}try{va(5,t,t.return)}catch(y){fe(t,t.return,y)}}break;case 1:Dt(e,t),Bt(t),r&512&&n!==null&&ai(n,n.return);break;case 5:if(Dt(e,t),Bt(t),r&512&&n!==null&&ai(n,n.return),t.flags&32){var i=t.stateNode;try{Ma(i,"")}catch(y){fe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&bx(i,a),Xc(o,s);var c=Xc(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?zx(i,f):u==="dangerouslySetInnerHTML"?Ex(i,f):u==="children"?Ma(i,f):f0(i,u,f,c)}switch(o){case"input":Hc(i,a);break;case"textarea":Sx(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ci(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?ci(i,!!a.multiple,a.defaultValue,!0):ci(i,!!a.multiple,a.multiple?[]:"",!1))}i[_a]=a}catch(y){fe(t,t.return,y)}}break;case 6:if(Dt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){fe(t,t.return,y)}}break;case 3:if(Dt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ca(e.containerInfo)}catch(y){fe(t,t.return,y)}break;case 4:Dt(e,t),Bt(t);break;case 13:Dt(e,t),Bt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($0=ge())),r&4&&hf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(c=Be)||u,Dt(e,t),Be=c):Dt(e,t),Bt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(f=U=u;U!==null;){switch(d=U,h=d.child,d.tag){case 0:case 11:case 14:case 15:va(4,d,d.return);break;case 1:ai(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){fe(r,n,y)}}break;case 5:ai(d,d.return);break;case 22:if(d.memoizedState!==null){pf(f);continue}}h!==null?(h.return=d,U=h):pf(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Mx("display",s))}catch(y){fe(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){fe(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dt(e,t),Bt(t),r&4&&hf(t);break;case 21:break;default:Dt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ma(i,""),r.flags&=-33);var a=ff(t);Tu(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=ff(t);zu(t,o,s);break;default:throw Error(I(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _y(t,e,n){U=t,em(t)}function em(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ws;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Be;o=Ws;var c=Be;if(Ws=s,(Be=l)&&!c)for(U=i;U!==null;)s=U,l=s.child,s.tag===22&&s.memoizedState!==null?mf(i):l!==null?(l.return=s,U=l):mf(i);for(;a!==null;)U=a,em(a),a=a.sibling;U=i,Ws=o,Be=c}xf(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):xf(t)}}function xf(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||$l(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Xd(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xd(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ca(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Be||e.flags&512&&Mu(e)}catch(d){fe(e,e.return,d)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function pf(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function mf(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$l(4,e)}catch(l){fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fe(e,i,l)}}var a=e.return;try{Mu(e)}catch(l){fe(e,a,l)}break;case 5:var s=e.return;try{Mu(e)}catch(l){fe(e,s,l)}}}catch(l){fe(e,e.return,l)}if(e===t){U=null;break}var o=e.sibling;if(o!==null){o.return=e.return,U=o;break}U=e.return}}var Ny=Math.ceil,Uo=wn.ReactCurrentDispatcher,W0=wn.ReactCurrentOwner,kt=wn.ReactCurrentBatchConfig,K=0,Te=null,ye=null,_e=0,ot=0,si=tr(0),we=0,ja=null,Pr=0,Hl=0,G0=0,wa=null,et=null,$0=0,Fi=1/0,Jt=null,Vo=!1,Du=null,Hn=null,Gs=!1,jn=null,Wo=0,ba=0,Cu=null,fo=-1,ho=0;function He(){return K&6?ge():fo!==-1?fo:fo=ge()}function Qn(t){return t.mode&1?K&2&&_e!==0?_e&-_e:yy.transition!==null?(ho===0&&(ho=Ox()),ho):(t=J,t!==0||(t=window.event,t=t===void 0?16:$x(t.type)),t):1}function Ft(t,e,n,r){if(50<ba)throw ba=0,Cu=null,Error(I(185));ys(t,n,r),(!(K&2)||t!==Te)&&(t===Te&&(!(K&2)&&(Hl|=n),we===4&&Rn(t,_e)),at(t,r),n===1&&K===0&&!(e.mode&1)&&(Fi=ge()+500,Vl&&nr()))}function at(t,e){var n=t.callbackNode;y2(t,e);var r=zo(t,t===Te?_e:0);if(r===0)n!==null&&Ed(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ed(n),e===1)t.tag===0?gy(gf.bind(null,t)):up(gf.bind(null,t)),hy(function(){!(K&6)&&nr()}),n=null;else{switch(Bx(r)){case 1:n=g0;break;case 4:n=Px;break;case 16:n=Mo;break;case 536870912:n=Fx;break;default:n=Mo}n=lm(n,tm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tm(t,e){if(fo=-1,ho=0,K&6)throw Error(I(327));var n=t.callbackNode;if(xi()&&t.callbackNode!==n)return null;var r=zo(t,t===Te?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Go(t,r);else{e=r;var i=K;K|=2;var a=rm();(Te!==t||_e!==e)&&(Jt=null,Fi=ge()+500,Dr(t,e));do try{Oy();break}catch(o){nm(t,o)}while(!0);L0(),Uo.current=a,K=i,ye!==null?e=0:(Te=null,_e=0,e=we)}if(e!==0){if(e===2&&(i=nu(t),i!==0&&(r=i,e=Lu(t,i))),e===1)throw n=ja,Dr(t,0),Rn(t,r),at(t,ge()),n;if(e===6)Rn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Py(i)&&(e=Go(t,r),e===2&&(a=nu(t),a!==0&&(r=a,e=Lu(t,a))),e===1))throw n=ja,Dr(t,0),Rn(t,r),at(t,ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:lr(t,et,Jt);break;case 3:if(Rn(t,r),(r&130023424)===r&&(e=$0+500-ge(),10<e)){if(zo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){He(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uu(lr.bind(null,t,et,Jt),e);break}lr(t,et,Jt);break;case 4:if(Rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pt(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ny(r/1960))-r,10<r){t.timeoutHandle=uu(lr.bind(null,t,et,Jt),r);break}lr(t,et,Jt);break;case 5:lr(t,et,Jt);break;default:throw Error(I(329))}}}return at(t,ge()),t.callbackNode===n?tm.bind(null,t):null}function Lu(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Dr(t,e).flags|=256),t=Go(t,e),t!==2&&(e=et,et=n,e!==null&&Ru(e)),t}function Ru(t){et===null?et=t:et.push.apply(et,t)}function Py(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ot(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~G0,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function gf(t){if(K&6)throw Error(I(327));xi();var e=zo(t,0);if(!(e&1))return at(t,ge()),null;var n=Go(t,e);if(t.tag!==0&&n===2){var r=nu(t);r!==0&&(e=r,n=Lu(t,r))}if(n===1)throw n=ja,Dr(t,0),Rn(t,e),at(t,ge()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lr(t,et,Jt),at(t,ge()),null}function H0(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Fi=ge()+500,Vl&&nr())}}function Fr(t){jn!==null&&jn.tag===0&&!(K&6)&&xi();var e=K;K|=1;var n=kt.transition,r=J;try{if(kt.transition=null,J=1,t)return t()}finally{J=r,kt.transition=n,K=e,!(K&6)&&nr()}}function Q0(){ot=si.current,ie(si)}function Dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fy(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(T0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ro();break;case 3:Ni(),ie(rt),ie(je),P0();break;case 5:N0(r);break;case 4:Ni();break;case 13:ie(le);break;case 19:ie(le);break;case 10:R0(r.type._context);break;case 22:case 23:Q0()}n=n.return}if(Te=t,ye=t=qn(t.current,null),_e=ot=e,we=0,ja=null,G0=Hl=Pr=0,et=wa=null,hr!==null){for(e=0;e<hr.length;e++)if(n=hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}hr=null}return t}function nm(t,e){do{var n=ye;try{if(L0(),lo.current=jo,Bo){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bo=!1}if(Nr=0,ze=ve=ce=null,ya=!1,Fa=0,W0.current=null,n===null||n.return===null){we=1,ja=e,ye=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=_e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=rf(s);if(h!==null){h.flags&=-257,af(h,s,o,a,e),h.mode&1&&nf(a,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){nf(a,c,e),q0();break e}l=Error(I(426))}}else if(se&&o.mode&1){var L=rf(s);if(L!==null){!(L.flags&65536)&&(L.flags|=256),af(L,s,o,a,e),D0(Pi(l,o));break e}}a=l=Pi(l,o),we!==4&&(we=2),wa===null?wa=[a]:wa.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=Bp(a,l,e);Kd(a,m);break e;case 1:o=l;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hn===null||!Hn.has(v)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=jp(a,o,e);Kd(a,E);break e}}a=a.return}while(a!==null)}am(n)}catch(z){e=z,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function rm(){var t=Uo.current;return Uo.current=jo,t===null?jo:t}function q0(){(we===0||we===3||we===2)&&(we=4),Te===null||!(Pr&268435455)&&!(Hl&268435455)||Rn(Te,_e)}function Go(t,e){var n=K;K|=2;var r=rm();(Te!==t||_e!==e)&&(Jt=null,Dr(t,e));do try{Fy();break}catch(i){nm(t,i)}while(!0);if(L0(),K=n,Uo.current=r,ye!==null)throw Error(I(261));return Te=null,_e=0,we}function Fy(){for(;ye!==null;)im(ye)}function Oy(){for(;ye!==null&&!c2();)im(ye)}function im(t){var e=om(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?am(t):ye=e,W0.current=null}function am(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ry(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ye=null;return}}else if(n=Ly(n,e,ot),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);we===0&&(we=5)}function lr(t,e,n){var r=J,i=kt.transition;try{kt.transition=null,J=1,By(t,e,n,r)}finally{kt.transition=i,J=r}return null}function By(t,e,n,r){do xi();while(jn!==null);if(K&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(v2(t,a),t===Te&&(ye=Te=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gs||(Gs=!0,lm(Mo,function(){return xi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=kt.transition,kt.transition=null;var s=J;J=1;var o=K;K|=4,W0.current=null,Iy(t,n),Jp(n,t),ay(lu),To=!!ou,lu=ou=null,t.current=n,_y(n),u2(),K=o,J=s,kt.transition=a}else t.current=n;if(Gs&&(Gs=!1,jn=t,Wo=i),a=t.pendingLanes,a===0&&(Hn=null),h2(n.stateNode),at(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vo)throw Vo=!1,t=Du,Du=null,t;return Wo&1&&t.tag!==0&&xi(),a=t.pendingLanes,a&1?t===Cu?ba++:(ba=0,Cu=t):ba=0,nr(),null}function xi(){if(jn!==null){var t=Bx(Wo),e=kt.transition,n=J;try{if(kt.transition=null,J=16>t?16:t,jn===null)var r=!1;else{if(t=jn,jn=null,Wo=0,K&6)throw Error(I(331));var i=K;for(K|=4,U=t.current;U!==null;){var a=U,s=a.child;if(U.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:va(8,u,a)}var f=u.child;if(f!==null)f.return=u,U=f;else for(;U!==null;){u=U;var d=u.sibling,h=u.return;if(Kp(u),u===c){U=null;break}if(d!==null){d.return=h,U=d;break}U=h}}}var p=a.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var L=y.sibling;y.sibling=null,y=L}while(y!==null)}}U=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,U=s;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:va(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var g=t.current;for(U=g;U!==null;){s=U;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,U=v;else e:for(s=g;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$l(9,o)}}catch(z){fe(o,o.return,z)}if(o===s){U=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,U=E;break e}U=o.return}}if(K=i,nr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Fl,t)}catch{}r=!0}return r}finally{J=n,kt.transition=e}}return!1}function yf(t,e,n){e=Pi(n,e),e=Bp(t,e,1),t=$n(t,e,1),e=He(),t!==null&&(ys(t,1,e),at(t,e))}function fe(t,e,n){if(t.tag===3)yf(t,t,n);else for(;e!==null;){if(e.tag===3){yf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){t=Pi(n,t),t=jp(e,t,1),e=$n(e,t,1),t=He(),e!==null&&(ys(e,1,t),at(e,t));break}}e=e.return}}function jy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=He(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(_e&n)===n&&(we===4||we===3&&(_e&130023424)===_e&&500>ge()-$0?Dr(t,0):G0|=n),at(t,e)}function sm(t,e){e===0&&(t.mode&1?(e=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):e=1);var n=He();t=gn(t,e),t!==null&&(ys(t,e,n),at(t,n))}function Uy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sm(t,n)}function Vy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),sm(t,n)}var om;om=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,Cy(t,e,n);nt=!!(t.flags&131072)}else nt=!1,se&&e.flags&1048576&&dp(e,_o,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uo(t,e),t=e.pendingProps;var i=Ai(e,je.current);hi(e,n),i=O0(null,e,r,t,i,n);var a=B0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(a=!0,Ao(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I0(e),i.updater=Gl,e.stateNode=i,i._reactInternals=e,gu(e,r,t,n),e=wu(null,e,r,!0,a,n)):(e.tag=0,se&&a&&z0(e),We(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Gy(r),t=Rt(r,t),i){case 0:e=vu(null,e,r,t,n);break e;case 1:e=lf(null,e,r,t,n);break e;case 11:e=sf(null,e,r,t,n);break e;case 14:e=of(null,e,r,Rt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),vu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),lf(t,e,r,i,n);case 3:e:{if(Gp(e),t===null)throw Error(I(387));r=e.pendingProps,a=e.memoizedState,i=a.element,gp(t,e),Fo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Pi(Error(I(423)),e),e=cf(t,e,r,n,i);break e}else if(r!==i){i=Pi(Error(I(424)),e),e=cf(t,e,r,n,i);break e}else for(lt=Gn(e.stateNode.containerInfo.firstChild),ut=e,se=!0,_t=null,n=pp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===i){e=yn(t,e,n);break e}We(t,e,r,n)}e=e.child}return e;case 5:return yp(e),t===null&&xu(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,cu(r,i)?s=null:a!==null&&cu(r,a)&&(e.flags|=32),Wp(t,e),We(t,e,s,n),e.child;case 6:return t===null&&xu(e),null;case 13:return $p(t,e,n);case 4:return _0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_i(e,null,r,n):We(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),sf(t,e,r,i,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,te(No,r._currentValue),r._currentValue=s,a!==null)if(Ot(a.value,s)){if(a.children===i.children&&!rt.current){e=yn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=dn(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),pu(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(I(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),pu(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}We(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hi(e,n),i=Et(i),r=r(i),e.flags|=1,We(t,e,r,n),e.child;case 14:return r=e.type,i=Rt(r,e.pendingProps),i=Rt(r.type,i),of(t,e,r,i,n);case 15:return Up(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),uo(t,e),e.tag=1,it(r)?(t=!0,Ao(e)):t=!1,hi(e,n),Op(e,r,i),gu(e,r,i,n),wu(null,e,r,!0,t,n);case 19:return Hp(t,e,n);case 22:return Vp(t,e,n)}throw Error(I(156,e.tag))};function lm(t,e){return Nx(t,e)}function Wy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(t,e,n,r){return new Wy(t,e,n,r)}function Y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gy(t){if(typeof t=="function")return Y0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x0)return 11;if(t===p0)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xo(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")Y0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Kr:return Cr(n.children,i,a,e);case h0:s=8,i|=8;break;case Uc:return t=bt(12,n,e,i|2),t.elementType=Uc,t.lanes=a,t;case Vc:return t=bt(13,n,e,i),t.elementType=Vc,t.lanes=a,t;case Wc:return t=bt(19,n,e,i),t.elementType=Wc,t.lanes=a,t;case yx:return Ql(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mx:s=10;break e;case gx:s=9;break e;case x0:s=11;break e;case p0:s=14;break e;case Dn:s=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=bt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Cr(t,e,n,r){return t=bt(7,t,r,e),t.lanes=n,t}function Ql(t,e,n,r){return t=bt(22,t,r,e),t.elementType=yx,t.lanes=n,t.stateNode={isHidden:!1},t}function Dc(t,e,n){return t=bt(6,t,null,e),t.lanes=n,t}function Cc(t,e,n){return e=bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $y(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function K0(t,e,n,r,i,a,s,o,l){return t=new $y(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=bt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I0(a),t}function Hy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cm(t){if(!t)return Jn;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(it(n))return cp(t,n,e)}return e}function um(t,e,n,r,i,a,s,o,l){return t=K0(n,r,!0,t,i,a,s,o,l),t.context=cm(null),n=t.current,r=He(),i=Qn(n),a=dn(r,i),a.callback=e??null,$n(n,a,i),t.current.lanes=i,ys(t,i,r),at(t,r),t}function ql(t,e,n,r){var i=e.current,a=He(),s=Qn(i);return n=cm(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$n(i,e,s),t!==null&&(Ft(t,i,s,a),oo(t,i,s)),s}function $o(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X0(t,e){vf(t,e),(t=t.alternate)&&vf(t,e)}function Qy(){return null}var dm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Z0(t){this._internalRoot=t}Yl.prototype.render=Z0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));ql(t,e,null,null)};Yl.prototype.unmount=Z0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fr(function(){ql(null,t,null,null)}),e[mn]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&Gx(t)}};function J0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wf(){}function qy(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=$o(s);a.call(c)}}var s=um(e,r,t,0,null,!1,!1,"",wf);return t._reactRootContainer=s,t[mn]=s.current,Aa(t.nodeType===8?t.parentNode:t),Fr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=$o(l);o.call(c)}}var l=K0(t,0,!1,null,null,!1,!1,"",wf);return t._reactRootContainer=l,t[mn]=l.current,Aa(t.nodeType===8?t.parentNode:t),Fr(function(){ql(e,l,n,r)}),l}function Xl(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=$o(s);o.call(l)}}ql(e,s,t,i)}else s=qy(n,e,t,i,r);return $o(s)}jx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ca(e.pendingLanes);n!==0&&(y0(e,n|1),at(e,ge()),!(K&6)&&(Fi=ge()+500,nr()))}break;case 13:Fr(function(){var r=gn(t,1);if(r!==null){var i=He();Ft(r,t,1,i)}}),X0(t,1)}};v0=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=He();Ft(e,t,134217728,n)}X0(t,134217728)}};Ux=function(t){if(t.tag===13){var e=Qn(t),n=gn(t,e);if(n!==null){var r=He();Ft(n,t,e,r)}X0(t,e)}};Vx=function(){return J};Wx=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Jc=function(t,e,n){switch(e){case"input":if(Hc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ul(r);if(!i)throw Error(I(90));wx(r),Hc(r,i)}}}break;case"textarea":Sx(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};Cx=H0;Lx=Fr;var Yy={usingClientEntryPoint:!1,Events:[ws,ei,Ul,Tx,Dx,H0]},na={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ky={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ix(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||Qy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Fl=$s.inject(Ky),Ht=$s}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(e))throw Error(I(200));return Hy(t,e,null,n)};xt.createRoot=function(t,e){if(!J0(t))throw Error(I(299));var n=!1,r="",i=dm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=K0(t,1,!1,null,null,n,!1,r,i),t[mn]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Z0(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Ix(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Fr(t)};xt.hydrate=function(t,e,n){if(!Kl(e))throw Error(I(200));return Xl(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!J0(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=dm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=um(e,null,t,1,n??null,i,!1,a,s),t[mn]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yl(e)};xt.render=function(t,e,n){if(!Kl(e))throw Error(I(200));return Xl(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!Kl(t))throw Error(I(40));return t._reactRootContainer?(Fr(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};xt.unstable_batchedUpdates=H0;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kl(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Xl(t,e,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(t){console.error(t)}}fm(),fx.exports=xt;var Xy=fx.exports,hm,bf=Xy;hm=bf.createRoot,bf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zt=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>V.createElement("svg",{ref:u,...Zy,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Jy(t)}`,o].join(" "),...c},[...e.map(([f,d])=>V.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=zt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=zt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=zt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=zt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=zt("Cuboid",[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=zt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=zt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),dv=({info:t,isOpen:e,onClose:n})=>{const r=(i,a="- n/a -")=>i??a;return b.jsx(b.Fragment,{children:e&&b.jsxs("dialog",{open:!0,className:"modal",children:[b.jsxs("div",{className:"modal-box",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"batteryLevel",children:"Battery"})}),b.jsx("input",{id:"batteryLevel",type:"text",readOnly:!0,value:r(t==null?void 0:t.batteryLevel,"0%")+"%",className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"deviceMAC",children:"Device MAC"})}),b.jsx("input",{id:"deviceMAC",type:"text",readOnly:!0,value:r(t==null?void 0:t.deviceMAC),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"deviceName",children:"Device Name"})}),b.jsx("input",{id:"deviceName",type:"text",readOnly:!0,value:r(t==null?void 0:t.deviceName),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"gyroSupported",children:"Gyro Supported"})}),b.jsx("input",{id:"gyroSupported",type:"text",readOnly:!0,value:r(t==null?void 0:t.gyroSupported,"NO"),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"hardwareName",children:"Hardware Name"})}),b.jsx("input",{id:"hardwareName",type:"text",readOnly:!0,value:r(t==null?void 0:t.hardwareName),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"softwareVersion",children:"Software Version"})}),b.jsx("input",{id:"softwareVersion",type:"text",readOnly:!0,value:r(t==null?void 0:t.softwareVersion),className:"bg-gray-200 dark:bg-gray-900 p-1 rounded"})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"hardwareVersion",children:"Hardware Version"})}),b.jsx("input",{id:"hardwareVersion",type:"text",readOnly:!0,value:r(t==null?void 0:t.hardwareVersion),className:"bg-gray-100 dark:bg-gray-800 p-1 rounded"})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:n,children:"Close"})})]})})},fv="modulepreload",hv=function(t){return"/smart-cube-timer/"+t},kf={},Z=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hv(l),l in kf)return;kf[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":fv,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var xm=class{is(t){return this instanceof t}as(t){return this instanceof t?this:null}},rr=class extends xm{constructor(){super()}get log(){return console.log.bind(console,this,this.toString())}};function xv(t,e=!0){if(!e)return t;switch(t){case 1:return-1;case-1:return 1}}function pm(t,e){return e===-1?Array.from(t).reverse():t}function pv(t){return Array.from(t).reverse()}function*mv(t,e){e===-1?yield*gv(t):yield*t}function*gv(t){for(const e of Array.from(t).reverse())yield e}var Au=2147483647,Iu="2^31 - 1",yv=-2147483648,mr,gr,Lr,wt=(Lr=class extends rr{constructor(n,r){super();C(this,mr);C(this,gr);N(this,mr,Ua(n)),N(this,gr,Ua(r))}get A(){return x(this,mr)}get B(){return x(this,gr)}isIdentical(n){const r=n.as(Lr);return!!(r!=null&&r.A.isIdentical(this.A)&&(r!=null&&r.B.isIdentical(this.B)))}invert(){return new Lr(x(this,gr),x(this,mr))}*experimentalExpand(n=1,r){r??(r=1/0),r===0?yield n===1?this:this.invert():n===1?(yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(1,r-1),yield*this.A.experimentalExpand(-1,r-1),yield*this.B.experimentalExpand(-1,r-1)):(yield*this.B.experimentalExpand(1,r-1),yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(-1,r-1),yield*this.A.experimentalExpand(-1,r-1))}toString(n){return`[${x(this,mr).toString(n)}, ${x(this,gr).toString(n)}]`}},mr=new WeakMap,gr=new WeakMap,Lr),pi,mi,Rr,tt=(Rr=class extends rr{constructor(n,r){super();C(this,pi);C(this,mi);N(this,pi,Ua(n)),N(this,mi,Ua(r))}get A(){return x(this,pi)}get B(){return x(this,mi)}isIdentical(n){const r=n.as(Rr);return!!(r!=null&&r.A.isIdentical(this.A)&&(r!=null&&r.B.isIdentical(this.B)))}invert(){return new Rr(x(this,pi),x(this,mi).invert())}*experimentalExpand(n,r){r??(r=1/0),r===0?yield n===1?this:this.invert():(yield*this.A.experimentalExpand(1,r-1),yield*this.B.experimentalExpand(n,r-1),yield*this.A.experimentalExpand(-1,r-1))}toString(n){return`[${this.A.toString(n)}: ${this.B.toString(n)}]`}},pi=new WeakMap,mi=new WeakMap,Rr),An,gi,$i=(gi=class extends rr{constructor(n){super();C(this,An);if(n.includes(`
`)||n.includes("\r"))throw new Error("LineComment cannot contain newline");N(this,An,n)}get text(){return x(this,An)}isIdentical(n){const r=n;return n.is(gi)&&x(this,An)===x(r,An)}invert(){return this}*experimentalExpand(n=1,r=1/0){yield this}toString(n){return`//${x(this,An)}`}},An=new WeakMap,gi),Yn=class mm extends rr{toString(e){return`
`}isIdentical(e){return e.is(mm)}invert(){return this}*experimentalExpand(e=1,n=1/0){yield this}},Qe=class gm extends rr{constructor(){super(...arguments);k(this,"experimentalNISSGrouping")}toString(n){return"."}isIdentical(n){return n.is(gm)}invert(){return this}*experimentalExpand(n=1,r=1/0){yield this}},yr,Eh,Ho=(Eh=class{constructor(){C(this,yr,[])}push(t){x(this,yr).push(t)}experimentalPushAlg(t){for(const e of t.childAlgNodes())this.push(e)}experimentalNumAlgNodes(){return x(this,yr).length}toAlg(){return new B(x(this,yr))}reset(){N(this,yr,[])}},yr=new WeakMap,Eh);function Hs(t,e){return t?parseInt(t):e}var Ef=/^(\d+)?('?)/,vv=/^[_\dA-Za-z]/,wv=/^((([1-9]\d*)-)?([1-9]\d*))?([_A-Za-z]+)/,bv=/^[^\n]*/,Sv=/^(-?\d+), ?/,kv=/^(-?\d+)\)/;function ym(t){return new ed().parseAlg(t)}function Ev(t){return new ed().parseMove(t)}function Mv(t){return new ed().parseQuantumMove(t)}var dt=Symbol("startCharIndex"),qt=Symbol("endCharIndex");function Se(t,e,n){const r=t;return r[dt]=e,r[qt]=n,r}function zv(t,e){return dt in t&&(e[dt]=t[dt]),qt in t&&(e[qt]=t[qt]),e}var Xe,W,yi,Mh,ed=(Mh=class{constructor(){C(this,Xe,"");C(this,W,0);C(this,yi,[])}parseAlg(t){N(this,Xe,t),N(this,W,0);const e=this.parseAlgWithStopping([]);this.mustBeAtEndOfInput();const n=Array.from(e.childAlgNodes());if(x(this,yi).length>0)for(const s of x(this,yi).reverse())n.push(s);const r=new B(n),{[dt]:i,[qt]:a}=e;return Se(r,i,a),r}parseMove(t){N(this,Xe,t),N(this,W,0);const e=this.parseMoveImpl();return this.mustBeAtEndOfInput(),e}parseQuantumMove(t){N(this,Xe,t),N(this,W,0);const e=this.parseQuantumMoveImpl();return this.mustBeAtEndOfInput(),e}mustBeAtEndOfInput(){if(x(this,W)!==x(this,Xe).length)throw new Error("parsing unexpectedly ended early")}parseAlgWithStopping(t){let e=x(this,W),n=x(this,W);const r=new Ho;let i=!1;const a=s=>{if(i)throw new Error(`Unexpected character at index ${s}. Are you missing a space?`)};e:for(;x(this,W)<x(this,Xe).length;){const s=x(this,W);if(t.includes(x(this,Xe)[x(this,W)]))return Se(r.toAlg(),e,n);if(this.tryConsumeNext(" ")){i=!1,r.experimentalNumAlgNodes()===0&&(e=x(this,W));continue e}else if(vv.test(x(this,Xe)[x(this,W)])){a(s);const o=this.parseMoveImpl();r.push(o),i=!0,n=x(this,W);continue e}else if(this.tryConsumeNext("(")){a(s);const o=this.tryRegex(Sv);if(o){const l=o[1],c=x(this,W),u=this.parseRegex(kv),f=Se(new w(new fn("U_SQ_"),parseInt(l)),s+1,s+1+l.length),d=Se(new w(new fn("D_SQ_"),parseInt(u[1])),c,x(this,W)-1),h=Se(new B([f,d]),s+1,x(this,W)-1);r.push(Se(new $e(h),s,x(this,W))),i=!0,n=x(this,W);continue e}else{const l=this.parseAlgWithStopping([")"]);this.mustConsumeNext(")");const c=this.parseAmount();r.push(Se(new $e(l,c),s,x(this,W))),i=!0,n=x(this,W);continue e}}else if(this.tryConsumeNext("^")){this.mustConsumeNext("(");const o=this.parseAlgWithStopping([")"]);this.popNext();const l=new $e(o,-1),c=new Qe;l.experimentalNISSPlaceholder=c,c.experimentalNISSGrouping=l,x(this,yi).push(l),r.push(c)}else if(this.tryConsumeNext("[")){a(s);const o=this.parseAlgWithStopping([",",":"]),l=this.popNext(),c=this.parseAlgWithStopping(["]"]);this.mustConsumeNext("]");let u;switch(l){case":":{u=Se(new tt(o,c),s,x(this,W)),i=!0,n=x(this,W);break}case",":{u=Se(new wt(o,c),s,x(this,W)),i=!0,n=x(this,W);break}default:throw new Error("unexpected parsing error")}const f=x(this,W),d=this.parseAmount();if(d===1)r.push(u);else{const h=Se(new B([u]),s,f),p=Se(new $e(h,d),s,x(this,W));r.push(p)}i=!0,n=x(this,W);continue e}else if(this.tryConsumeNext(`
`)){r.push(Se(new Yn,s,x(this,W))),i=!1,n=x(this,W);continue e}else if(this.tryConsumeNext("/"))if(this.tryConsumeNext("/")){a(s);const[o]=this.parseRegex(bv);r.push(Se(new $i(o),s,x(this,W))),i=!1,n=x(this,W);continue e}else{r.push(Se(new w("_SLASH_"),s,x(this,W))),i=!0,n=x(this,W);continue e}else if(this.tryConsumeNext(".")){a(s),r.push(Se(new Qe,s,x(this,W))),i=!0,n=x(this,W);continue e}else throw new Error(`Unexpected character: ${this.popNext()}`)}if(x(this,W)!==x(this,Xe).length)throw new Error("did not finish parsing?");if(t.length>0)throw new Error("expected stopping");return Se(r.toAlg(),e,n)}parseQuantumMoveImpl(){const[,,,t,e,n]=this.parseRegex(wv);return new fn(n,Hs(e,void 0),Hs(t,void 0))}parseMoveImpl(){const t=x(this,W);if(this.tryConsumeNext("/"))return Se(new w("_SLASH_"),t,x(this,W));let e=this.parseQuantumMoveImpl(),[n,r]=this.parseAmountAndTrackEmptyAbsAmount();const i=this.parseMoveSuffix();if(i){if(n<0)throw new Error("uh-oh");if((i==="++"||i==="--")&&n!==1)throw new Error("Pochmann ++ or -- moves cannot have an amount other than 1.");if((i==="++"||i==="--")&&!r)throw new Error("Pochmann ++ or -- moves cannot have an amount written as a number.");if((i==="+"||i==="-")&&r)throw new Error("Clock dial moves must have an amount written as a natural number followed by + or -.");i.startsWith("+")&&(e=e.modified({family:`${e.family}_${i==="+"?"PLUS":"PLUSPLUS"}_`})),i.startsWith("-")&&(e=e.modified({family:`${e.family}_${i==="-"?"PLUS":"PLUSPLUS"}_`}),n*=-1)}return Se(new w(e,n),t,x(this,W))}parseMoveSuffix(){return this.tryConsumeNext("+")?this.tryConsumeNext("+")?"++":"+":this.tryConsumeNext("-")?this.tryConsumeNext("-")?"--":"-":null}parseAmountAndTrackEmptyAbsAmount(){const t=x(this,W),[,e,n]=this.parseRegex(Ef);if(e!=null&&e.startsWith("0")&&e!=="0")throw new Error(`Error at char index ${t}: An amount can only start with 0 if it's exactly the digit 0.`);return[Hs(e,1)*(n==="'"?-1:1),!e]}parseAmount(){const t=x(this,W),[,e,n]=this.parseRegex(Ef);if(e!=null&&e.startsWith("0")&&e!=="0")throw new Error(`Error at char index ${t}: An amount number can only start with 0 if it's exactly the digit 0.`);return Hs(e,1)*(n==="'"?-1:1)}parseRegex(t){const e=t.exec(this.remaining());if(e===null)throw new Error("internal parsing error");return N(this,W,x(this,W)+e[0].length),e}tryRegex(t){const e=t.exec(this.remaining());return e===null?null:(N(this,W,x(this,W)+e[0].length),e)}remaining(){return x(this,Xe).slice(x(this,W))}popNext(){const t=x(this,Xe)[x(this,W)];return Ds(this,W)._++,t}tryConsumeNext(t){return x(this,Xe)[x(this,W)]===t?(Ds(this,W)._++,!0):!1}mustConsumeNext(t){const e=this.popNext();if(e!==t)throw new Error(`expected \`${t}\` while parsing, encountered ${e}`);return e}},Xe=new WeakMap,W=new WeakMap,yi=new WeakMap,Mh),Mf=new Set;function vm(t){Mf.has(t)||(console.warn(t),Mf.add(t))}var _u=class{constructor(t,e=1){k(this,"quantum");k(this,"amount");if(this.quantum=t,this.amount=e,!Number.isInteger(this.amount)||this.amount<yv||this.amount>Au)throw new Error(`AlgNode amount absolute value must be a non-negative integer below ${Iu}.`)}suffix(){let t="";const e=Math.abs(this.amount);return e!==1&&(t+=e),this.amount<0&&(t+="'"),t}isIdentical(t){return this.quantum.isIdentical(t.quantum)&&this.amount===t.amount}*experimentalExpand(t,e){const n=Math.abs(this.amount),r=xv(t,this.amount<0);for(let i=0;i<n;i++)yield*this.quantum.experimentalExpand(r,e)}},nn,Le,Re,Ar,fn=(Ar=class extends xm{constructor(n,r,i){super();C(this,nn);C(this,Le);C(this,Re);if(N(this,nn,n),N(this,Le,r??null),N(this,Re,i??null),Object.freeze(this),x(this,Le)!==null&&(!Number.isInteger(x(this,Le))||x(this,Le)<1||x(this,Le)>Au))throw new Error(`QuantumMove inner layer must be a positive integer below ${Iu}.`);if(x(this,Re)!==null&&(!Number.isInteger(x(this,Re))||x(this,Re)<1||x(this,Re)>Au))throw new Error(`QuantumMove outer layer must be a positive integer below ${Iu}.`);if(x(this,Re)!==null&&x(this,Le)!==null&&x(this,Le)<=x(this,Re))throw new Error("QuantumMove outer layer must be smaller than inner layer.");if(x(this,Re)!==null&&x(this,Le)===null)throw new Error("QuantumMove with an outer layer must have an inner layer")}static fromString(n){return Mv(n)}modified(n){return new Ar(n.family??x(this,nn),n.innerLayer??x(this,Le),n.outerLayer??x(this,Re))}isIdentical(n){const r=n;return n.is(Ar)&&x(this,nn)===x(r,nn)&&x(this,Le)===x(r,Le)&&x(this,Re)===x(r,Re)}get family(){return x(this,nn)}get outerLayer(){return x(this,Re)}get innerLayer(){return x(this,Le)}experimentalExpand(){throw new Error("experimentalExpand() cannot be called on a `QuantumMove` directly.")}toString(n){let r=x(this,nn);return x(this,Le)!==null&&(r=String(x(this,Le))+r,x(this,Re)!==null&&(r=`${String(x(this,Re))}-${r}`)),r}},nn=new WeakMap,Le=new WeakMap,Re=new WeakMap,Ar),Me,al,Ka,Nu,Gt,w=(Gt=class extends rr{constructor(...n){super();C(this,Ka);C(this,Me);C(this,al);if(typeof n[0]=="string")if(n[1]??null){N(this,Me,new _u(fn.fromString(n[0]),n[1]));return}else return Gt.fromString(n[0]);N(this,Me,new _u(n[0],n[1]))}isIdentical(n){const r=n.as(Gt);return!!r&&x(this,Me).isIdentical(x(r,Me))}invert(){return zv(this,new Gt(x(this,Me).quantum,H(this,Ka,Nu).call(this)?this.amount:-this.amount))}*experimentalExpand(n=1){n===1?yield this:yield this.modified({amount:-this.amount})}get quantum(){return x(this,Me).quantum}modified(n){return new Gt(x(this,Me).quantum.modified(n),n.amount??this.amount)}static fromString(n){return Ev(n)}get amount(){return x(this,Me).amount}get type(){return vm("deprecated: type"),"blockMove"}get family(){return x(this,Me).quantum.family??void 0}get outerLayer(){return x(this,Me).quantum.outerLayer??void 0}get innerLayer(){return x(this,Me).quantum.innerLayer??void 0}toString(n){if((n==null?void 0:n.notation)!=="LGN"){if(H(this,Ka,Nu).call(this))return"/";if(this.family.endsWith("_PLUS_"))return x(this,Me).quantum.toString().slice(0,-6)+Math.abs(this.amount)+(this.amount<0?"-":"+");if(this.family.endsWith("_PLUSPLUS_")){const r=Math.abs(this.amount);return x(this,Me).quantum.toString().slice(0,-10)+(r===1?"":r)+(this.amount<0?"--":"++")}}return x(this,Me).quantum.toString(n)+x(this,Me).suffix()}},Me=new WeakMap,al=new WeakMap,Ka=new WeakSet,Nu=function(){return this.isIdentical(x(this,al)??N(this,al,new Gt("_SLASH_")))},Gt),Tv=class{constructor(){k(this,"quantumU_SQ_",null);k(this,"quantumD_SQ_",null)}format(t,e){if((e==null?void 0:e.notation)==="LGN"||t.amount!==1)return null;const n=this.tuple(t);return n?`(${n.map(r=>r.amount).join(", ")})`:null}tuple(t){var n,r;if(t.amount!==1)return null;this.quantumU_SQ_||(this.quantumU_SQ_=new fn("U_SQ_")),this.quantumD_SQ_||(this.quantumD_SQ_=new fn("D_SQ_"));const e=t.alg;if(e.experimentalNumChildAlgNodes()===2){const[i,a]=e.childAlgNodes();if((n=i.as(w))!=null&&n.quantum.isIdentical(this.quantumU_SQ_)&&((r=a.as(w))!=null&&r.quantum.isIdentical(this.quantumD_SQ_)))return[i,a]}return null}},Lc=new Tv,Ze,sl,wm,Xn,$e=(Xn=class extends rr{constructor(n,r){super();C(this,sl);C(this,Ze);k(this,"experimentalNISSPlaceholder");const i=Ua(n);N(this,Ze,new _u(i,r))}isIdentical(n){const r=n;return n.is(Xn)&&x(this,Ze).isIdentical(x(r,Ze))}get alg(){return x(this,Ze).quantum}get amount(){return x(this,Ze).amount}get experimentalRepetitionSuffix(){return x(this,Ze).suffix()}invert(){const n=Lc.tuple(this);if(n){const[r,i]=n;return new Xn(new B([r.invert(),i.invert()]))}return new Xn(x(this,Ze).quantum,-x(this,Ze).amount)}*experimentalExpand(n=1,r){r??(r=1/0),r===0?yield n===1?this:this.invert():yield*x(this,Ze).experimentalExpand(n,r-1)}static fromString(){throw new Error("unimplemented")}toString(n){return Lc.format(this,n)??`${H(this,sl,wm).call(this,n)}${x(this,Ze).suffix()}`}experimentalAsSquare1Tuple(){return Lc.tuple(this)}},Ze=new WeakMap,sl=new WeakSet,wm=function(n){const r=x(this,Ze).quantum.toString(n),i=this.alg.childAlgNodes(),{value:a}=i.next();return i.next().done&&(a!=null&&a.is(wt)||a!=null&&a.is(tt))?r:`(${r})`},Xn);function en(t,e){return t instanceof e}function Dv(t){return en(t,$e)||en(t,$i)||en(t,wt)||en(t,tt)||en(t,w)||en(t,Yn)||en(t,Qe)}function bm(t,e,n){if(e.is($e))return t.traverseGrouping(e,n);if(e.is(w))return t.traverseMove(e,n);if(e.is(wt))return t.traverseCommutator(e,n);if(e.is(tt))return t.traverseConjugate(e,n);if(e.is(Qe))return t.traversePause(e,n);if(e.is(Yn))return t.traverseNewline(e,n);if(e.is($i))return t.traverseLineComment(e,n);throw new Error("unknown AlgNode")}function Sm(t){if(t.is($e)||t.is(w)||t.is(wt)||t.is(tt)||t.is(Qe)||t.is(Yn)||t.is($i))return t;throw new Error("internal error: expected AlgNode")}var Hi=class{traverseAlgNode(t,e){return bm(this,t,e)}traverseIntoAlgNode(t,e){return Sm(this.traverseAlgNode(t,e))}},Ur=class extends Hi{traverseAlgNode(t){return bm(this,t,void 0)}traverseIntoAlgNode(t){return Sm(this.traverseAlgNode(t))}};function mt(t,e){const n=new t(...e??[]);return n.traverseAlg.bind(n)}var Cv="any-direction",km=class{constructor(t={}){this.config=t}cancelQuantum(){const{cancel:t}=this.config;return t===!0?Cv:t===!1?"none":(t==null?void 0:t.directional)??"none"}cancelAny(){return this.config.cancel&&this.cancelQuantum()!=="none"}cancelPuzzleSpecificModWrap(){const{cancel:t}=this.config;return t===!0||t===!1?"canonical-centered":t!=null&&t.puzzleSpecificModWrap?t==null?void 0:t.puzzleSpecificModWrap:(t==null?void 0:t.directional)==="same-direction"?"preserve-sign":"canonical-centered"}puzzleSpecificSimplifyOptions(){var t;return((t=this.config.puzzleLoader)==null?void 0:t.puzzleSpecificSimplifyOptions)??this.config.puzzleSpecificSimplifyOptions}};function Lv(t,e){return t*Math.sign(e.amount)>=0}function Em(t,e,n=0){return((t-n)%e+e)%e+n}function Mm(t,e,n){var l;const r=new km(n),i=Array.from(t.childAlgNodes());let a=[e];function s(){return new B([...i,...a])}function o(c){var p;if(r.cancelPuzzleSpecificModWrap()==="none")return c;const u=(p=r.puzzleSpecificSimplifyOptions())==null?void 0:p.quantumMoveOrder;if(!u)return c;const f=u(e.quantum);let d;switch(r.cancelPuzzleSpecificModWrap()){case"gravity":{d=-Math.floor((f-(c.amount<0?0:1))/2);break}case"canonical-centered":{d=-Math.floor((f-1)/2);break}case"canonical-positive":{d=0;break}case"preserve-sign":{d=c.amount<0?1-f:0;break}default:throw new Error("Unknown mod wrap")}const h=Em(c.amount,f,d);return c.modified({amount:h})}if(r.cancelAny()){let c;const u=(l=r.puzzleSpecificSimplifyOptions())==null?void 0:l.axis;if(u)c=y=>u.areQuantumMovesSameAxis(e.quantum,y.quantum);else{const y=e.quantum.toString();c=L=>L.quantum.toString()===y}const f=r.cancelQuantum()==="same-direction",d=new Map;d.set(e.quantum.toString(),Math.sign(e.amount));let h;for(h=i.length-1;h>=0;h--){const y=i[h].as(w);if(!y||!c(y))break;const L=y.quantum.toString();if(f){const m=d.get(L);if(m&&!Lv(m,y))break;d.set(L,Math.sign(y.amount))}}const p=[...i.splice(h+1),e];if(u)a=u.simplifySameAxisMoves(p,r.cancelPuzzleSpecificModWrap()!=="none");else{const y=p.reduce((L,m)=>L+m.amount,0);if(d.size!==1)throw new Error("Internal error: multiple quantums when one was expected");a=[new w(e.quantum,y)]}}return a=a.map(c=>o(c)).filter(c=>c.amount!==0),s()}function Rv(t,e,n){const r=e.as(w);return r?Mm(t,r,n):new B([...t.childAlgNodes(),e])}var ol,ct,Pu,da,Fu,zh,Av=(zh=class extends Hi{constructor(){super(...arguments);C(this,ct);C(this,ol)}*traverseAlg(e,n){if(n.depth===0){yield*e.childAlgNodes();return}let r=[];const i=H(this,ct,da).call(this,n);for(const a of e.childAlgNodes())for(const s of this.traverseAlgNode(a,i))r=Array.from(Rv(new B(r),s,i).childAlgNodes());for(const a of r)yield a}*traverseGrouping(e,n){if(n.depth===0){yield e;return}if(e.amount===0)return;const r=new $e(this.traverseAlg(e.alg,H(this,ct,da).call(this,n)),e.amount);if(r.alg.experimentalIsEmpty())return;const i=H(this,ct,Pu).call(this).get(e);i&&(r.experimentalNISSPlaceholder=i,i.experimentalNISSGrouping=r),yield r}*traverseMove(e,n){yield e}*traverseCommutator(e,n){if(n.depth===0){yield e;return}const r=H(this,ct,da).call(this,n),i=new wt(this.traverseAlg(e.A,r),this.traverseAlg(e.B,r));i.A.experimentalIsEmpty()||i.B.experimentalIsEmpty()||i.A.isIdentical(i.B)||i.A.isIdentical(i.B.invert())||H(this,ct,Fu).call(this,i.A,i.B,n)||(yield i)}*traverseConjugate(e,n){if(n.depth===0){yield e;return}const r=H(this,ct,da).call(this,n),i=new tt(this.traverseAlg(e.A,r),this.traverseAlg(e.B,r));if(!i.B.experimentalIsEmpty()){if(i.A.experimentalIsEmpty()||i.A.isIdentical(i.B)||i.A.isIdentical(i.B.invert())||H(this,ct,Fu).call(this,i.A,i.B,n)){yield*e.B.childAlgNodes();return}yield i}}*traversePause(e,n){if(e.experimentalNISSGrouping){const r=new Qe;H(this,ct,Pu).call(this).set(e.experimentalNISSGrouping,r),yield r}else yield e}*traverseNewline(e,n){yield e}*traverseLineComment(e,n){yield e}},ol=new WeakMap,ct=new WeakSet,Pu=function(){return x(this,ol)??N(this,ol,new Map)},da=function(e){return{...e,depth:e.depth?e.depth-1:null}},Fu=function(e,n,r){var i,a,s,o;if(e.experimentalNumChildAlgNodes()===1&&n.experimentalNumChildAlgNodes()===1){const l=(i=Array.from(e.childAlgNodes())[0])==null?void 0:i.as(w),c=(a=Array.from(n.childAlgNodes())[0])==null?void 0:a.as(w);if(!(l&&c))return!1;if(c.quantum.isIdentical(l.quantum)||(o=(s=new km(r).puzzleSpecificSimplifyOptions())==null?void 0:s.axis)!=null&&o.areQuantumMovesSameAxis(l.quantum,c.quantum))return!0}return!1},zh),Iv=mt(Av);function zf(t){if(!t)return[];if(en(t,B))return t.childAlgNodes();if(typeof t=="string")return ym(t).childAlgNodes();const e=t;if(typeof e[Symbol.iterator]=="function")return e;throw new Error("Invalid AlgNode")}function Ua(t){return en(t,B)?t:new B(t)}var Je,$t,B=($t=class extends rr{constructor(n){super();C(this,Je);N(this,Je,Array.from(zf(n)));for(const r of x(this,Je))if(!Dv(r))throw new Error("An alg can only contain alg nodes.")}isIdentical(n){const r=n;if(!n.is($t))return!1;const i=Array.from(x(this,Je)),a=Array.from(x(r,Je));if(i.length!==a.length)return!1;for(let s=0;s<i.length;s++)if(!i[s].isIdentical(a[s]))return!1;return!0}invert(){return new $t(pv(Array.from(x(this,Je)).map(n=>n.invert())))}*experimentalExpand(n=1,r){r??(r=1/0);for(const i of pm(x(this,Je),n))yield*i.experimentalExpand(n,r)}expand(n){return new $t(this.experimentalExpand(1,(n==null?void 0:n.depth)??1/0))}*experimentalLeafMoves(){for(const n of this.experimentalExpand())n.is(w)&&(yield n)}concat(n){return new $t(Array.from(x(this,Je)).concat(Array.from(zf(n))))}experimentalIsEmpty(){for(const n of x(this,Je))return!1;return!0}static fromString(n){return ym(n)}units(){return this.childAlgNodes()}*childAlgNodes(){for(const n of x(this,Je))yield n}experimentalNumUnits(){return this.experimentalNumChildAlgNodes()}experimentalNumChildAlgNodes(){return Array.from(x(this,Je)).length}get type(){return vm("deprecated: type"),"sequence"}toString(n){var a,s;let r="",i=null;for(const o of x(this,Je)){i&&(r+=_v(i,o));const l=(a=o.as(Qe))==null?void 0:a.experimentalNISSGrouping;if(l){if(l.amount!==-1)throw new Error("Invalid NISS Grouping amount!");r+=`^(${l.alg.toString(n)})`}else(s=o.as($e))!=null&&s.experimentalNISSPlaceholder||(r+=o.toString(n));i=o}return r}experimentalSimplify(n){return new $t(Iv(this,n??{}))}simplify(n){return this.experimentalSimplify(n)}},Je=new WeakMap,$t);function _v(t,e){var n;return t.is(Yn)||e.is(Yn)||(n=e.as($e))!=null&&n.experimentalNISSPlaceholder?"":t.is($i)&&!e.is(Yn)?`
`:" "}new B([new w("R",1),new w("U",1),new w("R",-1),new w("U",1),new w("R",1),new w("U",-2),new w("R",-1)]),new B([new w("R",1),new w("U",2),new w("R",-1),new w("U",-1),new w("R",1),new w("U",-1),new w("R",-1)]),new B([new wt(new B([new w("R",1),new w("U",1),new w("R",-2)]),new B([new tt(new B([new w("R",1)]),new B([new w("U",1)]))]))]),new B([new w("R",1),new w("U",-1),new w("L",-1),new w("U",1),new w("R",-1),new w("U",-1),new w("L",1),new w("U",1)]),new B([new w("x",-1),new wt(new B([new tt(new B([new w("R",1)]),new B([new w("U",-1)]))]),new B([new w("D",1)])),new wt(new B([new tt(new B([new w("R",1)]),new B([new w("U",1)]))]),new B([new w("D",1)])),new w("x",1)]),new B([new tt(new B([new w("F",1)]),new B([new wt(new B([new w("U",1)]),new B([new w("R",1)]))]))]),new B([new tt(new B([new w("R",2)]),new B([new wt(new B([new w("F",2)]),new B([new w("R",-1),new w("B",-1),new w("R",1)]))]))]),new B([new w("F",1),new w("U",1),new w("R",1),new w("U",-1),new w("R",-1),new w("F",-1)]),new B([new w("R",1),new w("U",1),new w("R",-1),new w("U",-1),new w("R",-1),new w("F",1),new w("R",2),new w("U",-1),new w("R",-1),new w("U",-1),new w("R",1),new w("U",1),new w("R",-1),new w("F",-1)]),new B([new tt(new B([new w("F",1)]),new B([new $e(new B([new wt(new B([new w("R",1)]),new B([new w("U",1)]))]),3)]))]),new B([new Qe,new Qe,new Qe]);function Ou(t,e,n){const r={};for(const i of t.orbits){const a=e[i.orbitName],s=n[i.orbitName];if(Qo(i.numOrientations,s))r[i.orbitName]=a;else if(Qo(i.numOrientations,a))r[i.orbitName]=s;else{const o=new Array(i.numPieces);if(i.numOrientations===1){for(let l=0;l<i.numPieces;l++)o[l]=a.permutation[s.permutation[l]];r[i.orbitName]={permutation:o,orientationDelta:a.orientationDelta}}else{const l=new Array(i.numPieces);for(let c=0;c<i.numPieces;c++)l[c]=(a.orientationDelta[s.permutation[c]]+s.orientationDelta[c])%i.numOrientations,o[c]=a.permutation[s.permutation[c]];r[i.orbitName]={permutation:o,orientationDelta:l}}}}return r}function Tf(t,e,n){const r={};for(const i of t.orbits){const a=e[i.orbitName],s=n[i.orbitName];if(Qo(i.numOrientations,s))r[i.orbitName]=a;else{const o=new Array(i.numPieces);if(i.numOrientations===1){for(let c=0;c<i.numPieces;c++)o[c]=a.pieces[s.permutation[c]];const l={pieces:o,orientation:a.orientation};r[i.orbitName]=l}else{const l=new Array(i.numPieces),c=a.orientationMod?new Array(i.numPieces):void 0;for(let f=0;f<i.numPieces;f++){const d=s.permutation[f];let h=i.numOrientations;if(a.orientationMod){const p=a.orientationMod[d];c[f]=p,h=p||i.numOrientations}l[f]=(a.orientation[d]+s.orientationDelta[f])%h,o[f]=a.pieces[d]}const u={pieces:o,orientation:l};c&&(u.orientationMod=c),r[i.orbitName]=u}}}return r}var Df=new Map;function Nv(t){const e=Df.get(t);if(e)return e;const n=new Array(t),r=new Array(t);for(let a=0;a<t;a++)n[a]=a,r[a]=0;const i={permutation:n,orientationDelta:r};return Df.set(t,i),i}function Pv(t){const e={};for(const n of t.orbits)e[n.orbitName]=Nv(n.numPieces);return e}function Fv(t,e){function n(i,a){var c;const s=i.toString(),o=t.definition.moves[s];if(o)return Bi(t,o,a);const l=(c=t.definition.derivedMoves)==null?void 0:c[s];if(l)return Bi(t,t.algToTransformation(l).transformationData,a)}const r=n(e.quantum,e.amount)??n(e,1)??n(e.invert,-1);if(r)return r;throw new Error(`Invalid move for KPuzzle (${t.name()}): ${e}`)}var Oi=class po{constructor(e,n){this.kpuzzle=e,this.patternData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),patternData:this.patternData}}static fromTransformation(e){const n=Tf(e.kpuzzle.definition,e.kpuzzle.definition.defaultPattern,e.transformationData);return new po(e.kpuzzle,n)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(e.isIdentityTransformation())return new po(this.kpuzzle,this.patternData);const n=Tf(this.kpuzzle.definition,this.patternData,e.transformationData);return new po(this.kpuzzle,n)}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}isIdentical(e){return Uv(this.kpuzzle,this.patternData,e.patternData)}experimentalToTransformation(){if(!this.kpuzzle.canConvertDefaultPatternToUniqueTransformation())return null;const e={};for(const[n,r]of Object.entries(this.patternData)){const i={permutation:r.pieces,orientationDelta:r.orientation};e[n]=i}return new oi(this.kpuzzle,e)}experimentalIsSolved(e){if(!this.kpuzzle.definition.experimentalIsPatternSolved)throw new Error("`KPattern.experimentalIsPatternSolved()` is not supported for this puzzle at the moment.");return this.kpuzzle.definition.experimentalIsPatternSolved(this,e)}},vr,Nt,oi=(Nt=class{constructor(e,n){C(this,vr);this.kpuzzle=e,this.transformationData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),transformationData:this.transformationData}}invert(){return new Nt(this.kpuzzle,zm(this.kpuzzle,this.transformationData))}isIdentityTransformation(){return x(this,vr)??N(this,vr,this.isIdentical(this.kpuzzle.identityTransformation()))}static experimentalConstructIdentity(e){const n=new Nt(e,Pv(e.definition));return N(n,vr,!0),n}isIdentical(e){return Bv(this.kpuzzle,this.transformationData,e.transformationData)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(this.kpuzzle!==e.kpuzzle)throw new Error(`Tried to apply a transformation for a KPuzzle (${e.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`);return x(this,vr)?new Nt(this.kpuzzle,e.transformationData):x(e,vr)?new Nt(this.kpuzzle,this.transformationData):new Nt(this.kpuzzle,Ou(this.kpuzzle.definition,this.transformationData,e.transformationData))}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}toKPattern(){return Oi.fromTransformation(this)}repetitionOrder(){return Gv(this.kpuzzle.definition,this)}selfMultiply(e){return new Nt(this.kpuzzle,Bi(this.kpuzzle,this.transformationData,e))}},vr=new WeakMap,Nt);function Qo(t,e){e.permutation||console.log(e);const{permutation:n}=e,r=n.length;for(let i=0;i<r;i++)if(n[i]!==i)return!1;if(t>1){const{orientationDelta:i}=e;for(let a=0;a<r;a++)if(i[a]!==0)return!1}return!0}function Ov(t,e,n,r={}){for(let i=0;i<t.numPieces;i++)if(!(r!=null&&r.ignorePieceOrientations)&&e.orientationDelta[i]!==n.orientationDelta[i]||!(r!=null&&r.ignorePiecePermutation)&&e.permutation[i]!==n.permutation[i])return!1;return!0}function Bv(t,e,n){for(const r of t.definition.orbits)if(!Ov(r,e[r.orbitName],n[r.orbitName]))return!1;return!0}function jv(t,e,n,r={}){var i,a;for(let s=0;s<t.numPieces;s++)if(!(r!=null&&r.ignorePieceOrientations)&&(e.orientation[s]!==n.orientation[s]||(((i=e.orientationMod)==null?void 0:i[s])??0)!==(((a=n.orientationMod)==null?void 0:a[s])??0))||!(r!=null&&r.ignorePieceIndices)&&e.pieces[s]!==n.pieces[s])return!1;return!0}function Uv(t,e,n){for(const r of t.definition.orbits)if(!jv(r,e[r.orbitName],n[r.orbitName]))return!1;return!0}function zm(t,e){const n={};for(const r of t.definition.orbits){const i=e[r.orbitName];if(Qo(r.numOrientations,i))n[r.orbitName]=i;else if(r.numOrientations===1){const a=new Array(r.numPieces);for(let s=0;s<r.numPieces;s++)a[i.permutation[s]]=s;n[r.orbitName]={permutation:a,orientationDelta:i.orientationDelta}}else{const a=new Array(r.numPieces),s=new Array(r.numPieces);for(let o=0;o<r.numPieces;o++){const l=i.permutation[o];a[l]=o,s[l]=(r.numOrientations-i.orientationDelta[o]+r.numOrientations)%r.numOrientations}n[r.orbitName]={permutation:a,orientationDelta:s}}}return n}function Bi(t,e,n){if(n===1)return e;if(n<0)return Bi(t,zm(t,e),-n);if(n===0){const{transformationData:a}=t.identityTransformation();return a}let r=e;n!==2&&(r=Bi(t,e,Math.floor(n/2)));const i=Ou(t.definition,r,r);return n%2===0?i:Ou(t.definition,e,i)}var Vv=class extends Hi{traverseAlg(t,e){let n=null;for(const r of t.childAlgNodes())n?n=n.applyTransformation(this.traverseAlgNode(r,e)):n=this.traverseAlgNode(r,e);return n??e.identityTransformation()}traverseGrouping(t,e){const n=this.traverseAlg(t.alg,e);return new oi(e,Bi(e,n.transformationData,t.amount))}traverseMove(t,e){return e.moveToTransformation(t)}traverseCommutator(t,e){const n=this.traverseAlg(t.A,e),r=this.traverseAlg(t.B,e);return n.applyTransformation(r).applyTransformation(n.invert()).applyTransformation(r.invert())}traverseConjugate(t,e){const n=this.traverseAlg(t.A,e),r=this.traverseAlg(t.B,e);return n.applyTransformation(r).applyTransformation(n.invert())}traversePause(t,e){return e.identityTransformation()}traverseNewline(t,e){return e.identityTransformation()}traverseLineComment(t,e){return e.identityTransformation()}},Wv=mt(Vv);function Bu(t,e){return e?Bu(e,t%e):t}function Gv(t,e){let n=1;for(const r of t.orbits){const i=e.transformationData[r.orbitName],a=new Array(r.numPieces);for(let s=0;s<r.numPieces;s++)if(!a[s]){let o=s,l=0,c=0;for(;a[o]=!0,l=l+i.orientationDelta[o],c=c+1,o=i.permutation[o],o!==s;);l!==0&&(c=c*r.numOrientations/Bu(r.numOrientations,Math.abs(l))),n=n*c/Bu(n,c)}}return n}var Xa,vi,ll,Th,bn=(Th=class{constructor(t,e){k(this,"experimentalPGNotation");C(this,Xa);C(this,vi,new Map);C(this,ll);this.definition=t,this.experimentalPGNotation=e==null?void 0:e.experimentalPGNotation}lookupOrbitDefinition(t){return x(this,Xa)||N(this,Xa,(()=>{const e={};for(const n of this.definition.orbits)e[n.orbitName]=n;return e})()),x(this,Xa)[t]}name(){return this.definition.name}identityTransformation(){return oi.experimentalConstructIdentity(this)}moveToTransformation(t){typeof t=="string"&&(t=new w(t));const e=t.toString(),n=x(this,vi).get(e);if(n)return new oi(this,n);if(this.experimentalPGNotation){const i=this.experimentalPGNotation.lookupMove(t);if(!i)throw new Error(`could not map to internal move: ${t}`);return x(this,vi).set(e,i),new oi(this,i)}const r=Fv(this,t);return x(this,vi).set(e,r),new oi(this,r)}algToTransformation(t){return typeof t=="string"&&(t=new B(t)),Wv(t,this)}toTransformation(t){var e,n;return typeof t=="string"?this.algToTransformation(t):(e=t==null?void 0:t.is)!=null&&e.call(t,B)?this.algToTransformation(t):(n=t==null?void 0:t.is)!=null&&n.call(t,w)?this.moveToTransformation(t):t}defaultPattern(){return new Oi(this,this.definition.defaultPattern)}canConvertDefaultPatternToUniqueTransformation(){return x(this,ll)??N(this,ll,(()=>{for(const t of this.definition.orbits){const e=new Array(t.numPieces).fill(!1);for(const n of this.definition.defaultPattern[t.orbitName].pieces)e[n]=!0;for(const n of e)if(!n)return!1}return!0})())}},Xa=new WeakMap,vi=new WeakMap,ll=new WeakMap,Th),Tm=class mo extends Promise{constructor(e){super(n=>{n()}),this._executor=e}static from(e){return new mo(n=>{n(e())})}static resolve(e){return new mo(n=>{n(e)})}static reject(e){return new mo((n,r)=>{r(e)})}then(e,n){return this._promise=this._promise||new Promise(this._executor),this._promise.then(e,n)}catch(e){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(e)}};function td(t){return new Tm(e=>{e(t())})}function R6(t,e,n,r,i){var l;const s=t.orbits[e].pieces[n];if(s===null)return gt;const o=(l=s.facelets)==null?void 0:l[r];return o===null?gt:typeof o=="string"?o:(console.log(o),o.mask)}var cr=class{constructor(t,e){k(this,"stickerings",new Map);for(const n of t.definition.orbits)this.stickerings.set(n.orbitName,new Array(n.numPieces).fill(e))}},gt="regular",pe="ignored",Gr="oriented",$v="experimentalOriented2",ra="invisible",ar="dim",ia="mystery",Hv={Regular:{facelets:[gt,gt,gt,gt,gt]},Ignored:{facelets:[pe,pe,pe,pe,pe]},OrientationStickers:{facelets:[Gr,Gr,Gr,Gr,Gr]},IgnoreNonPrimary:{facelets:[gt,pe,pe,pe,pe]},Invisible:{facelets:[ra,ra,ra,ra,ra]},PermuteNonPrimary:{facelets:[ar,gt,gt,gt,gt]},Dim:{facelets:[ar,ar,ar,ar,ar]},Ignoriented:{facelets:[ar,pe,pe,pe,pe]},OrientationWithoutPermutation:{facelets:[Gr,pe,pe,pe,pe]},ExperimentalOrientationWithoutPermutation2:{facelets:[$v,pe,pe,pe,pe]},Mystery:{facelets:[ia,ia,ia,ia,ia]}};function Dm(t){return Hv[t]}var Cm=class extends cr{constructor(t){super(t,"Regular")}set(t,e){for(const[n,r]of this.stickerings.entries())for(let i=0;i<r.length;i++)t.stickerings.get(n)[i]&&(r[i]=e);return this}toStickeringMask(){const t={orbits:{}};for(const[e,n]of this.stickerings.entries()){const r=[],i={pieces:r};t.orbits[e]=i;for(const a of n)r.push(Dm(a))}return t}},Lm=class{constructor(t){this.kpuzzle=t}and(t){const e=new cr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)e:for(let r=0;r<n.numPieces;r++){e.stickerings.get(n.orbitName)[r]=!0;for(const i of t)if(!i.stickerings.get(n.orbitName)[r]){e.stickerings.get(n.orbitName)[r]=!1;continue e}}return e}or(t){const e=new cr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)e:for(let r=0;r<n.numPieces;r++){e.stickerings.get(n.orbitName)[r]=!1;for(const i of t)if(i.stickerings.get(n.orbitName)[r]){e.stickerings.get(n.orbitName)[r]=!0;continue e}}return e}not(t){const e=new cr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)for(let r=0;r<n.numPieces;r++)e.stickerings.get(n.orbitName)[r]=!t.stickerings.get(n.orbitName)[r];return e}all(){return this.and(this.moves([]))}move(t){const e=this.kpuzzle.moveToTransformation(t),n=new cr(this.kpuzzle,!1);for(const r of this.kpuzzle.definition.orbits)for(let i=0;i<r.numPieces;i++)(e.transformationData[r.orbitName].permutation[i]!==i||e.transformationData[r.orbitName].orientationDelta[i]!==0)&&(n.stickerings.get(r.orbitName)[i]=!0);return n}moves(t){return t.map(e=>this.move(e))}orbits(t){const e=new cr(this.kpuzzle,!1);for(const n of t)e.stickerings.get(n).fill(!0);return e}orbitPrefix(t){const e=new cr(this.kpuzzle,!1);for(const n of this.kpuzzle.definition.orbits)n.orbitName.startsWith(t)&&e.stickerings.get(n.orbitName).fill(!0);return e}},Cf="Last Layer",Lf="Last Slot",Ct={"3x3x3":Cf,megaminx:Cf},zn={"3x3x3":Lf,megaminx:Lf},Qv={full:{groups:{"3x3x3":"Stickering",megaminx:"Stickering"}},OLL:{groups:Ct},PLL:{groups:Ct},LL:{groups:Ct},EOLL:{groups:Ct},COLL:{groups:Ct},OCLL:{groups:Ct},CPLL:{groups:Ct},CLL:{groups:Ct},EPLL:{groups:Ct},ELL:{groups:Ct},ZBLL:{groups:Ct},LS:{groups:zn},LSOLL:{groups:zn},LSOCLL:{groups:zn},ELS:{groups:zn},CLS:{groups:zn},ZBLS:{groups:zn},VLS:{groups:zn},WVLS:{groups:zn},F2L:{groups:{"3x3x3":"CFOP (Fridrich)"}},Daisy:{groups:{"3x3x3":"CFOP (Fridrich)"}},Cross:{groups:{"3x3x3":"CFOP (Fridrich)"}},EO:{groups:{"3x3x3":"ZZ"}},EOline:{groups:{"3x3x3":"ZZ"}},EOcross:{groups:{"3x3x3":"ZZ"}},FirstBlock:{groups:{"3x3x3":"Roux"}},SecondBlock:{groups:{"3x3x3":"Roux"}},CMLL:{groups:{"3x3x3":"Roux"}},L10P:{groups:{"3x3x3":"Roux"}},L6E:{groups:{"3x3x3":"Roux"}},L6EO:{groups:{"3x3x3":"Roux"}},"2x2x2":{groups:{"3x3x3":"Petrus"}},"2x2x3":{groups:{"3x3x3":"Petrus"}},EODF:{groups:{"3x3x3":"Nautilus"}},G1:{groups:{"3x3x3":"FMC"}},L2C:{groups:{"4x4x4":"Reduction","5x5x5":"Reduction","6x6x6":"Reduction"}},PBL:{groups:{"2x2x2":"Ortega"}},"Void Cube":{groups:{"3x3x3":"Miscellaneous"}},invisible:{groups:{"3x3x3":"Miscellaneous"}},picture:{groups:{"3x3x3":"Miscellaneous"}},"centers-only":{groups:{"3x3x3":"Miscellaneous"}},"opposite-centers":{groups:{"4x4x4":"Reduction"}},"experimental-centers-U":{},"experimental-centers-U-D":{},"experimental-centers-U-L-D":{},"experimental-centers-U-L-B-D":{},"experimental-centers":{},"experimental-fto-fc":{groups:{fto:"Bencisco"}},"experimental-fto-f2t":{groups:{fto:"Bencisco"}},"experimental-fto-sc":{groups:{fto:"Bencisco"}},"experimental-fto-l2c":{groups:{fto:"Bencisco"}},"experimental-fto-lbt":{groups:{fto:"Bencisco"}},"experimental-fto-l3t":{groups:{fto:"Bencisco"}}};async function Va(t,e){return(await qv(t,e)).toStickeringMask()}async function qv(t,e){const n=await t.kpuzzle(),r=new Cm(n),i=new Lm(n),a=()=>i.move("U"),s=()=>i.or(i.moves(["U","D"])),o=()=>i.or(i.moves(["L","R"])),l=()=>i.not(o()),c=()=>i.not(a()),u=()=>i.orbitPrefix("CENTER"),f=F=>i.and([i.move(F),u()]),d=()=>i.orbitPrefix("EDGE"),h=F=>i.and([i.and(i.moves(F)),d()]),p=()=>i.or([i.orbitPrefix("CORNER"),i.orbitPrefix("C4RNER"),i.orbitPrefix("C5RNER")]),y=()=>i.or([l(),i.and([a(),d()])]),L=()=>i.and([a(),u()]),m=()=>i.and([i.and(i.moves(["F","R"])),d()]),g=()=>i.and([i.and(i.moves(["F","R"])),p(),i.not(a())]),v=()=>i.or([g(),m()]);function E(){r.set(c(),"Dim")}function z(){r.set(a(),"PermuteNonPrimary"),r.set(L(),"Dim")}function D(){r.set(a(),"IgnoreNonPrimary"),r.set(L(),"Regular")}function A(){r.set(a(),"Ignoriented"),r.set(L(),"Dim")}switch(e){case"full":break;case"PLL":{E(),z();break}case"CLS":{E(),r.set(g(),"Regular"),r.set(a(),"Ignoriented"),r.set(i.and([a(),u()]),"Dim"),r.set(i.and([a(),p()]),"IgnoreNonPrimary");break}case"OLL":{E(),D();break}case"EOLL":{E(),D(),r.set(i.and([a(),p()]),"Ignored");break}case"COLL":{E(),r.set(i.and([a(),d()]),"Ignoriented"),r.set(i.and([a(),u()]),"Dim"),r.set(i.and([a(),p()]),"Regular");break}case"OCLL":{E(),A(),r.set(i.and([a(),p()]),"IgnoreNonPrimary");break}case"CPLL":{E(),r.set(i.and([p(),a()]),"PermuteNonPrimary"),r.set(i.and([i.not(p()),a()]),"Dim");break}case"CLL":{E(),r.set(i.not(i.and([p(),a()])),"Dim");break}case"EPLL":{E(),r.set(a(),"Dim"),r.set(i.and([a(),d()]),"PermuteNonPrimary");break}case"ELL":{E(),r.set(a(),"Dim"),r.set(i.and([a(),d()]),"Regular");break}case"ELS":{E(),D(),r.set(i.and([a(),p()]),"Ignored"),r.set(m(),"Regular"),r.set(g(),"Ignored");break}case"LL":{E();break}case"F2L":{r.set(a(),"Ignored");break}case"ZBLL":{E(),r.set(a(),"PermuteNonPrimary"),r.set(L(),"Dim"),r.set(i.and([a(),p()]),"Regular");break}case"ZBLS":{E(),r.set(v(),"Regular"),D(),r.set(i.and([a(),p()]),"Ignored");break}case"VLS":{E(),r.set(v(),"Regular"),D();break}case"WVLS":{E(),r.set(v(),"Regular"),r.set(i.and([a(),d()]),"Ignoriented"),r.set(i.and([a(),u()]),"Dim"),r.set(i.and([a(),p()]),"IgnoreNonPrimary");break}case"LS":{E(),r.set(v(),"Regular"),r.set(a(),"Ignored"),r.set(L(),"Dim");break}case"LSOLL":{E(),D(),r.set(v(),"Regular");break}case"LSOCLL":{E(),A(),r.set(i.and([a(),p()]),"IgnoreNonPrimary"),r.set(v(),"Regular");break}case"EO":{r.set(p(),"Ignored"),r.set(d(),"OrientationWithoutPermutation");break}case"EOline":{r.set(p(),"Ignored"),r.set(d(),"OrientationWithoutPermutation"),r.set(i.and(i.moves(["D","M"])),"Regular");break}case"EOcross":{r.set(d(),"OrientationWithoutPermutation"),r.set(i.move("D"),"Regular"),r.set(p(),"Ignored");break}case"CMLL":{r.set(c(),"Dim"),r.set(y(),"Ignored"),r.set(i.and([a(),p()]),"Regular");break}case"L10P":{r.set(i.not(y()),"Dim"),r.set(i.and([p(),a()]),"Regular");break}case"L6E":{r.set(i.not(y()),"Dim");break}case"L6EO":{r.set(i.not(y()),"Dim"),r.set(y(),"ExperimentalOrientationWithoutPermutation2"),r.set(i.and([u(),s()]),"ExperimentalOrientationWithoutPermutation2"),r.set(i.and([i.move("M"),i.move("E")]),"Ignored");break}case"Daisy":{r.set(i.all(),"Ignored"),r.set(u(),"Dim"),r.set(i.and([i.move("D"),u()]),"Regular"),r.set(i.and([i.move("U"),d()]),"IgnoreNonPrimary");break}case"Cross":{r.set(i.all(),"Ignored"),r.set(u(),"Dim"),r.set(i.and([i.move("D"),u()]),"Regular"),r.set(i.and([i.move("D"),d()]),"Regular");break}case"2x2x2":{r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),u()]),"Dim");break}case"2x2x3":{r.set(i.all(),"Dim"),r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),u()]),"Dim"),r.set(i.and([i.move("F"),i.not(i.or(i.moves(["U","R"])))]),"Regular");break}case"G1":{r.set(i.all(),"ExperimentalOrientationWithoutPermutation2"),r.set(i.or(i.moves(["E"])),"OrientationWithoutPermutation"),r.set(i.and(i.moves(["E","S"])),"Ignored");break}case"L2C":{r.set(i.or(i.moves(["L","R","B","D"])),"Dim"),r.set(i.not(u()),"Ignored");break}case"PBL":{r.set(i.all(),"Ignored"),r.set(i.or(i.moves(["U","D"])),"PermuteNonPrimary");break}case"FirstBlock":{r.set(i.not(i.and([i.and(i.moves(["L"])),i.not(a())])),"Ignored"),r.set(f("R"),"Dim");break}case"SecondBlock":{r.set(i.not(i.and([i.and(i.moves(["L"])),i.not(a())])),"Ignored"),r.set(i.and([i.and(i.moves(["L"])),i.not(a())]),"Dim"),r.set(i.and([i.and(i.moves(["R"])),i.not(a())]),"Regular");break}case"EODF":{E(),r.set(i.or([g(),i.and([a(),p()])]),"Ignored"),r.set(i.or([i.and([a(),d()]),m()]),"OrientationWithoutPermutation"),r.set(h(["D","F"]),"Regular"),r.set(f("F"),"Regular");break}case"Void Cube":{r.set(u(),"Invisible");break}case"picture":case"invisible":{r.set(i.all(),"Invisible");break}case"centers-only":{r.set(i.not(u()),"Ignored");break}case"opposite-centers":{r.set(i.not(i.and([u(),i.or(i.moves(["U","D"]))])),"Ignored");break}default:console.warn(`Unsupported stickering for ${t.id}: ${e}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r}async function Zl(t,e){const n=[],r=[];for(const[i,a]of Object.entries(Qv))a.groups&&(t in a.groups?n.push(i):e!=null&&e.use3x3x3Fallbacks&&"3x3x3"in a.groups&&r.push(i));return n.concat(r)}function re(t){let e=null;return()=>e??(e=t())}async function nd(t){return(await Z(()=>import("./index.BMFe2pge.js"),[])).getPuzzleGeometryByName(t,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function Rm(t,e,n){const r=await t,i=r.getKPuzzleDefinition(!0);i.name=e;const a=await Z(()=>import("./index.BMFe2pge.js"),[]),s=new a.ExperimentalPGNotation(r,r.getOrbitsDef(!0));if(n){const o=new Set(n);for(const[l,c]of Object.entries(i.defaultPattern))o.has(l)&&(c.orientationMod=new Array(c.pieces.length).fill(1))}return new bn(s.remapKPuzzleDefinition(i),{experimentalPGNotation:s})}var Za,cl,ul,dl,Dh,Kn=(Dh=class{constructor(t){k(this,"pgId");k(this,"id");k(this,"fullName");k(this,"inventedBy");k(this,"inventionYear");C(this,Za);C(this,cl);C(this,ul);C(this,dl);k(this,"puzzleSpecificSimplifyOptionsPromise",Am(this.kpuzzle.bind(this)));this.pgId=t.pgID,this.id=t.id,this.fullName=t.fullName,this.inventedBy=t.inventedBy,this.inventionYear=t.inventionYear,N(this,Za,t.setOrientationModTo1ForPiecesOfOrbits)}pg(){return x(this,cl)??N(this,cl,nd(this.pgId??this.id))}kpuzzle(){return x(this,ul)??N(this,ul,Rm(this.pg(),this.id,x(this,Za)))}svg(){return x(this,dl)??N(this,dl,(async()=>(await this.pg()).generatesvg())())}},Za=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,Dh),fa=class extends Kn{constructor(){super(...arguments);k(this,"stickerings",()=>Zl(this.id,{use3x3x3Fallbacks:!0}))}stickeringMask(e){return Va(this,e)}};function Am(t){return new Tm(async e=>{const n=await t();e({quantumMoveOrder:r=>n.moveToTransformation(new w(r)).repetitionOrder()})})}var qo={name:"3x3x3",orbits:[{orbitName:"EDGES",numPieces:12,numOrientations:2},{orbitName:"CORNERS",numPieces:8,numOrientations:3},{orbitName:"CENTERS",numPieces:6,numOrientations:4}],defaultPattern:{EDGES:{pieces:[0,1,2,3,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{pieces:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}},moves:{U:{EDGES:{permutation:[1,2,3,0,4,5,6,7,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[1,0,0,0,0,0]}},y:{EDGES:{permutation:[1,2,3,0,5,6,7,4,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,7,4,5,6],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,3]}},x:{EDGES:{permutation:[4,8,0,9,6,10,2,11,5,7,1,3],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,3,5,7,6,2,1],orientationDelta:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,3,0,1,2,2]}},L:{EDGES:{permutation:[0,1,2,11,4,5,6,9,8,3,10,7],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,1,0,0,0,0]}},F:{EDGES:{permutation:[9,1,2,3,8,5,6,7,0,4,10,11],orientationDelta:[1,0,0,0,1,0,0,0,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,1,0,0,0]}},R:{EDGES:{permutation:[0,8,2,3,4,10,6,7,5,9,1,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,1,0,0]}},B:{EDGES:{permutation:[0,1,10,3,4,5,11,7,8,9,6,2],orientationDelta:[0,0,1,0,0,0,1,0,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,1,0]}},D:{EDGES:{permutation:[0,1,2,3,7,4,5,6,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,0,1]}},z:{EDGES:{permutation:[9,3,11,7,8,1,10,5,0,4,2,6],orientationDelta:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[3,2,6,5,0,4,7,1],orientationDelta:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,3,1]}},M:{EDGES:{permutation:[2,1,6,3,0,5,4,7,8,9,10,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,0,0,0,2,0]}},E:{EDGES:{permutation:[0,1,2,3,4,5,6,7,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,0]}},S:{EDGES:{permutation:[0,3,2,7,4,1,6,5,8,9,10,11],orientationDelta:[0,1,0,1,0,1,0,1,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,0,1,0,1]}},u:{EDGES:{permutation:[1,2,3,0,4,5,6,7,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,0]}},l:{EDGES:{permutation:[2,1,6,11,0,5,4,9,8,3,10,7],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,1,0,0,2,0]}},f:{EDGES:{permutation:[9,3,2,7,8,1,6,5,0,4,10,11],orientationDelta:[1,1,0,1,1,1,0,1,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,0,1]}},r:{EDGES:{permutation:[4,8,0,3,6,10,2,7,5,9,1,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,0,0,1,2,2]}},b:{EDGES:{permutation:[0,5,10,1,4,7,11,3,8,9,6,2],orientationDelta:[0,1,1,1,0,1,1,1,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientationDelta:[3,3,0,3,1,3]}},d:{EDGES:{permutation:[0,1,2,3,7,4,5,6,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,1]}}},derivedMoves:{Uw:"u",Lw:"l",Fw:"f",Rw:"r",Bw:"b",Dw:"d",Uv:"y",Lv:"x'",Fv:"z",Rv:"x",Bv:"z'",Dv:"y'","2U":"u U'","2L":"l L'","2F":"f F'","2R":"r R'","2B":"b B'","2D":"d D'"}};async function Yv(t){const e=await(t.puzzleSpecificSimplifyOptions??t.puzzleSpecificSimplifyOptionsPromise);return e?{puzzleLoader:{puzzleSpecificSimplifyOptions:e}}:{}}function Im(t){const n=t.experimentalToTransformation().invert().transformationData.CORNERS;return n.permutation[6]*3+n.orientationDelta[6]}var Rf=new Array(24);function Kv(t){{const e=["","z","x","z'","x'","x2"].map(r=>B.fromString(r)),n=new B("y");for(const r of e){let i=t.algToTransformation(r);for(let a=0;a<4;a++){i=i.applyAlg(n);const s=Im(i.toKPattern());Rf[s]={transformation:i.invert(),alg:r.concat(n)}}}}return Rf}function Xv(t){const e=Im(t),{transformation:n,alg:r}=Kv(t.kpuzzle)[e];return{normalizedPattern:t.applyTransformation(n),normalizationAlg:r.invert()}}function Zv(t,e){return e.ignorePuzzleOrientation&&(t=Xv(t).normalizedPattern),!!t.experimentalToTransformation().isIdentityTransformation()}async function Yo(t,e){return(await Z(()=>import("./index.BMFe2pge.js"),[])).getPuzzleGeometryByDesc(t,{allMoves:!0,orientCenters:!0,addRotations:!0,...e})}async function _m(t,e){const n=Yo(t,e);return Rm(n,`description: ${t}`)}var Jv=1;function ew(t,e){const n=Jv++;let r=null;const i=async()=>r??(r=_m(t));return{id:`custom-${n}`,fullName:(e==null?void 0:e.fullName)??`Custom Puzzle (instance #${n})`,kpuzzle:i,svg:async()=>(await Yo(t)).generatesvg(),pg:async()=>Yo(t),puzzleSpecificSimplifyOptionsPromise:Am(i)}}var Nm=new bn(qo);qo.experimentalIsPatternSolved=rw;function Pm(t){const e=t.patternData.CENTERS.pieces[0],n=t.patternData.CENTERS.pieces[5],r=t.patternData.CENTERS.pieces[1];let i=r;return e<r&&i--,n<r&&i--,[e,i]}var Af=new Array(6).fill(0).map(()=>new Array(6));function tw(){{const t=["","z","x","z'","x'","x2"].map(n=>B.fromString(n)),e=new B("y");for(const n of t){let r=Nm.algToTransformation(n);for(let i=0;i<4;i++){r=r.applyAlg(e);const[a,s]=Pm(r.toKPattern());Af[a][s]=r.invert()}}}return Af}function nw(t){const[e,n]=Pm(t),r=tw()[e][n];return t.applyTransformation(r)}function rw(t,e){var n;return e.ignorePuzzleOrientation&&(t=nw(t)),e.ignoreCenterOrientation&&(t=new Oi(t.kpuzzle,{EDGES:t.patternData.EDGES,CORNERS:t.patternData.CORNERS,CENTERS:{pieces:t.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}})),!!((n=t.experimentalToTransformation())!=null&&n.isIdentityTransformation())}var fl,Ja,Ch,Jl=(Ch=class{constructor(){C(this,fl,0);C(this,Ja,0)}queue(t){return new Promise(async(e,n)=>{try{const r=++Ds(this,fl)._,i=await t;r>x(this,Ja)&&(N(this,Ja,r),e(i))}catch(r){n(r)}})}},fl=new WeakMap,Ja=new WeakMap,Ch),Fm=0,wr,wi,ji,Bm,br,jm,bi,Lh,Om=(Lh=class{constructor(){C(this,ji);C(this,wr,new Set);k(this,"lastSourceGeneration",0);C(this,wi,new Set);C(this,br,!1);C(this,bi,new Map)}canReuse(t,e){return t===e||this.canReuseValue(t,e)}canReuseValue(t,e){return!1}debugGetChildren(){return Array.from(x(this,wr).values())}addChild(t){x(this,wr).add(t)}removeChild(t){x(this,wr).delete(t)}markStale(t){if(t.detail.generation!==Fm)throw new Error("A TwistyProp was marked stale too late!");if(this.lastSourceGeneration!==t.detail.generation){this.lastSourceGeneration=t.detail.generation;for(const e of x(this,wr))e.markStale(t);H(this,ji,Bm).call(this)}}addRawListener(t,e){x(this,wi).add(t),e!=null&&e.initial&&t()}removeRawListener(t){x(this,wi).delete(t)}addFreshListener(t){const e=new Jl;let n=null;const r=async()=>{const i=await e.queue(this.get());n!==null&&this.canReuse(n,i)||(n=i,t(i))};x(this,bi).set(t,r),this.addRawListener(r,{initial:!0})}removeFreshListener(t){this.removeRawListener(x(this,bi).get(t)),x(this,bi).delete(t)}},wr=new WeakMap,wi=new WeakMap,ji=new WeakSet,Bm=function(){x(this,br)||(N(this,br,!0),setTimeout(()=>H(this,ji,jm).call(this),0))},br=new WeakMap,jm=function(){if(!x(this,br))throw new Error("Invalid dispatch state!");for(const t of x(this,wi))t();N(this,br,!1)},bi=new WeakMap,Lh),Ut,Rh,ir=(Rh=class extends Om{constructor(e){super();C(this,Ut);N(this,Ut,td(()=>this.getDefaultValue())),e&&N(this,Ut,this.deriveFromPromiseOrValue(e,x(this,Ut)))}set(e){N(this,Ut,this.deriveFromPromiseOrValue(e,x(this,Ut)));const n={sourceProp:this,value:x(this,Ut),generation:++Fm};this.markStale(new CustomEvent("stale",{detail:n}))}async get(){return x(this,Ut)}async deriveFromPromiseOrValue(e,n){return this.derive(await e,n)}},Ut=new WeakMap,Rh),ee=class extends ir{derive(t){return t}},Wa=Symbol("no value"),In,es,Si,Ui,Um,Vm,Ah,ae=(Ah=class extends Om{constructor(e,n){super();C(this,Ui);C(this,In);C(this,es,null);C(this,Si,null);this.userVisibleErrorTracker=n,N(this,In,e);for(const r of Object.values(e))r.addChild(this)}async get(){var r,i;const e=this.lastSourceGeneration;if(((r=x(this,Si))==null?void 0:r.generation)===e)return x(this,Si).output;const n={generation:e,output:H(this,Ui,Vm).call(this,H(this,Ui,Um).call(this),e,x(this,es))};return N(this,Si,n),(i=this.userVisibleErrorTracker)==null||i.reset(),n.output}},In=new WeakMap,es=new WeakMap,Si=new WeakMap,Ui=new WeakSet,Um=async function(){const e={};for(const[r,i]of Object.entries(x(this,In)))e[r]=i.get();const n={};for(const r in x(this,In))n[r]=await e[r];return n},Vm=async function(e,n,r=null){const i=await e,a=o=>(N(this,es,{inputs:i,output:Promise.resolve(o),generation:n}),o);if(!r)return a(await this.derive(i));const s=r.inputs;for(const o in x(this,In))if(!x(this,In)[o].canReuse(i[o],s[o]))return a(await this.derive(i));return r.output},Ah),ki,Ih,Ss=(Ih=class{constructor(){C(this,ki,[])}addListener(t,e){let n=!1;const r=i=>{n||e(i)};t.addFreshListener(r),x(this,ki).push(()=>{t.removeFreshListener(r),n=!0})}addMultiListener3(t,e){this.addMultiListener(t,e)}addMultiListener(t,e){let n=!1,r=t.length-1;const i=async a=>{if(r>0){r--;return}if(n)return;const s=t.map(l=>l.get()),o=await Promise.all(s);e(o)};for(const a of t)a.addFreshListener(i);x(this,ki).push(()=>{for(const a of t)a.removeFreshListener(i);n=!0})}disconnect(){for(const t of x(this,ki))t()}},ki=new WeakMap,Ih),Qi=class{constructor(t){k(this,"animFrameID",null);k(this,"animFrame",this.animFrameWrapper.bind(this));this.callback=t}requestIsPending(){return!!this.animFrameID}requestAnimFrame(){this.animFrameID||(this.animFrameID=requestAnimationFrame(this.animFrame))}cancelAnimFrame(){this.animFrameID&&(cancelAnimationFrame(this.animFrameID),this.animFrameID=0)}animFrameWrapper(t){this.animFrameID=0,this.callback(t)}},A6={floating:!0,none:!0},iw=class extends ee{getDefaultValue(){return"auto"}},aw=Math.PI*2,Ga=360/aw,sw=class{},$a;globalThis.HTMLElement?$a=globalThis.HTMLElement:$a=sw;var ow=class{define(){}},Ue;globalThis.customElements?Ue=globalThis.customElements:Ue=new ow;var ht,lw=class{replaceSync(){}};globalThis.CSSStyleSheet?ht=globalThis.CSSStyleSheet:ht=lw;var Tt=class extends $a{constructor(e){super();k(this,"shadow");k(this,"contentWrapper");this.shadow=this.attachShadow({mode:(e==null?void 0:e.mode)??"closed"}),this.contentWrapper=document.createElement("div"),this.contentWrapper.classList.add("wrapper"),this.shadow.appendChild(this.contentWrapper)}addCSS(e){this.shadow.adoptedStyleSheets.push(e)}removeCSS(e){const n=this.shadow.adoptedStyleSheets.indexOf(e);typeof n<"u"&&this.shadow.adoptedStyleSheets.splice(n,n+1)}addElement(e){return this.contentWrapper.appendChild(e)}prependElement(e){this.contentWrapper.prepend(e)}removeElement(e){return this.contentWrapper.removeChild(e)}};Ue.define("twisty-managed-custom-element",Tt);var cw=null;async function Kt(){return cw??(cw=Z(()=>import("./twisty-dynamic-3d-QGRCHB6L.DiJsrQPJ.js"),[]))}function ju(){return devicePixelRatio||1}var If=.1,Sr,kr,Ei,vn,Wm,Gm,Uu,_h,uw=(_h=class extends EventTarget{constructor(e){super();C(this,vn);C(this,Sr,new Map);C(this,kr,new Map);C(this,Ei,!1);this.target=e}start(){this.addTargetListener("pointerdown",this.onPointerDown.bind(this)),this.addTargetListener("contextmenu",e=>{e.preventDefault()}),this.addTargetListener("touchmove",e=>e.preventDefault()),this.addTargetListener("dblclick",e=>e.preventDefault())}stop(){for(const[e,n]of x(this,kr).entries())this.target.removeEventListener(e,n);x(this,kr).clear(),N(this,Ei,!1)}addTargetListener(e,n){x(this,kr).has(e)||(this.target.addEventListener(e,n),x(this,kr).set(e,n))}onPointerDown(e){H(this,vn,Wm).call(this);const n={attachedInfo:{},hasMoved:!1,lastClientX:e.clientX,lastClientY:e.clientY,lastTimeStamp:e.timeStamp};x(this,Sr).set(e.pointerId,n),this.target.setPointerCapture(e.pointerId)}onPointerMove(e){const n=H(this,vn,Uu).call(this,e).movementInfo;n&&(e.preventDefault(),this.dispatchEvent(new CustomEvent("move",{detail:n})))}onPointerUp(e){const n=H(this,vn,Uu).call(this,e),r=x(this,Sr).get(e.pointerId);H(this,vn,Gm).call(this,e),this.target.releasePointerCapture(e.pointerId);let i;if(n.hasMoved)i=new CustomEvent("up",{detail:{attachedInfo:r.attachedInfo}});else{const{altKey:a,ctrlKey:s,metaKey:o,shiftKey:l}=e;i=new CustomEvent("press",{detail:{normalizedX:e.offsetX/this.target.offsetWidth*2-1,normalizedY:1-e.offsetY/this.target.offsetHeight*2,rightClick:!!(e.button&2),keys:{altKey:a,ctrlOrMetaKey:s||o,shiftKey:l}}})}this.dispatchEvent(i)}},Sr=new WeakMap,kr=new WeakMap,Ei=new WeakMap,vn=new WeakSet,Wm=function(){x(this,Ei)||(this.addTargetListener("pointermove",this.onPointerMove.bind(this)),this.addTargetListener("pointerup",this.onPointerUp.bind(this)),N(this,Ei,!0))},Gm=function(e){x(this,Sr).delete(e.pointerId)},Uu=function(e){const n=x(this,Sr).get(e.pointerId);if(!n)return{movementInfo:null,hasMoved:!1};let r;return(e.movementX??0)!==0||(e.movementY??0)!==0?r={attachedInfo:n.attachedInfo,movementX:e.movementX,movementY:e.movementY,elapsedMs:e.timeStamp-n.lastTimeStamp}:r={attachedInfo:n.attachedInfo,movementX:e.clientX-n.lastClientX,movementY:e.clientY-n.lastClientY,elapsedMs:e.timeStamp-n.lastTimeStamp},n.lastClientX=e.clientX,n.lastClientY=e.clientY,n.lastTimeStamp=e.timeStamp,Math.abs(r.movementX)<If&&Math.abs(r.movementY)<If?{movementInfo:null,hasMoved:n.hasMoved}:(n.hasMoved=!0,{movementInfo:r,hasMoved:n.hasMoved})},_h),Sa=[];async function $m(t,e,n,r){Sa.length===0&&Sa.push(rd());const i=await Sa[0];return i.setSize(t,e),i.render(n,r),i.domElement}async function dw(t,e,n,r,i){if(t===0||e===0)return;Sa.length===0&&Sa.push(rd());const a=await $m(t,e,r,i),s=n.getContext("2d");s.clearRect(0,0,n.width,n.height),s.drawImage(a,0,0)}var fw="srgb-linear";async function rd(){const t=(await Kt()).ThreeWebGLRenderer,e=new t({antialias:!0,alpha:!0});return e.outputColorSpace=fw,e.setPixelRatio(ju()),e}var Hm=new ht;Hm.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  place-content: center;
  contain: strict;
}

.loading {
  width: 4em;
  height: 4em;
  border-radius: 2.5em;
  border: 0.5em solid rgba(0, 0, 0, 0);
  border-top: 0.5em solid rgba(0, 0, 0, 0.7);
  border-right: 0.5em solid rgba(0, 0, 0, 0.7);
  animation: fade-in-delayed 4s, rotate 1s linear infinite;
}

@keyframes fade-in-delayed {
  0% { opacity: 0; }
  25% {opacity: 0; }
  100% { opacity: 1; }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* TODO: This is due to stats hack. Replace with \`canvas\`. */
.wrapper > canvas {
  max-width: 100%;
  max-height: 100%;
  animation: fade-in 0.25s ease-in;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.wrapper.invisible {
  opacity: 0;
}

.wrapper.drag-input-enabled > canvas {
  cursor: grab;
}

.wrapper.drag-input-enabled > canvas:active {
  cursor: grabbing;
}
`);var hw=!0,Rc=500,xw=50,pw=.75;function _f(t){return(Math.exp(1-t)-(1-t))/(1-Math.E)+1}var mw=class{constructor(t,e,n,r){k(this,"scheduler",new Qi(this.render.bind(this)));k(this,"lastTimestamp");this.startTimestamp=t,this.momentumX=e,this.momentumY=n,this.callback=r,this.scheduler.requestAnimFrame(),this.lastTimestamp=t}render(t){const e=(this.lastTimestamp-this.startTimestamp)/Rc,n=Math.min(1,(t-this.startTimestamp)/Rc);if(e===0&&n>xw/Rc)return;const r=_f(n)-_f(e);this.callback(this.momentumX*r*1e3,this.momentumY*r*1e3),n<1&&this.scheduler.requestAnimFrame(),this.lastTimestamp=t}},gw=class{constructor(t,e,n,r){k(this,"experimentalInertia",hw);k(this,"onMovementBound",this.onMovement.bind(this));k(this,"experimentalHasBeenMoved",!1);this.model=t,this.mirror=e,this.canvas=n,this.dragTracker=r,this.dragTracker.addEventListener("move",this.onMove.bind(this)),this.dragTracker.addEventListener("up",this.onUp.bind(this))}temperMovement(t){return Math.sign(t)*Math.log(Math.abs(t*10)+1)/6}onMove(t){var i;(i=t.detail).attachedInfo??(i.attachedInfo={});const{temperedX:e,temperedY:n}=this.onMovement(t.detail.movementX,t.detail.movementY),r=t.detail.attachedInfo;r.lastTemperedX=e*10,r.lastTemperedY=n*10,r.timestamp=t.timeStamp}onMovement(t,e){const n=this.mirror?-1:1,r=Math.min(this.canvas.offsetWidth,this.canvas.offsetHeight),i=this.temperMovement(t/r),a=this.temperMovement(e/r*pw);return this.model.twistySceneModel.orbitCoordinatesRequest.set((async()=>{const s=await this.model.twistySceneModel.orbitCoordinates.get();return{latitude:s.latitude+2*a*Ga*n,longitude:s.longitude-2*i*Ga}})()),{temperedX:i,temperedY:a}}onUp(t){t.preventDefault(),"lastTemperedX"in t.detail.attachedInfo&&"lastTemperedY"in t.detail.attachedInfo&&"timestamp"in t.detail.attachedInfo&&t.timeStamp-t.detail.attachedInfo.timestamp<60&&new mw(t.timeStamp,t.detail.attachedInfo.lastTemperedX,t.detail.attachedInfo.lastTemperedY,this.onMovementBound)}};async function Qm(t,e,n=!1){const r=new(await Kt()).ThreeSpherical(e.distance,(90-(n?-1:1)*e.latitude)/Ga,((n?180:0)+e.longitude)/Ga);r.makeSafe(),t.position.setFromSpherical(r),t.lookAt(0,0,0)}var Nf=0,yw=2,qm=!1;function vw(){return Nf<yw?(Nf++,!1):(qm=!0,!0)}function I6(){return qm}var Xt,Ym,hl,ts,ns,Wu,xl,pl,ml,Gu,gl,yl,Mi,zi,vl,Nh,Vu=(Nh=class extends Tt{constructor(e,n,r){super();C(this,Xt);k(this,"scene",null);k(this,"stats",null);k(this,"rendererIsShared",vw());k(this,"loadingElement",null);C(this,hl,new Jl);C(this,ts,0);C(this,ns,0);C(this,xl,null);C(this,pl,null);C(this,ml,null);C(this,gl,null);C(this,yl,null);C(this,Mi,[]);C(this,zi,null);C(this,vl,new Qi(this.render.bind(this)));this.model=e,this.options=r,this.scene=n??null,this.loadingElement=this.addElement(document.createElement("div")),this.loadingElement.classList.add("loading")}async connectedCallback(){this.addCSS(Hm),this.addElement((await this.canvasInfo()).canvas),H(this,Xt,Wu).call(this),new ResizeObserver(H(this,Xt,Wu).bind(this)).observe(this.contentWrapper),this.orbitControls(),H(this,Xt,Ym).call(this),this.scheduleRender()}async clearCanvas(){if(this.rendererIsShared){const e=await this.canvasInfo();e.context.clearRect(0,0,e.canvas.width,e.canvas.height)}else{const n=(await this.renderer()).getContext();n.clear(n.COLOR_BUFFER_BIT)}}async renderer(){if(this.rendererIsShared)throw new Error("renderer expected to be shared.");return x(this,xl)??N(this,xl,rd())}async canvasInfo(){return x(this,pl)??N(this,pl,(async()=>{var r;let e;if(this.rendererIsShared)e=this.addElement(document.createElement("canvas"));else{const i=await this.renderer();e=this.addElement(i.domElement)}(r=this.loadingElement)==null||r.remove();const n=e.getContext("2d");return{canvas:e,context:n}})())}async camera(){return x(this,gl)??N(this,gl,(async()=>{var n;const e=new(await Kt()).ThreePerspectiveCamera(20,1,.1,20);return e.position.copy(new(await Kt()).ThreeVector3(2,4,4).multiplyScalar((n=this.options)!=null&&n.backView?-1:1)),e.lookAt(0,0,0),e})())}async orbitControls(){return x(this,yl)??N(this,yl,(async()=>{var n;const e=new gw(this.model,!!((n=this.options)!=null&&n.backView),(await this.canvasInfo()).canvas,await H(this,Xt,Gu).call(this));return this.model&&this.addListener(this.model.twistySceneModel.orbitCoordinates,async r=>{var a;const i=await this.camera();Qm(i,r,(a=this.options)==null?void 0:a.backView),this.scheduleRender()}),e})())}addListener(e,n){e.addFreshListener(n),x(this,Mi).push(()=>{e.removeFreshListener(n)})}disconnect(){for(const e of x(this,Mi))e();N(this,Mi,[])}experimentalNextRenderFinishedCallback(e){N(this,zi,e)}async render(){var i,a,s;if(!this.scene)throw new Error("Attempted to render without a scene");(i=this.stats)==null||i.begin();const[e,n,r]=await Promise.all([this.scene.scene(),this.camera(),this.canvasInfo()]);this.rendererIsShared?dw(x(this,ts),x(this,ns),r.canvas,e,n):(await this.renderer()).render(e,n),(a=this.stats)==null||a.end(),(s=x(this,zi))==null||s.call(this),N(this,zi,null)}scheduleRender(){x(this,vl).requestAnimFrame()}},Xt=new WeakSet,Ym=async function(){(await H(this,Xt,Gu).call(this)).addEventListener("press",async n=>{await this.model.twistySceneModel.movePressInput.get()==="basic"&&this.dispatchEvent(new CustomEvent("press",{detail:{pressInfo:n.detail,cameraPromise:this.camera()}}))})},hl=new WeakMap,ts=new WeakMap,ns=new WeakMap,Wu=async function(){const e=await x(this,hl).queue(this.camera()),n=this.contentWrapper.clientWidth,r=this.contentWrapper.clientHeight;N(this,ts,n),N(this,ns,r);const i=0;let a=0,s=0;if(r>n&&(s=r-n,a=-Math.floor(.5*s)),e.aspect=n/r,e.setViewOffset(n,r-s,i,a,n,r),e.updateProjectionMatrix(),this.clearCanvas(),this.rendererIsShared){const o=await this.canvasInfo();o.canvas.width=n*ju(),o.canvas.height=r*ju(),o.canvas.style.width=`${n.toString()}px`,o.canvas.style.height=`${r.toString()}px`}else(await this.renderer()).setSize(n,r,!0);this.scheduleRender()},xl=new WeakMap,pl=new WeakMap,ml=new WeakMap,Gu=async function(){return x(this,ml)??N(this,ml,(async()=>{var n;const e=new uw((await this.canvasInfo()).canvas);return(n=this.model)==null||n.twistySceneModel.dragInput.addFreshListener(r=>{let i=!1;switch(r){case"auto":{e.start(),i=!0;break}case"none":{e.stop();break}}this.contentWrapper.classList.toggle("drag-input-enabled",i)}),e})())},gl=new WeakMap,yl=new WeakMap,Mi=new WeakMap,zi=new WeakMap,vl=new WeakMap,Nh);Ue.define("twisty-3d-vantage",Vu);function ww(t){return t.endsWith("v")||["x","y","z"].includes(t)?"Rotation":t.startsWith("2")||["M","E","S"].includes(t)?"Inner":"Outer"}var aa;function bw(){if(aa)return aa;aa={};const t=[...Object.keys(qo.moves),...Object.keys(qo.derivedMoves)];for(const e of t)aa[e]=ww(e);return aa}var Km={OBTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:1,amountFactor:0,zeroAmount:0},Inner:{constantFactor:2,amountFactor:0,zeroAmount:0}},RBTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:1,amountFactor:0,zeroAmount:0},Inner:{constantFactor:1,amountFactor:0,zeroAmount:0}},OBQTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:0,amountFactor:1,zeroAmount:0},Inner:{constantFactor:0,amountFactor:2,zeroAmount:0}},RBQTM:{Rotation:{constantFactor:0,amountFactor:0,zeroAmount:0},Outer:{constantFactor:0,amountFactor:1,zeroAmount:0},Inner:{constantFactor:0,amountFactor:1,zeroAmount:0}},ETM:{Rotation:{constantFactor:1,amountFactor:0,zeroAmount:1},Outer:{constantFactor:1,amountFactor:0,zeroAmount:1},Inner:{constantFactor:1,amountFactor:0,zeroAmount:1}}};function Sw(t,e){const n=Km[t];if(!n)throw new Error(`Invalid metric for 3x3x3: ${t}`);const r=bw(),i=e.quantum.toString();if(!(i in r))throw new Error(`Invalid move for 3x3x3 ${t}: ${i}`);const a=r[i],{constantFactor:s,amountFactor:o,zeroAmount:l}=n[a];return e.amount===0?l:s+o*Math.abs(e.amount)}var ks=class extends Ur{constructor(t){super(),this.metric=t}traverseAlg(t){let e=0;for(const n of t.childAlgNodes())e+=this.traverseAlgNode(n);return e}traverseGrouping(t){const e=t.alg;return this.traverseAlg(e)*Math.abs(t.amount)}traverseMove(t){return this.metric(t)}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 0}traverseNewline(t){return 0}traverseLineComment(t){return 0}},kw=class extends Ur{traverseAlg(t){let e=0;for(const n of t.childAlgNodes())e+=this.traverseAlgNode(n);return e}traverseGrouping(t){const e=t.alg;return this.traverseAlg(e)*Math.abs(t.amount)}traverseMove(t){return 1}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 1}traverseNewline(t){return 1}traverseLineComment(t){return 1}};function Xm(t){return"A"<=t&&t<="Z"}function Zm(t){const e=t.family;return Xm(e[0])&&e[e.length-1]==="v"||e==="x"||e==="y"||e==="z"||e==="T"?0:1}function Ew(t){return 1}function Jm(t){const e=t.family;return Xm(e[0])&&e[e.length-1]==="v"||e==="x"||e==="y"||e==="z"||e==="T"?0:1}function Mw(t){return Math.abs(t.amount)*Jm(t)}var _6=mt(ks,[Zm]),zw=mt(ks,[Ew]),Tw=mt(ks,[Mw]),Dw=mt(ks,[Jm]),Cw=mt(kw,[Zm]);function Lw(t,e,n){if(t.id==="3x3x3"){if(e in Km)return mt(ks,[r=>Sw(e,r)])(n)}else switch(e){case"ETM":return zw(n);case"RBTM":{if(t.pg)return Dw(n);break}case"RBQTM":{if(t.pg)return Tw(n);break}}throw new Error("Unsupported puzzle or metric.")}var Rw=class extends Ur{traverseAlg(t){let e=0;for(const n of t.childAlgNodes())e+=this.traverseAlgNode(n);return e}traverseGrouping(t){return this.traverseAlg(t.alg)*Math.abs(t.amount)}traverseMove(t){return 1}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 1}traverseNewline(t){return 0}traverseLineComment(t){return 0}},Aw=mt(Rw),e1={id:"2x2x2",fullName:"222 Cube",kpuzzle:re(async()=>{const t=new bn((await Z(async()=>{const{cube2x2x2JSON:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2JSON:e}},[])).cube2x2x2JSON);return t.definition.experimentalIsPatternSolved=Zv,t}),svg:async()=>(await Z(async()=>{const{cube2x2x2SVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2SVG:t}},[])).cube2x2x2SVG,llSVG:re(async()=>(await Z(async()=>{const{cube2x2x2LLSVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{cube2x2x2LLSVG:t}},[])).cube2x2x2LLSVG),pg:re(async()=>nd("2x2x2")),stickeringMask:t=>Va(e1,t),stickerings:()=>Zl("2x2x2",{use3x3x3Fallbacks:!0})},t1={KeyI:new w("R"),KeyK:new w("R'"),KeyW:new w("B"),KeyO:new w("B'"),KeyS:new w("D"),KeyL:new w("D'"),KeyD:new w("L"),KeyE:new w("L'"),KeyJ:new w("U"),KeyF:new w("U'"),KeyH:new w("F"),KeyG:new w("F'"),KeyC:new w("l"),KeyR:new w("l'"),KeyU:new w("r"),KeyM:new w("r'"),KeyX:new w("d"),Comma:new w("d'"),KeyT:new w("x"),KeyY:new w("x"),KeyV:new w("x'"),KeyN:new w("x'"),Semicolon:new w("y"),KeyA:new w("y'"),KeyP:new w("z"),KeyQ:new w("z'"),KeyZ:new w("M'"),KeyB:new w("M"),Period:new w("M'"),Backquote:new Qe};function ke(t,e,n,r){const i=[];for(const a of t){const s=w.fromString(a),{family:o,amount:l}=s;if(![-1,1].includes(l))throw new Error("Invalid config move");i.push({family:o,direction:l,type:e,from:n,to:r})}return i}var Or={"x axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ke(["R"],0,0,3),...ke(["L'"],1,0,3),...ke(["r","Rw"],2,0,2),...ke(["l'","Lw'"],3,0,2),...ke(["M'"],4,1,2),...ke(["x","Uv","Dv'"],5,0,3)]},"y axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ke(["U"],0,0,3),...ke(["D'"],1,0,3),...ke(["u","Uw"],2,0,2),...ke(["d'","Dw'"],3,0,2),...ke(["E'"],4,1,2),...ke(["y","Uv","Dv'"],5,0,3)]},"z axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...ke(["F"],0,0,3),...ke(["B'"],1,0,3),...ke(["f","Fw"],2,0,3),...ke(["b'","Bw'"],3,0,3),...ke(["S"],4,1,2),...ke(["z","Fv","Bv'"],5,0,3)]}},Ha={};for(const[t,e]of Object.entries(Or))for(const n of e.moveSourceInfos)Ha[n.family]={axis:t,moveSourceInfo:n};var n1={},Ph;for(const t of Object.keys(Or)){const e={};n1[t]=e;for(const n of Or[t].moveSourceInfos)(e[Ph=n.type]??(e[Ph]=[])).push(n)}var r1={};for(const t of Object.keys(Or)){const e=new Map;r1[t]=e;for(const n of Or[t].moveSourceInfos)e.get(n.from)||e.set(n.from,n)}function Pf(t,e){var r;const n=(r=n1[t][e])==null?void 0:r[0];if(!n)throw new Error(`Could not find a reference move (axis: ${t}, move source type: ${e})`);return n}var Iw=(t,e)=>Ha[t.family].axis===Ha[e.family].axis;function _w(t,e,n,r){if(e+1===n){const d=r1[t].get(e);if(d)return new w(new fn(d.family),r*d.direction)}const i=Or[t],{sliceDiameter:a}=i;if(e===0&&n===a){const d=Pf(t,5);return new w(new fn(d.family),r*d.direction)}const s=e+n>a;s&&([e,n]=[a-n,a-e]);let o=e+1,l=n;const c=o===l;c&&(l=null),o===1&&(o=null),c&&o===1&&(l=null),!c&&l===2&&(l=null);const f=Pf(t,c?s?1:0:s?3:2);return new w(new fn(f.family,l,o),r*f.direction)}function Nw(t,e=!0){if(t.length===0)return[];const n=Ha[t[0].family].axis,r=Or[n],{sliceDiameter:i}=r,a=new Map;let s=null;function o(d,h){let p=(a.get(d)??0)+h;e&&(p=p%4+5%4-1),p===0?a.delete(d):a.set(d,p)}let l=0;for(const d of Array.from(t).reverse()){l++;const{moveSourceInfo:h}=Ha[d.family],p=d.amount*h.direction;switch(h.type){case 0:{const y=(d.innerLayer??1)-1;o(y,p),o(y+1,-p);break}case 1:{const y=i-(d.innerLayer??1);o(y,p),o(y+1,-p);break}case 2:{o((d.outerLayer??1)-1,p),o(d.innerLayer??2,-p);break}case 3:{o(i-(d.innerLayer??2),p),o(i-((d.outerLayer??1)-1),-p);break}case 4:{o(h.from,p),o(h.to,-p);break}case 5:{o(0,p),o(i,-p);break}}[0,2].includes(a.size)&&(s={suffixLength:l,sliceDeltas:new Map(a)})}if(a.size===0)return[];if(!s)return t;let[c,u]=s.sliceDeltas.keys();c>u&&([c,u]=[u,c]);const f=s.sliceDeltas.get(c);return[...t.slice(0,-s.suffixLength),...f!==0?[_w(n,c,u,f)]:[]]}var Pw={quantumMoveOrder:()=>4,axis:{areQuantumMovesSameAxis:Iw,simplifySameAxisMoves:Nw}},qi={id:"3x3x3",fullName:"333 Cube",inventedBy:["Ern Rubik"],inventionYear:1974,kpuzzle:re(async()=>Nm),svg:re(async()=>(await Z(async()=>{const{cube3x3x3SVG:t}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3SVG:t}},[])).cube3x3x3SVG),llSVG:re(async()=>(await Z(async()=>{const{cube3x3x3LLSVG:t}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3LLSVG:t}},[])).cube3x3x3LLSVG),llFaceSVG:re(async()=>(await Z(async()=>{const{cube3x3x3LLFaceSVG:t}=await import("./puzzles-dynamic-3x3x3-JWIWLLZA.fR7zXD4k.js");return{cube3x3x3LLFaceSVG:t}},[])).cube3x3x3LLFaceSVG),pg:re(async()=>nd("3x3x3")),stickeringMask:t=>Va(qi,t),stickerings:()=>Zl("3x3x3"),puzzleSpecificSimplifyOptions:Pw,keyMapping:async()=>t1},Fw={...t1,KeyZ:new w("m'"),KeyB:new w("m"),Period:new w("m'")},id=new fa({id:"4x4x4",fullName:"444 Cube"});id.llSVG=re(async()=>(await Z(async()=>{const{cube4x4x4LLSVG:t}=await import("./puzzles-dynamic-4x4x4-REUXFQJ4.BNnOy5ao.js");return{cube4x4x4LLSVG:t}},[])).cube4x4x4LLSVG);id.keyMapping=async()=>Fw;async function i1(t,e){const n=await t.kpuzzle(),r=new Cm(n),i=new Lm(n),a=()=>i.and([i.move("U"),i.not(i.or(i.moves(["F","BL","BR"])))]),s=()=>i.and([i.move("U"),i.not(i.move("F"))]),o=()=>i.or([s(),i.and([i.move("F"),i.not(i.or(i.moves(["U","BL","BR"])))])]),l=()=>i.not(i.or([i.and([i.move("U"),i.move("F")]),i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])])),c=()=>i.not(i.or([i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])]));switch(e){case"full":break;case"experimental-fto-fc":{r.set(i.not(a()),"Ignored");break}case"experimental-fto-f2t":{r.set(i.not(s()),"Ignored"),r.set(a(),"Dim");break}case"experimental-fto-sc":{r.set(i.not(o()),"Ignored"),r.set(s(),"Dim");break}case"experimental-fto-l2c":{r.set(i.not(l()),"Ignored"),r.set(o(),"Dim");break}case"experimental-fto-lbt":{r.set(i.not(c()),"Ignored"),r.set(l(),"Dim");break}case"experimental-fto-l3t":{r.set(c(),"Dim");break}default:console.warn(`Unsupported stickering for ${t.id}: ${e}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r.toStickeringMask()}async function Ow(){return["full","experimental-fto-fc","experimental-fto-f2t","experimental-fto-sc","experimental-fto-l2c","experimental-fto-lbt","experimental-fto-l3t"]}var a1={KeyI:new w("R"),KeyK:new w("R'"),KeyW:new w("B"),KeyO:new w("B'"),KeyS:new w("D"),KeyL:new w("D'"),KeyD:new w("L"),KeyE:new w("L'"),KeyJ:new w("U"),KeyF:new w("U'"),KeyH:new w("F"),KeyG:new w("F'"),KeyN:new w("Rv'"),KeyC:new w("l"),KeyR:new w("l'"),KeyU:new w("r"),KeyM:new w("r'"),KeyX:new w("d"),Comma:new w("d'"),KeyT:new w("Lv'"),KeyY:new w("Rv"),KeyV:new w("Lv"),Semicolon:new w("Uv"),KeyA:new w("Uv'"),KeyP:new w("BR'"),KeyQ:new w("BL"),KeyZ:new w("BL'"),KeyB:new w("T"),Period:new w("BR"),Backquote:new Qe},Bw=class extends Kn{constructor(){super({pgID:"skewb diamond",id:"baby_fto",fullName:"Baby FTO",inventedBy:["Uwe Mffert"],setOrientationModTo1ForPiecesOfOrbits:["CENTERS"]});k(this,"svg",re(async()=>(await Z(async()=>{const{babyFTOSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{babyFTOSVG:e}},[])).babyFTOSVG));k(this,"keyMapping",async()=>a1)}stickeringMask(e){return i1(this,e)}},jw=new Bw,Uw={id:"clock",fullName:"Clock",inventedBy:["Christopher C. Wiggs","Christopher J. Taylor"],inventionYear:1988,kpuzzle:re(async()=>new bn((await Z(async()=>{const{clockJSON:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{clockJSON:t}},[])).clockJSON)),svg:re(async()=>(await Z(async()=>{const{clockSVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{clockSVG:t}},[])).clockSVG)},Vw=class extends Kn{constructor(){super({pgID:"FTO",id:"fto",fullName:"Face-Turning Octahedron",inventedBy:["Karl Rohrbach","David Pitcher"],inventionYear:1983});k(this,"stickerings",Ow);k(this,"svg",re(async()=>(await Z(async()=>{const{ftoSVG:e}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{ftoSVG:e}},[])).ftoSVG));k(this,"keyMapping",async()=>a1)}stickeringMask(e){return i1(this,e)}},Ww=new Vw,Ff="d f 0.56",Gw={id:"kilominx",fullName:"Kilominx",kpuzzle:re(()=>_m(Ff,{includeCenterOrbits:!1,includeEdgeOrbits:!1})),pg:()=>Yo(Ff,{includeCenterOrbits:!1,includeEdgeOrbits:!1}),svg:re(async()=>(await Z(async()=>{const{kilominxSVG:t}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{kilominxSVG:t}},[])).kilominxSVG)},$w={id:"loopover",fullName:"Loopover",inventedBy:["Cary Huang"],inventionYear:2018,kpuzzle:re(async()=>new bn((await Z(async()=>{const{loopoverJSON:t}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{loopoverJSON:t}},[])).loopoverJSON)),svg:async()=>(await Z(async()=>{const{loopoverSVG:t}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{loopoverSVG:t}},[])).loopoverSVG};async function Hw(t,e){return(await s1()).includes(e)?Va(t,e):(console.warn(`Unsupported stickering for ${t.id}: ${e}. Setting all pieces to dim.`),Va(t,"full"))}var Qw=td(()=>Zl("megaminx"));function s1(){return Qw}var qw={KeyI:new w("R"),KeyK:new w("R'"),KeyW:new w("B"),KeyO:new w("B'"),KeyS:new w("FR"),KeyL:new w("FR'"),KeyD:new w("L"),KeyE:new w("L'"),KeyJ:new w("U"),KeyF:new w("U'"),KeyH:new w("F"),KeyG:new w("F'"),KeyC:new w("Lw"),KeyR:new w("Lw'"),KeyU:new w("Rw"),KeyM:new w("Rw'"),KeyX:new w("d"),Comma:new w("d'"),KeyT:new w("Rv"),KeyY:new w("Rv"),KeyV:new w("Rv'"),KeyN:new w("Rv'"),Semicolon:new w("y"),KeyA:new w("y'"),KeyP:new w("z"),KeyQ:new w("z'"),KeyZ:new w("2L'"),KeyB:new w("2R"),Period:new w("2R'"),Backquote:new Qe},Yw=class extends Kn{constructor(){super({id:"megaminx",fullName:"Megaminx",inventionYear:1981});k(this,"stickerings",s1);k(this,"llSVG",re(async()=>(await Z(async()=>{const{megaminxLLSVG:e}=await import("./puzzles-dynamic-megaminx-2LVHIDL4.Cm8jQJ-N.js");return{megaminxLLSVG:e}},[])).megaminxLLSVG));k(this,"keyMapping",async()=>qw)}stickeringMask(e){return Hw(this,e)}},Kw=new Yw,Xw={id:"melindas2x2x2x2",fullName:"Melinda's 2222",inventedBy:["Melinda Green"],kpuzzle:re(async()=>new bn((await Z(async()=>{const{melindas2x2x2x2OrbitJSON:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{melindas2x2x2x2OrbitJSON:t}},[])).melindas2x2x2x2OrbitJSON)),svg:re(async()=>(await Z(async()=>{const{melindas2x2x2x2OrbitSVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{melindas2x2x2x2OrbitSVG:t}},[])).melindas2x2x2x2OrbitSVG)},Zw=class extends Kn{constructor(){super({id:"pyraminx",fullName:"Pyraminx",inventedBy:["Uwe Meffert"]});k(this,"svg",re(async()=>(await Z(async()=>{const{pyraminxSVG:e}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{pyraminxSVG:e}},[])).pyraminxSVG))}},Jw=new Zw,e3={id:"redi_cube",fullName:"Redi Cube",inventedBy:["Oskar van Deventer"],inventionYear:2009,kpuzzle:re(async()=>new bn((await Z(async()=>{const{rediCubeJSON:t}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{rediCubeJSON:t}},[])).rediCubeJSON)),svg:async()=>(await Z(async()=>{const{rediCubeSVG:t}=await import("./puzzles-dynamic-unofficial-P3TW433I.cOWAxRTA.js");return{rediCubeSVG:t}},[])).rediCubeSVG},t3={id:"square1",fullName:"Square-1",inventedBy:["Karel Hrel","Vojtech Kopsk"],inventionYear:1990,kpuzzle:re(async()=>new bn((await Z(async()=>{const{sq1HyperOrbitJSON:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{sq1HyperOrbitJSON:t}},[])).sq1HyperOrbitJSON)),svg:re(async()=>(await Z(async()=>{const{sq1HyperOrbitSVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{sq1HyperOrbitSVG:t}},[])).sq1HyperOrbitSVG)},n3={id:"tri_quad",fullName:"TriQuad",inventedBy:["Bram Cohen","Carl Hoff"],inventionYear:2018,kpuzzle:re(async()=>new bn((await Z(async()=>{const{triQuadJSON:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{triQuadJSON:t}},[])).triQuadJSON)),svg:re(async()=>(await Z(async()=>{const{triQuadSVG:t}=await import("./puzzles-dynamic-side-events-AHFPWEBD.YHRyPmjr.js");return{triQuadSVG:t}},[])).triQuadSVG)},ad={"3x3x3":qi,"2x2x2":e1,"4x4x4":id,"5x5x5":new fa({id:"5x5x5",fullName:"555 Cube"}),"6x6x6":new fa({id:"6x6x6",fullName:"666 Cube"}),"7x7x7":new fa({id:"7x7x7",fullName:"777 Cube"}),"40x40x40":new fa({id:"40x40x40",fullName:"404040 Cube"}),clock:Uw,megaminx:Kw,pyraminx:Jw,skewb:new Kn({id:"skewb",fullName:"Skewb",inventedBy:["Tony Durham"]}),square1:t3,fto:Ww,gigaminx:new Kn({id:"gigaminx",fullName:"Gigaminx",inventedBy:["Tyler Fox"],inventionYear:2006}),master_tetraminx:new Kn({pgID:"master tetraminx",id:"master_tetraminx",fullName:"Master Tetraminx",inventedBy:["Katsuhiko Okamoto"],inventionYear:2002}),kilominx:Gw,redi_cube:e3,melindas2x2x2x2:Xw,loopover:$w,tri_quad:n3,baby_fto:jw};function $u(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Of(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Hu(t,e,n){return Em(t,n-e,e)}var r3=class{constructor(t){k(this,"catchingUp",!1);k(this,"pendingFrame",!1);k(this,"tempoScale");k(this,"scheduler",new Qi(this.animFrame.bind(this)));k(this,"catchUpMs",500);k(this,"lastTimestamp",0);this.model=t,t.tempoScale.addFreshListener(e=>{this.tempoScale=e})}start(){this.catchingUp||(this.lastTimestamp=performance.now()),this.catchingUp=!0,this.pendingFrame=!0,this.scheduler.requestAnimFrame()}stop(){this.catchingUp=!1,this.scheduler.cancelAnimFrame()}animFrame(t){this.scheduler.requestAnimFrame();const e=this.tempoScale*(t-this.lastTimestamp)/this.catchUpMs;this.lastTimestamp=t,this.model.catchUpMove.set((async()=>{const n=await this.model.catchUpMove.get();if(n.move===null)return n;const r=n.amount+e;return r>=1?(this.pendingFrame=!0,this.stop(),this.model.timestampRequest.set("end"),{move:null,amount:0}):(this.pendingFrame=!1,{move:n.move,amount:r})})())}},rs,Qu,wl,Fh,i3=(Fh=class{constructor(t,e){C(this,rs);k(this,"playing",!1);k(this,"direction",1);k(this,"catchUpHelper");k(this,"model");k(this,"lastDatestamp",0);k(this,"lastTimestampPromise");k(this,"scheduler",new Qi(this.animFrame.bind(this)));C(this,wl,new Jl);this.delegate=e,this.model=t,this.lastTimestampPromise=H(this,rs,Qu).call(this),this.model.playingInfo.addFreshListener(this.onPlayingProp.bind(this)),this.catchUpHelper=new r3(this.model),this.model.catchUpMove.addFreshListener(this.onCatchUpMoveProp.bind(this))}async onPlayingProp(t){t.playing!==this.playing&&(t.playing?this.play(t):this.pause())}async onCatchUpMoveProp(t){const e=t.move!==null;e!==this.catchUpHelper.catchingUp&&(e?this.catchUpHelper.start():this.catchUpHelper.stop()),this.scheduler.requestAnimFrame()}jumpToStart(t){this.model.timestampRequest.set("start"),this.pause(),t!=null&&t.flash&&this.delegate.flash()}jumpToEnd(t){this.model.timestampRequest.set("end"),this.pause(),t!=null&&t.flash&&this.delegate.flash()}playPause(){this.playing?this.pause():this.play()}async play(t){const e=(t==null?void 0:t.direction)??1,n=await this.model.coarseTimelineInfo.get();((t==null?void 0:t.autoSkipToOtherEndIfStartingAtBoundary)??!0)&&(e===1&&n.atEnd&&(this.model.timestampRequest.set("start"),this.delegate.flash()),e===-1&&n.atStart&&(this.model.timestampRequest.set("end"),this.delegate.flash())),this.model.playingInfo.set({playing:!0,direction:e,untilBoundary:(t==null?void 0:t.untilBoundary)??"entire-timeline",loop:(t==null?void 0:t.loop)??!1}),this.playing=!0,this.lastDatestamp=performance.now(),this.lastTimestampPromise=H(this,rs,Qu).call(this),this.scheduler.requestAnimFrame()}pause(){this.playing=!1,this.scheduler.cancelAnimFrame(),this.model.playingInfo.set({playing:!1,untilBoundary:"entire-timeline"})}async animFrame(t){this.playing&&this.scheduler.requestAnimFrame();const e=this.lastDatestamp,n=await x(this,wl).queue(Promise.all([this.model.playingInfo.get(),this.lastTimestampPromise,this.model.timeRange.get(),this.model.tempoScale.get(),this.model.currentMoveInfo.get()])),[r,i,a,s,o]=n;if(!r.playing){this.playing=!1;return}let l=o.earliestEnd;(o.currentMoves.length===0||r.untilBoundary==="entire-timeline")&&(l=a.end);let c=o.latestStart;(o.currentMoves.length===0||r.untilBoundary==="entire-timeline")&&(c=a.start);let u=(t-e)*this.direction*s;u=Math.max(u,1),u*=r.direction;let f=i+u,d=null;f>=l?r.loop?f=Hu(f,a.start,a.end):(f===a.end?d="end":f=l,this.playing=!1,this.model.playingInfo.set({playing:!1})):f<=c&&(r.loop?f=Hu(f,a.start,a.end):(f===a.start?d="start":f=c,this.playing=!1,this.model.playingInfo.set({playing:!1}))),this.lastDatestamp=t,this.lastTimestampPromise=Promise.resolve(f),this.model.timestampRequest.set(d??f)}},rs=new WeakSet,Qu=async function(){return(await this.model.detailedTimelineInfo.get()).timestamp},wl=new WeakMap,Fh),a3=class{constructor(t,e){k(this,"animationController");this.model=t,this.animationController=new i3(t,e)}jumpToStart(t){this.animationController.jumpToStart(t)}jumpToEnd(t){this.animationController.jumpToEnd(t)}togglePlay(t){typeof t>"u"&&this.animationController.playPause(),t?this.animationController.play():this.animationController.pause()}async visitTwizzleLink(){const t=document.createElement("a");t.href=await this.model.twizzleLink(),t.target="_blank",t.click()}},s3={"bottom-row":!0,none:!0},o3=class extends ee{getDefaultValue(){return"auto"}},sd=new ht;sd.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
}

.wrapper > * {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.wrapper.back-view-side-by-side {
  grid-template-columns: 1fr 1fr;
}

.wrapper.back-view-top-right {
  grid-template-columns: 3fr 1fr;
  grid-template-rows: 1fr 3fr;
}

.wrapper.back-view-top-right > :nth-child(1) {
  grid-row: 1 / 3;
  grid-column: 1 / 3;
}

.wrapper.back-view-top-right > :nth-child(2) {
  grid-row: 1 / 2;
  grid-column: 2 / 3;
}
`);var Qs="http://www.w3.org/2000/svg",Bf="data-copy-id",jf=0;function l3(){return jf+=1,`svg${jf.toString()}`}var c3={dim:{white:"#dddddd",orange:"#884400",limegreen:"#008800",red:"#660000","rgb(34, 102, 255)":"#000088",yellow:"#888800","rgb(102, 0, 153)":"rgb(50, 0, 76)",purple:"#3f003f"},oriented:"#44ddcc",ignored:"#555555",invisible:"#00000000"},u3=class{constructor(t,e,n,r=!1){k(this,"wrapperElement");k(this,"svgElement");k(this,"gradientDefs");k(this,"originalColors",{});k(this,"gradients",{});k(this,"svgID");if(this.kpuzzle=t,this.showUnknownOrientations=r,!e)throw new Error(`No SVG definition for puzzle type: ${t.name()}`);this.svgID=l3(),this.wrapperElement=document.createElement("div"),this.wrapperElement.classList.add("svg-wrapper"),this.wrapperElement.innerHTML=e;const i=this.wrapperElement.querySelector("svg");if(!i)throw new Error("Could not get SVG element");if(this.svgElement=i,Qs!==i.namespaceURI)throw new Error("Unexpected XML namespace");i.style.maxWidth="100%",i.style.maxHeight="100%",this.gradientDefs=document.createElementNS(Qs,"defs"),i.insertBefore(this.gradientDefs,i.firstChild);for(const a of t.definition.orbits)for(let s=0;s<a.numPieces;s++)for(let o=0;o<a.numOrientations;o++){const l=this.elementID(a.orbitName,s,o),c=this.elementByID(l);let u=c==null?void 0:c.style.fill;n?(()=>{const f=n.orbits;if(!f)return;const d=f[a.orbitName];if(!d)return;const h=d.pieces[s];if(!h)return;const p=h.facelets[o];if(!p)return;const y=typeof p=="string"?p:p==null?void 0:p.mask,L=c3[y];typeof L=="string"?u=L:L&&(u=L[u])})():u=c==null?void 0:c.style.fill,this.originalColors[l]=u,this.gradients[l]=this.newGradient(l,u),this.gradientDefs.appendChild(this.gradients[l]),c==null||c.setAttribute("style",`fill: url(#grad-${this.svgID}-${l})`)}for(const a of Array.from(i.querySelectorAll(`[${Bf}]`))){const s=a.getAttribute(Bf);a.setAttribute("style",`fill: url(#grad-${this.svgID}-${s})`)}this.showUnknownOrientations&&this.drawPattern(this.kpuzzle.defaultPattern())}drawPattern(t,e,n){this.draw(t,e,n)}draw(t,e,n){var i;const r=e==null?void 0:e.experimentalToTransformation();if(!t)throw new Error("Distinguishable pieces are not handled for SVG yet!");for(const a of t.kpuzzle.definition.orbits){const s=t.patternData[a.orbitName],o=r?r.transformationData[a.orbitName]:null;for(let l=0;l<a.numPieces;l++)for(let c=0;c<a.numOrientations;c++){const u=this.elementID(a.orbitName,l,c),f=this.elementID(a.orbitName,s.pieces[l],(a.numOrientations-s.orientation[l]+c)%a.numOrientations);let d=!1;if(o){const h=this.elementID(a.orbitName,o.permutation[l],(a.numOrientations-o.orientationDelta[l]+c)%a.numOrientations);f===h&&(d=!0),n=n||0;const p=100*(1-n*n*(2-n*n));this.gradients[u].children[0].setAttribute("stop-color",this.originalColors[f]),this.gradients[u].children[0].setAttribute("offset",`${Math.max(p-5,0)}%`),this.gradients[u].children[1].setAttribute("offset",`${Math.max(p-5,0)}%`),this.gradients[u].children[2].setAttribute("offset",`${p}%`),this.gradients[u].children[3].setAttribute("offset",`${p}%`),this.gradients[u].children[3].setAttribute("stop-color",this.originalColors[h])}else d=!0;d&&(this.showUnknownOrientations&&((i=s.orientationMod)==null?void 0:i[l])===1?(this.gradients[u].children[0].setAttribute("stop-color","#000"),this.gradients[u].children[0].setAttribute("offset","5%"),this.gradients[u].children[1].setAttribute("offset","5%"),this.gradients[u].children[2].setAttribute("offset","20%"),this.gradients[u].children[3].setAttribute("offset","20%"),this.gradients[u].children[3].setAttribute("stop-color",this.originalColors[f])):(this.gradients[u].children[0].setAttribute("stop-color",this.originalColors[f]),this.gradients[u].children[0].setAttribute("offset","100%"),this.gradients[u].children[1].setAttribute("offset","100%"),this.gradients[u].children[2].setAttribute("offset","100%"),this.gradients[u].children[3].setAttribute("offset","100%")))}}}newGradient(t,e){const n=document.createElementNS(Qs,"radialGradient");n.setAttribute("id",`grad-${this.svgID}-${t}`),n.setAttribute("r","70.7107%");const r=[{offset:0,color:e},{offset:0,color:"black"},{offset:0,color:"black"},{offset:0,color:e}];for(const i of r){const a=document.createElementNS(Qs,"stop");a.setAttribute("offset",`${i.offset}%`),a.setAttribute("stop-color",i.color),a.setAttribute("stop-opacity","1"),n.appendChild(a)}return n}elementID(t,e,n){return`${t}-l${e}-o${n}`}elementByID(t){return this.wrapperElement.querySelector(`#${t}`)}},o1=new ht;o1.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
}

.svg-wrapper,
twisty-2d-svg,
svg {
  width: 100%;
  height: 100%;
  display: grid;
  min-height: 0;
}

svg {
  animation: fade-in 0.25s ease-in;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
`);var Ti,Di,Oh,l1=(Oh=class extends Tt{constructor(e,n,r,i,a){var s;super();k(this,"svgWrapper");k(this,"scheduler",new Qi(this.render.bind(this)));C(this,Ti,null);C(this,Di,new Ss);this.model=e,this.kpuzzle=n,this.svgSource=r,this.options=i,this.puzzleLoader=a,this.addCSS(o1),this.resetSVG(),x(this,Di).addListener(this.model.puzzleID,o=>{(a==null?void 0:a.id)!==o&&this.disconnect()}),x(this,Di).addListener(this.model.legacyPosition,this.onPositionChange.bind(this)),(s=this.options)!=null&&s.experimentalStickeringMask&&this.experimentalSetStickeringMask(this.options.experimentalStickeringMask)}disconnect(){x(this,Di).disconnect()}onPositionChange(e){var n;try{if(e.movesInProgress.length>0){const r=e.movesInProgress[0].move;let i=r;e.movesInProgress[0].direction===-1&&(i=r.invert());const a=e.pattern.applyMove(i);this.svgWrapper.draw(e.pattern,a,e.movesInProgress[0].fraction)}else this.svgWrapper.draw(e.pattern),N(this,Ti,e)}catch(r){console.warn("Bad position (this doesn't necessarily mean something is wrong). Pre-emptively disconnecting:",(n=this.puzzleLoader)==null?void 0:n.id,r),this.disconnect()}}scheduleRender(){this.scheduler.requestAnimFrame()}experimentalSetStickeringMask(e){this.resetSVG(e)}resetSVG(e){this.svgWrapper&&this.removeElement(this.svgWrapper.wrapperElement),this.kpuzzle&&(this.svgWrapper=new u3(this.kpuzzle,this.svgSource,e),this.addElement(this.svgWrapper.wrapperElement),x(this,Ti)&&this.onPositionChange(x(this,Ti)))}render(){}},Ti=new WeakMap,Di=new WeakMap,Oh);Ue.define("twisty-2d-puzzle",l1);var is,bl,Bh,d3=(Bh=class{constructor(t,e,n,r){C(this,is,new Ss);C(this,bl,null);this.model=t,this.schedulable=e,this.puzzleLoader=n,this.effectiveVisualization=r,this.twisty2DPuzzle(),x(this,is).addListener(this.model.twistySceneModel.stickeringMask,async i=>{(await this.twisty2DPuzzle()).experimentalSetStickeringMask(i)})}disconnect(){x(this,is).disconnect()}scheduleRender(){}async twisty2DPuzzle(){return x(this,bl)??N(this,bl,(async()=>{const t=this.effectiveVisualization==="experimental-2D-LL-face"?this.puzzleLoader.llFaceSVG():this.effectiveVisualization==="experimental-2D-LL"?this.puzzleLoader.llSVG():this.puzzleLoader.svg();return new l1(this.model,await this.puzzleLoader.kpuzzle(),await t,{},this.puzzleLoader)})())}},is=new WeakMap,bl=new WeakMap,Bh),as,Sl,_n,jh,c1=(jh=class extends Tt{constructor(e,n){super();C(this,as,new Ss);C(this,Sl);C(this,_n,null);this.model=e,this.effectiveVisualization=n}disconnect(){x(this,as).disconnect()}async connectedCallback(){this.addCSS(sd),this.model&&x(this,as).addListener(this.model.twistyPlayerModel.puzzleLoader,this.onPuzzleLoader.bind(this))}async scene(){return x(this,Sl)??N(this,Sl,(async()=>new(await Kt()).ThreeScene)())}scheduleRender(){var e;(e=x(this,_n))==null||e.scheduleRender()}currentTwisty2DPuzzleWrapper(){return x(this,_n)}async setCurrentTwisty2DPuzzleWrapper(e){const n=x(this,_n);N(this,_n,e),n==null||n.disconnect();const r=e.twisty2DPuzzle();this.contentWrapper.textContent="",this.addElement(await r)}async onPuzzleLoader(e){var r;(r=x(this,_n))==null||r.disconnect();const n=new d3(this.model.twistyPlayerModel,this,e,this.effectiveVisualization);this.setCurrentTwisty2DPuzzleWrapper(n)}},as=new WeakMap,Sl=new WeakMap,_n=new WeakMap,jh);Ue.define("twisty-2d-scene-wrapper",c1);var Nn,Uh,ec=(Uh=class{constructor(t,e,n){C(this,Nn,null);this.elem=t,this.prefix=e,this.validSuffixes=n}clearValue(){x(this,Nn)&&this.elem.contentWrapper.classList.remove(x(this,Nn)),N(this,Nn,null)}setValue(t){if(!this.validSuffixes.includes(t))throw new Error(`Invalid suffix: ${t}`);const e=`${this.prefix}${t}`,n=x(this,Nn)!==e;return n&&(this.clearValue(),this.elem.contentWrapper.classList.add(e),N(this,Nn,e)),n}},Nn=new WeakMap,Uh),ss,Vh,u1=(Vh=class{constructor(){C(this,ss);k(this,"reject");k(this,"promise",new Promise((t,e)=>{N(this,ss,t),this.reject=e}))}handleNewValue(t){x(this,ss).call(this,t)}},ss=new WeakMap,Vh),At,kl,Wh,d1=(Wh=class extends EventTarget{constructor(e,n,r,i){super();C(this,At,new Ss);C(this,kl,null);this.model=e,this.schedulable=n,this.puzzleLoader=r,this.visualizationStrategy=i,this.twisty3DPuzzle(),x(this,At).addListener(this.model.puzzleLoader,a=>{this.puzzleLoader.id!==a.id&&this.disconnect()}),x(this,At).addListener(this.model.legacyPosition,async a=>{try{(await this.twisty3DPuzzle()).onPositionChange(a),this.scheduleRender()}catch{this.disconnect()}}),x(this,At).addListener(this.model.twistySceneModel.hintFacelet,async a=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({hintFacelets:a==="auto"?"floating":a}),this.scheduleRender()}),x(this,At).addListener(this.model.twistySceneModel.foundationDisplay,async a=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({showFoundation:a!=="none"}),this.scheduleRender()}),x(this,At).addListener(this.model.twistySceneModel.stickeringMask,async a=>{(await this.twisty3DPuzzle()).setStickeringMask(a),this.scheduleRender()}),x(this,At).addListener(this.model.twistySceneModel.faceletScale,async a=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({faceletScale:a}),this.scheduleRender()}),x(this,At).addMultiListener3([this.model.twistySceneModel.stickeringMask,this.model.twistySceneModel.foundationStickerSprite,this.model.twistySceneModel.hintStickerSprite],async a=>{"experimentalUpdateTexture"in await this.twisty3DPuzzle()&&((await this.twisty3DPuzzle()).experimentalUpdateTexture(a[0].specialBehaviour==="picture",a[1],a[2]),this.scheduleRender())})}disconnect(){x(this,At).disconnect()}scheduleRender(){this.schedulable.scheduleRender(),this.dispatchEvent(new CustomEvent("render-scheduled"))}async twisty3DPuzzle(){return x(this,kl)??N(this,kl,(async()=>{const e=Kt();if(this.puzzleLoader.id==="3x3x3"&&this.visualizationStrategy==="Cube3D"){const[n,r,i,a]=await Promise.all([this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get(),this.model.twistySceneModel.stickeringMask.get(),this.model.twistySceneModel.initialHintFaceletsAnimation.get()]);return(await e).cube3DShim(()=>this.schedulable.scheduleRender(),{foundationSprite:n,hintSprite:r,experimentalStickeringMask:i,initialHintFaceletsAnimation:a})}else{const[n,r,i,a]=await Promise.all([this.model.twistySceneModel.hintFacelet.get(),this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get(),this.model.twistySceneModel.faceletScale.get()]),s=(await e).pg3dShim(()=>this.schedulable.scheduleRender(),this.puzzleLoader,n==="auto"?"floating":n,a,this.puzzleLoader.id==="kilominx");return s.then(o=>o.experimentalUpdateTexture(!0,r??void 0,i??void 0)),s}})())}async raycastMove(e,n){const r=await this.twisty3DPuzzle();if(!("experimentalGetControlTargets"in r)){console.info("not PG3D! skipping raycast");return}const i=r.experimentalGetControlTargets(),[a,s]=await Promise.all([e,this.model.twistySceneModel.movePressCancelOptions.get()]),o=a.intersectObjects(i);if(o.length>0){const l=r.getClosestMoveToAxis(o[0].point,n);l?this.model.experimentalAddMove(l.move,{cancel:s}):console.info("Skipping move!")}}},At=new WeakMap,kl=new WeakMap,Wh),El,Ci,rn,Ml,Er,an,os,zl,Gh,qu=(Gh=class extends Tt{constructor(e){super();C(this,El,new ec(this,"back-view-",["auto","none","side-by-side","top-right"]));C(this,Ci,new Ss);C(this,rn,null);C(this,Ml);C(this,Er,new Set);C(this,an,null);C(this,os,new u1);C(this,zl,new Jl);this.model=e}disconnect(){x(this,Ci).disconnect()}async connectedCallback(){this.addCSS(sd);const e=new Vu(this.model,this);this.addVantage(e),this.model&&(x(this,Ci).addMultiListener([this.model.puzzleLoader,this.model.visualizationStrategy],this.onPuzzle.bind(this)),x(this,Ci).addListener(this.model.backView,this.onBackView.bind(this))),this.scheduleRender()}setBackView(e){const n=["side-by-side","top-right"].includes(e),r=x(this,rn)!==null;x(this,El).setValue(e),n?r||(N(this,rn,new Vu(this.model,this,{backView:!0})),this.addVantage(x(this,rn)),this.scheduleRender()):x(this,rn)&&(this.removeVantage(x(this,rn)),N(this,rn,null))}onBackView(e){this.setBackView(e)}async onPress(e){const n=x(this,an);if(!n){console.info("no wrapper; skipping scene wrapper press!");return}const r=(async()=>{const[i,{ThreeRaycaster:a,ThreeVector2:s}]=await Promise.all([e.detail.cameraPromise,(async()=>{const{ThreeRaycaster:c,ThreeVector2:u}=await Kt();return{ThreeRaycaster:c,ThreeVector2:u}})()]),o=new a,l=new s(e.detail.pressInfo.normalizedX,e.detail.pressInfo.normalizedY);return o.setFromCamera(l,i),o})();n.raycastMove(r,{invert:!e.detail.pressInfo.rightClick,depth:e.detail.pressInfo.keys.ctrlOrMetaKey?"rotation":e.detail.pressInfo.keys.shiftKey?"secondSlice":"none"})}async scene(){return x(this,Ml)??N(this,Ml,(async()=>new(await Kt()).ThreeScene)())}addVantage(e){e.addEventListener("press",this.onPress.bind(this)),x(this,Er).add(e),this.contentWrapper.appendChild(e)}removeVantage(e){var n;x(this,Er).delete(e),e.remove(),e.disconnect(),(n=x(this,an))==null||n.disconnect()}experimentalVantages(){return x(this,Er).values()}scheduleRender(){for(const e of x(this,Er))e.scheduleRender()}async setCurrentTwisty3DPuzzleWrapper(e,n){const r=x(this,an);try{N(this,an,n),r==null||r.disconnect(),e.add(await n.twisty3DPuzzle())}finally{r&&e.remove(await r.twisty3DPuzzle())}x(this,os).handleNewValue(n)}async experimentalTwisty3DPuzzleWrapper(){return x(this,an)||x(this,os).promise}async onPuzzle(e){var i;if(e[1]==="2D")return;(i=x(this,an))==null||i.disconnect();const[n,r]=await x(this,zl).queue(Promise.all([this.scene(),new d1(this.model,this,e[0],e[1])]));this.setCurrentTwisty3DPuzzleWrapper(n,r)}},El=new WeakMap,Ci=new WeakMap,rn=new WeakMap,Ml=new WeakMap,Er=new WeakMap,an=new WeakMap,os=new WeakMap,zl=new WeakMap,Gh);Ue.define("twisty-3d-scene-wrapper",qu);var f1=new ht;f1.replaceSync(`
:host {
  width: 384px;
  height: 24px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.wrapper {
  grid-auto-flow: column;
}

.viewer-link-none .twizzle-link-button {
  display: none;
}

.wrapper twisty-button,
.wrapper twisty-control-button {
  width: inherit;
  height: inherit;
}
`);var h1=new ht;h1.replaceSync(`
:host:not([hidden]) {
  display: grid;
}

:host {
  width: 48px;
  height: 24px;
}

.wrapper {
  width: 100%;
  height: 100%;
}

button {
  width: 100%;
  height: 100%;
  border: none;
  
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;

  background-color: rgba(196, 196, 196, 0.75);
}

button:enabled {
  background-color: rgba(196, 196, 196, 0.75)
}

.dark-mode button:enabled {
  background-color: #88888888;
}

button:disabled {
  background-color: rgba(0, 0, 0, 0.4);
  opacity: 0.25;
  pointer-events: none;
}

.dark-mode button:disabled {
  background-color: #ffffff44;
}

button:enabled:hover {
  background-color: rgba(255, 255, 255, 0.75);
  box-shadow: 0 0 1em rgba(0, 0, 0, 0.25);
  cursor: pointer;
}

/* TODO: fullscreen icons have too much padding?? */
.svg-skip-to-start button,
button.svg-skip-to-start {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjQzIDEwMzdxMTktMTkgMzItMTN0MTMgMzJ2MTQ3MnEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djcxMHEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djY3OHEwIDI2LTE5IDQ1dC00NSAxOUg5NjBxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWgxMjhxMjYgMCA0NSAxOXQxOSA0NXY2NzhxNC0xMSAxMy0xOWw3MTAtNzEwcTE5LTE5IDMyLTEzdDEzIDMydjcxMHE0LTExIDEzLTE5eiIvPjwvc3ZnPg==");
}

.svg-skip-to-end button,
button.svg-skip-to-end {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik05NDEgMjU0N3EtMTkgMTktMzIgMTN0LTEzLTMyVjEwNTZxMC0yNiAxMy0zMnQzMiAxM2w3MTAgNzEwcTggOCAxMyAxOXYtNzEwcTAtMjYgMTMtMzJ0MzIgMTNsNzEwIDcxMHE4IDggMTMgMTl2LTY3OHEwLTI2IDE5LTQ1dDQ1LTE5aDEyOHEyNiAwIDQ1IDE5dDE5IDQ1djE0MDhxMCAyNi0xOSA0NXQtNDUgMTloLTEyOHEtMjYgMC00NS0xOXQtMTktNDV2LTY3OHEtNSAxMC0xMyAxOWwtNzEwIDcxMHEtMTkgMTktMzIgMTN0LTEzLTMydi03MTBxLTUgMTAtMTMgMTl6Ii8+PC9zdmc+");
}

.svg-step-forward button,
button.svg-step-forward {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDE1NjhxMCAyNi0xOSA0NWwtNTEyIDUxMnEtMTkgMTktNDUgMTl0LTQ1LTE5cS0xOS0xOS0xOS00NXYtMjU2aC0yMjRxLTk4IDAtMTc1LjUgNnQtMTU0IDIxLjVxLTc2LjUgMTUuNS0xMzMgNDIuNXQtMTA1LjUgNjkuNXEtNDkgNDIuNS04MCAxMDF0LTQ4LjUgMTM4LjVxLTE3LjUgODAtMTcuNSAxODEgMCA1NSA1IDEyMyAwIDYgMi41IDIzLjV0Mi41IDI2LjVxMCAxNS04LjUgMjV0LTIzLjUgMTBxLTE2IDAtMjgtMTctNy05LTEzLTIydC0xMy41LTMwcS03LjUtMTctMTAuNS0yNC0xMjctMjg1LTEyNy00NTEgMC0xOTkgNTMtMzMzIDE2Mi00MDMgODc1LTQwM2gyMjR2LTI1NnEwLTI2IDE5LTQ1dDQ1LTE5cTI2IDAgNDUgMTlsNTEyIDUxMnExOSAxOSAxOSA0NXoiLz48L3N2Zz4=");
}

.svg-step-backward button,
button.svg-step-backward {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDIwNDhxMCAxNjYtMTI3IDQ1MS0zIDctMTAuNSAyNHQtMTMuNSAzMHEtNiAxMy0xMyAyMi0xMiAxNy0yOCAxNy0xNSAwLTIzLjUtMTB0LTguNS0yNXEwLTkgMi41LTI2LjV0Mi41LTIzLjVxNS02OCA1LTEyMyAwLTEwMS0xNy41LTE4MXQtNDguNS0xMzguNXEtMzEtNTguNS04MC0xMDF0LTEwNS41LTY5LjVxLTU2LjUtMjctMTMzLTQyLjV0LTE1NC0yMS41cS03Ny41LTYtMTc1LjUtNmgtMjI0djI1NnEwIDI2LTE5IDQ1dC00NSAxOXEtMjYgMC00NS0xOWwtNTEyLTUxMnEtMTktMTktMTktNDV0MTktNDVsNTEyLTUxMnExOS0xOSA0NS0xOXQ0NSAxOXExOSAxOSAxOSA0NXYyNTZoMjI0cTcxMyAwIDg3NSA0MDMgNTMgMTM0IDUzIDMzM3oiLz48L3N2Zz4=");
}

.svg-pause button,
button.svg-pause {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNTYwIDEwODh2MTQwOHEwIDI2LTE5IDQ1dC00NSAxOWgtNTEycS0yNiAwLTQ1LTE5dC0xOS00NVYxMDg4cTAtMjYgMTktNDV0NDUtMTloNTEycTI2IDAgNDUgMTl0MTkgNDV6bS04OTYgMHYxNDA4cTAgMjYtMTkgNDV0LTQ1IDE5aC01MTJxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWg1MTJxMjYgMCA0NSAxOXQxOSA0NXoiLz48L3N2Zz4=");
}

.svg-play button,
button.svg-play {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNDcyLjUgMTgyM2wtMTMyOCA3MzhxLTIzIDEzLTM5LjUgM3QtMTYuNS0zNlYxMDU2cTAtMjYgMTYuNS0zNnQzOS41IDNsMTMyOCA3MzhxMjMgMTMgMjMgMzF0LTIzIDMxeiIvPjwvc3ZnPg==");
}

.svg-enter-fullscreen button,
button.svg-enter-fullscreen {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTZIN3Y1aDV2LTJIOXYtM3ptLTItNGgyVjloM1Y3SDd2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTYgN3YyaDN2M2gyVjdoLTV6Ii8+PC9zdmc+");
}

.svg-exit-fullscreen button,
button.svg-exit-fullscreen {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcgMThoM3YzaDJ2LTVIN3Yyem0zLThIN3YyaDVWN2gtMnYzem02IDExaDJ2LTNoM3YtMmgtNXY1em0yLTExVjdoLTJ2NWg1di0yaC0zeiIvPjwvc3ZnPg==");
}

.svg-twizzle-tw button,
button.svg-twizzle-tw {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODY0IiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzk3LjU4MSAxNTEuMTh2NTcuMDg0aC04OS43MDN2MjQwLjM1MmgtNjYuOTU1VjIwOC4yNjRIMTUxLjIydi01Ny4wODNoMjQ2LjM2MXptNTQuMzEgNzEuNjc3bDcuNTEyIDMzLjY5MmMyLjcxOCAxMi4xNiA1LjU4IDI0LjY4IDguNTg0IDM3LjU1NWEyMTgwLjc3NSAyMTgwLjc3NSAwIDAwOS40NDIgMzguODQzIDEyNjYuMyAxMjY2LjMgMCAwMDEwLjA4NiAzNy41NTVjMy43Mi0xMi41OSA3LjM2OC0yNS40NjYgMTAuOTQ1LTM4LjYyOCAzLjU3Ni0xMy4xNjIgNy4wMS0yNi4xMSAxMC4zLTM4Ljg0M2w1Ljc2OS0yMi40NTZjMS4yNDgtNC44ODcgMi40NzItOS43MDUgMy42NzQtMTQuNDU1IDMuMDA0LTExLjg3NSA1LjY1MS0yMi45NjIgNy45NC0zMy4yNjNoNDYuMzU0bDIuMzg0IDEwLjU2M2EyMDAwLjc3IDIwMDAuNzcgMCAwMDMuOTM1IDE2LjgyOGw2LjcxMSAyNy43MWMxLjIxMyA0Ljk1NiAyLjQ1IDkuOTggMy43MDkgMTUuMDczYTMxMTkuNzc3IDMxMTkuNzc3IDAgMDA5Ljg3MSAzOC44NDMgMTI0OS4yMjcgMTI0OS4yMjcgMCAwMDEwLjczIDM4LjYyOCAxOTA3LjYwNSAxOTA3LjYwNSAwIDAwMTAuMzAxLTM3LjU1NSAxMzk3Ljk0IDEzOTcuOTQgMCAwMDkuNjU3LTM4Ljg0M2w0LjQtMTkuMDQ2Yy43MTUtMy4xMyAxLjQyMS02LjIzNiAyLjExOC05LjMyMWw5LjU3Ny00Mi44OGg2Ni41MjZhMjk4OC43MTggMjk4OC43MTggMCAwMS0xOS41MjkgNjYuMzExbC01LjcyOCAxOC40ODJhMzIzNy40NiAzMjM3LjQ2IDAgMDEtMTQuMDE1IDQzLjc1MmMtNi40MzggMTkuNi0xMi43MzMgMzcuNjk4LTE4Ljg4NSA1NC4yOTRsLTMuMzA2IDguODI1Yy00Ljg4NCAxMi44OTgtOS40MzMgMjQuMjYzLTEzLjY0NyAzNC4wOTVoLTQ5Ljc4N2E4NDE3LjI4OSA4NDE3LjI4OSAwIDAxLTIxLjAzMS02NC44MDkgMTI4OC42ODYgMTI4OC42ODYgMCAwMS0xOC44ODUtNjQuODEgMTk3Mi40NDQgMTk3Mi40NDQgMCAwMS0xOC4yNCA2NC44MSAyNTc5LjQxMiAyNTc5LjQxMiAwIDAxLTIwLjM4OCA2NC44MWgtNDkuNzg3Yy00LjY4Mi0xMC45MjYtOS43Mi0yMy43NDMtMTUuMTEtMzguNDUxbC0xLjYyOS00LjQ3Yy01LjI1OC0xNC41MjEtMTAuNjgtMzAuMTkyLTE2LjI2Ni00Ny4wMTRsLTIuNDA0LTcuMjhjLTYuNDM4LTE5LjYtMTMuMDItNDAuMzQ0LTE5Ljc0My02Mi4yMzRhMjk4OC43MDcgMjk4OC43MDcgMCAwMS0xOS41MjktNjYuMzExaDY3LjM4NXoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==");
}
`);var oe=typeof document>"u"?null:document,f3=(oe==null?void 0:oe.fullscreenEnabled)||!!(oe!=null&&oe.webkitFullscreenEnabled);function h3(){return document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen()}function Uf(){return document.fullscreenElement?document.fullscreenElement:document.webkitFullscreenElement??null}function x3(t){return t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen()}var p3=["skip-to-start","skip-to-end","step-forward","step-backward","pause","play","enter-fullscreen","exit-fullscreen","twizzle-tw"],m3=class extends ae{derive(t){return{fullscreen:{enabled:f3,icon:document.fullscreenElement===null?"enter-fullscreen":"exit-fullscreen",title:"Enter fullscreen"},"jump-to-start":{enabled:!t.coarseTimelineInfo.atStart,icon:"skip-to-start",title:"Restart"},"play-step-backwards":{enabled:!t.coarseTimelineInfo.atStart,icon:"step-backward",title:"Step backward"},"play-pause":{enabled:!(t.coarseTimelineInfo.atStart&&t.coarseTimelineInfo.atEnd),icon:t.coarseTimelineInfo.playing?"pause":"play",title:t.coarseTimelineInfo.playing?"Pause":"Play"},"play-step":{enabled:!t.coarseTimelineInfo.atEnd,icon:"step-forward",title:"Step forward"},"jump-to-end":{enabled:!t.coarseTimelineInfo.atEnd,icon:"skip-to-end",title:"Skip to End"},"twizzle-link":{enabled:!0,icon:"twizzle-tw",title:"View at Twizzle",hidden:t.viewerLink==="none"}}}},Vf={fullscreen:!0,"jump-to-start":!0,"play-step-backwards":!0,"play-pause":!0,"play-step":!0,"jump-to-end":!0,"twizzle-link":!0},Tl,p1,$h,x1=($h=class extends Tt{constructor(e,n,r){super();C(this,Tl);k(this,"buttons",null);this.model=e,this.controller=n,this.defaultFullscreenElement=r}connectedCallback(){var n,r;this.addCSS(f1);const e={};for(const i in Vf){const a=new m1;e[i]=a,a.htmlButton.addEventListener("click",()=>H(this,Tl,p1).call(this,i)),this.addElement(a)}this.buttons=e,(n=this.model)==null||n.buttonAppearance.addFreshListener(this.update.bind(this)),(r=this.model)==null||r.twistySceneModel.colorScheme.addFreshListener(this.updateColorScheme.bind(this))}async onFullscreenButton(){var e,n;if(!this.defaultFullscreenElement)throw new Error("Attempted to go fullscreen without an element.");if(Uf()===this.defaultFullscreenElement)h3();else{(e=this.buttons)==null||e.fullscreen.setIcon("exit-fullscreen"),x3(await((n=this.model)==null?void 0:n.twistySceneModel.fullscreenElement.get())??this.defaultFullscreenElement);const r=()=>{var i;Uf()!==this.defaultFullscreenElement&&((i=this.buttons)==null||i.fullscreen.setIcon("enter-fullscreen"),window.removeEventListener("fullscreenchange",r))};window.addEventListener("fullscreenchange",r)}}async update(e){for(const n in Vf){const r=this.buttons[n],i=e[n];r.htmlButton.disabled=!i.enabled,r.htmlButton.title=i.title,r.setIcon(i.icon),r.hidden=!!i.hidden}}updateColorScheme(e){for(const n of Object.values(this.buttons??{}))n.updateColorScheme(e)}},Tl=new WeakSet,p1=function(e){var n,r,i,a,s,o;switch(e){case"fullscreen":{this.onFullscreenButton();break}case"jump-to-start":{(n=this.controller)==null||n.jumpToStart({flash:!0});break}case"play-step-backwards":{(r=this.controller)==null||r.animationController.play({direction:-1,untilBoundary:"move"});break}case"play-pause":{(i=this.controller)==null||i.togglePlay();break}case"play-step":{(a=this.controller)==null||a.animationController.play({direction:1,untilBoundary:"move"});break}case"jump-to-end":{(s=this.controller)==null||s.jumpToEnd({flash:!0});break}case"twizzle-link":{(o=this.controller)==null||o.visitTwizzleLink();break}default:throw new Error("Missing command")}},$h);Ue.define("twisty-buttons",x1);var Dl,Hh,m1=(Hh=class extends Tt{constructor(){super(...arguments);k(this,"htmlButton",document.createElement("button"));C(this,Dl,new ec(this,"svg-",p3))}updateColorScheme(e){this.contentWrapper.classList.toggle("dark-mode",e==="dark")}connectedCallback(){this.addCSS(h1),this.addElement(this.htmlButton)}setIcon(e){x(this,Dl).setValue(e)}},Dl=new WeakMap,Hh);Ue.define("twisty-button",m1);var g1=new ht;g1.replaceSync(`
:host {
  width: 384px;
  height: 16px;
  display: grid;
}

.wrapper {
  width: 100%;
  height: 100%;
  display: grid;
  overflow: hidden;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  background: rgba(196, 196, 196, 0.75);
}

input:not(:disabled) {
  cursor: ew-resize;
}

.wrapper.dark-mode {
  background: #666666;
}
`);oe==null||oe.addEventListener("mousedown",t=>{t.which},!0);oe==null||oe.addEventListener("mouseup",t=>{t.which},!0);oe==null||oe.addEventListener("mousedown",()=>{},!1);oe==null||oe.addEventListener("mousemove",y1,!1);oe==null||oe.addEventListener("mouseenter",y1,!1);function y1(t){t.pageY}var Cl,Qh,v1=(Qh=class extends Tt{constructor(e,n){super();C(this,Cl,null);this.model=e,this.controller=n}async onDetailedTimelineInfo(e){const n=await this.inputElem();n.min=e.timeRange.start.toString(),n.max=e.timeRange.end.toString(),n.disabled=n.min===n.max,n.value=e.timestamp.toString()}async connectedCallback(){var e;this.addCSS(g1),this.addElement(await this.inputElem()),(e=this.model)==null||e.twistySceneModel.colorScheme.addFreshListener(this.updateColorScheme.bind(this))}updateColorScheme(e){this.contentWrapper.classList.toggle("dark-mode",e==="dark")}async inputElem(){return x(this,Cl)??N(this,Cl,(async()=>{var n;const e=document.createElement("input");return e.type="range",e.disabled=!0,(n=this.model)==null||n.detailedTimelineInfo.addFreshListener(this.onDetailedTimelineInfo.bind(this)),e.addEventListener("input",this.onInput.bind(this)),e.addEventListener("keydown",this.onKeypress.bind(this)),e})())}async onInput(e){var i,a;const n=await this.inputElem();await this.slowDown(e,n);const r=parseInt(n.value);(i=this.model)==null||i.playingInfo.set({playing:!1}),(a=this.model)==null||a.timestampRequest.set(r)}onKeypress(e){var n,r;switch(e.key){case"ArrowLeft":case"ArrowRight":{(n=this.controller)==null||n.animationController.play({direction:e.key==="ArrowLeft"?-1:1,untilBoundary:"move"}),e.preventDefault();break}case" ":{(r=this.controller)==null||r.togglePlay(),e.preventDefault();break}}}async slowDown(e,n){}},Cl=new WeakMap,Qh);Ue.define("twisty-scrubber",v1);var g3=null;async function Wf(t,e){const[{ThreePerspectiveCamera:n,ThreeScene:r},i,a,s,o,l,c]=await Promise.all([(async()=>{const{ThreePerspectiveCamera:v,ThreeScene:E}=await Kt();return{ThreePerspectiveCamera:v,ThreeScene:E}})(),await t.puzzleLoader.get(),await t.visualizationStrategy.get(),await t.twistySceneModel.stickeringRequest.get(),await t.twistySceneModel.stickeringMaskRequest.get(),await t.legacyPosition.get(),await t.twistySceneModel.orbitCoordinates.get()]),u=(e==null?void 0:e.width)??2048,f=(e==null?void 0:e.height)??2048,d=u/f,h=g3??(g3=await(async()=>new n(20,d,.1,20))()),p=new r,y=new d1(t,{scheduleRender:()=>{}},i,a);p.add(await y.twisty3DPuzzle()),await Qm(h,c);const m=(await $m(u,f,p,h)).toDataURL(),g=await w1(t);return{dataURL:m,download:async v=>{b1(m,v??g)}}}async function w1(t){const[e,n]=await Promise.all([t.puzzleID.get(),t.alg.get()]);return`[${e}]${n.alg.experimentalNumChildAlgNodes()===0?"":` ${n.alg.toString()}`}`}function b1(t,e,n="png"){const r=document.createElement("a");r.href=t,r.download=`${e}.${n}`,r.click()}var S1=new ht;S1.replaceSync(`
:host {
  width: 384px;
  height: 256px;
  display: grid;

  -webkit-user-select: none;
  user-select: none;
}

.wrapper {
  display: grid;
  overflow: hidden;
  contain: size;
  grid-template-rows: 7fr minmax(1.5em, 0.5fr) minmax(2em, 1fr);
}

.wrapper > * {
  width: inherit;
  height: inherit;
  overflow: hidden;
}

.wrapper.controls-none {
  grid-template-rows: 7fr;
}

.wrapper.controls-none twisty-scrubber,
.wrapper.controls-none twisty-control-button-panel ,
.wrapper.controls-none twisty-scrubber,
.wrapper.controls-none twisty-buttons {
  display: none;
}

twisty-scrubber {
  background: rgba(196, 196, 196, 0.5);
}

.wrapper.checkered,
.wrapper.checkered-transparent {
  background-color: #EAEAEA;
  background-image: linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD),
    linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD);
  background-size: 32px 32px;
  background-position: 0 0, 16px 16px;
}

.wrapper.checkered-transparent {
  background-color: #F4F4F4;
  background-image: linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88),
    linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88);
}

.wrapper.dark-mode {
  background-color: #444;
  background-image: linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b),
    linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b);
}

.visualization-wrapper > * {
  width: 100%;
  height: 100%;
}

.error-elem {
  width: 100%;
  height: 100%;
  display: none;
  place-content: center;
  font-family: sans-serif;
  box-shadow: inset 0 0 2em rgb(255, 0, 0);
  color: red;
  text-shadow: 0 0 0.2em white;
  background: rgba(255, 255, 255, 0.25);
}

.wrapper.error .visualization-wrapper {
  display: none;
}

.wrapper.error .error-elem {
  display: grid;
}
`);var Gf=class extends ee{getDefaultValue(){return null}},Yu=class extends ir{getDefaultValue(){return null}derive(t){return typeof t=="string"?new URL(t,location.href):t}},Qa=class k1{constructor(e){k(this,"warnings");k(this,"errors");this.warnings=Object.freeze((e==null?void 0:e.warnings)??[]),this.errors=Object.freeze((e==null?void 0:e.errors)??[]),Object.freeze(this)}add(e){return new k1({warnings:this.warnings.concat((e==null?void 0:e.warnings)??[]),errors:this.errors.concat((e==null?void 0:e.errors)??[])})}log(){this.errors.length>0?console.error(` ${this.errors[0]}`):this.warnings.length>0?console.warn(` ${this.warnings[0]}`):console.info(" No issues!")}};function E1(t){try{const e=B.fromString(t),n=[];return e.toString()!==t&&n.push("Alg is non-canonical!"),{alg:e,issues:new Qa({warnings:n})}}catch(e){return{alg:new B,issues:new Qa({errors:[`Malformed alg: ${e.toString()}`]})}}}function y3(t,e){return t.alg.isIdentical(e.alg)&&$u(t.issues.warnings,e.issues.warnings)&&$u(t.issues.errors,e.issues.errors)}var $f=class extends ir{getDefaultValue(){return{alg:new B,issues:new Qa}}canReuseValue(t,e){return y3(t,e)}async derive(t){return typeof t=="string"?E1(t):{alg:t,issues:new Qa}}},v3=class extends ae{derive(t){return t.kpuzzle.algToTransformation(t.setupAlg.alg)}},w3=class extends ae{derive(t){if(t.setupTransformation)return t.setupTransformation;switch(t.setupAnchor){case"start":return t.setupAlgTransformation;case"end":{const n=t.indexer.transformationAtIndex(t.indexer.numAnimatedLeaves()).invert();return t.setupAlgTransformation.applyTransformation(n)}default:throw new Error("Unimplemented!")}}},b3=class extends ee{getDefaultValue(){return null}},S3=class extends ee{getDefaultValue(){return{move:null,amount:0}}canReuseValue(t,e){return t.move===e.move&&t.amount===e.amount}},k3=class extends ae{derive(t){return{patternIndex:t.currentMoveInfo.patternIndex,movesFinishing:t.currentMoveInfo.movesFinishing.map(e=>e.move),movesFinished:t.currentMoveInfo.movesFinished.map(e=>e.move)}}canReuseValue(t,e){return t.patternIndex===e.patternIndex&&Of(t.movesFinishing,e.movesFinishing,(n,r)=>n.isIdentical(r))&&Of(t.movesFinished,e.movesFinished,(n,r)=>n.isIdentical(r))}},E3=class extends ae{derive(t){var n;function e(r){return t.detailedTimelineInfo.atEnd&&t.catchUpMove.move!==null&&r.currentMoves.push({move:t.catchUpMove.move,direction:-1,fraction:1-t.catchUpMove.amount,startTimestamp:-1,endTimestamp:-1}),r}if(t.indexer.currentMoveInfo)return e(t.indexer.currentMoveInfo(t.detailedTimelineInfo.timestamp));{const r=t.indexer.timestampToIndex(t.detailedTimelineInfo.timestamp),i={patternIndex:r,currentMoves:[],movesFinishing:[],movesFinished:[],movesStarting:[],latestStart:-1/0,earliestEnd:1/0};if(t.indexer.numAnimatedLeaves()>0){const a=(n=t.indexer.getAnimLeaf(r))==null?void 0:n.as(w);if(!a)return e(i);const s=t.indexer.indexToMoveStartTimestamp(r),o=t.indexer.moveDuration(r),l=o?(t.detailedTimelineInfo.timestamp-s)/o:0,c=s+o,u={move:a,direction:1,fraction:l,startTimestamp:s,endTimestamp:c};l===0?i.movesStarting.push(u):l===1?i.movesFinishing.push(u):(i.currentMoves.push(u),i.latestStart=Math.max(i.latestStart,s),i.earliestEnd=Math.min(i.earliestEnd,c))}return e(i)}}},M3=class extends ae{derive(t){let e=t.indexer.transformationAtIndex(t.currentLeavesSimplified.patternIndex);e=t.anchoredStart.applyTransformation(e);for(const n of t.currentLeavesSimplified.movesFinishing)e=e.applyMove(n);for(const n of t.currentLeavesSimplified.movesFinished)e=e.applyMove(n);return e.toKPattern()}};function pr(t){switch(Math.abs(t)){case 0:return 0;case 1:return 1e3;case 2:return 1500;default:return 2e3}}var M1=class extends Ur{constructor(t=pr){super(),this.durationForAmount=t}traverseAlg(t){let e=0;for(const n of t.childAlgNodes())e+=this.traverseAlgNode(n);return e}traverseGrouping(t){return t.amount*this.traverseAlg(t.alg)}traverseMove(t){return this.durationForAmount(t.amount)}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return this.durationForAmount(1)}traverseNewline(t){return this.durationForAmount(1)}traverseLineComment(t){return this.durationForAmount(0)}},z3=class{constructor(t,e){k(this,"moves");k(this,"durationFn",new M1(pr));this.kpuzzle=t,this.moves=new B(e.experimentalExpand())}getAnimLeaf(t){return Array.from(this.moves.childAlgNodes())[t]}indexToMoveStartTimestamp(t){const e=new B(Array.from(this.moves.childAlgNodes()).slice(0,t));return this.durationFn.traverseAlg(e)}timestampToIndex(t){let e=0,n;for(n=0;n<this.numAnimatedLeaves();n++)if(e+=this.durationFn.traverseMove(this.getAnimLeaf(n)),e>=t)return n;return n}patternAtIndex(t){return this.kpuzzle.defaultPattern().applyTransformation(this.transformationAtIndex(t))}transformationAtIndex(t){let e=this.kpuzzle.identityTransformation();for(const n of Array.from(this.moves.childAlgNodes()).slice(0,t))e=e.applyMove(n);return e}algDuration(){return this.durationFn.traverseAlg(this.moves)}numAnimatedLeaves(){return Aw(this.moves)}moveDuration(t){return this.durationFn.traverseMove(this.getAnimLeaf(t))}},Hf={u:"y",l:"x",f:"z",r:"x",b:"z",d:"y",m:"x",e:"y",s:"z",x:"x",y:"y",z:"z"};function T3(t,e){return Hf[t.family[0].toLowerCase()]===Hf[e.family[0].toLowerCase()]}var D3=class extends Ur{traverseAlg(t){const e=[];for(const n of t.childAlgNodes())e.push(this.traverseAlgNode(n));return Array.prototype.concat(...e)}traverseGroupingOnce(t){if(t.experimentalIsEmpty())return[];const e=[];for(const i of t.childAlgNodes()){if(!(i.is(w)||i.is($i)||i.is(Yn)))return this.traverseAlg(t);const a=i.as(w);a&&e.push(a)}let n=pr(e[0].amount);for(let i=0;i<e.length-1;i++){for(let a=1;a<e.length;a++)if(!T3(e[i],e[a]))return this.traverseAlg(t);n=Math.max(n,pr(e[i].amount))}const r=e.map(i=>({animLeafAlgNode:i,msUntilNext:0,duration:n}));return r[r.length-1].msUntilNext=n,r}traverseGrouping(t){const e=[],n=t.amount>0?t.alg:t.alg.invert();for(let r=0;r<Math.abs(t.amount);r++)e.push(this.traverseGroupingOnce(n));return Array.prototype.concat(...e)}traverseMove(t){const e=pr(t.amount);return[{animLeafAlgNode:t,msUntilNext:e,duration:e}]}traverseCommutator(t){const e=[],n=[t.A,t.B,t.A.invert(),t.B.invert()];for(const r of n)e.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...e)}traverseConjugate(t){const e=[],n=[t.A,t.B,t.A.invert()];for(const r of n)e.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...e)}traversePause(t){if(t.experimentalNISSGrouping)return[];const e=pr(1);return[{animLeafAlgNode:t,msUntilNext:e,duration:e}]}traverseNewline(t){return[]}traverseLineComment(t){return[]}},C3=mt(D3);function L3(t){let e=0;return C3(t).map(r=>{const i={animLeaf:r.animLeafAlgNode,start:e,end:e+r.duration};return e+=r.msUntilNext,i})}var Ac=class{constructor(t,e,n){k(this,"animLeaves");this.kpuzzle=t,this.animLeaves=(n==null?void 0:n.animationTimelineLeaves)??L3(e)}getAnimLeaf(t){var e;return((e=this.animLeaves[Math.min(t,this.animLeaves.length-1)])==null?void 0:e.animLeaf)??null}getAnimLeafWithRange(t){return this.animLeaves[Math.min(t,this.animLeaves.length-1)]}indexToMoveStartTimestamp(t){let e=0;return this.animLeaves.length>0&&(e=this.animLeaves[Math.min(t,this.animLeaves.length-1)].start),e}timestampToIndex(t){let e=0;for(e=0;e<this.animLeaves.length;e++)if(this.animLeaves[e].start>=t)return Math.max(0,e-1);return Math.max(0,e-1)}timestampToPosition(t,e){const n=this.currentMoveInfo(t);let r=e??this.kpuzzle.identityTransformation().toKPattern();for(const i of this.animLeaves.slice(0,n.patternIndex)){const a=i.animLeaf.as(w);a!==null&&(r=r.applyMove(a))}return{pattern:r,movesInProgress:n.currentMoves}}currentMoveInfo(t){let e=1/0;for(const c of this.animLeaves)if(c.start<=t&&c.end>=t)e=Math.min(e,c.start);else if(c.start>t)break;const n=[],r=[],i=[],a=[];let s=-1/0,o=1/0,l=0;for(const c of this.animLeaves)if(c.end<=e){if(!isFinite(e)&&c.start>t)break;l++}else{if(c.start>t)break;{const u=c.animLeaf.as(w);if(u!==null){let f=(t-c.start)/(c.end-c.start),d=!1;f>1&&(f=1,d=!0);const h={move:u,direction:1,fraction:f,startTimestamp:c.start,endTimestamp:c.end};switch(f){case 0:{r.push(h);break}case 1:{d?a.push(h):i.push(h);break}default:n.push(h),s=Math.max(s,c.start),o=Math.min(o,c.end)}}}}return{patternIndex:l,currentMoves:n,latestStart:s,earliestEnd:o,movesStarting:r,movesFinishing:i,movesFinished:a}}patternAtIndex(t,e){let n=e??this.kpuzzle.defaultPattern();for(let r=0;r<this.animLeaves.length&&r<t;r++){const a=this.animLeaves[r].animLeaf.as(w);a!==null&&(n=n.applyMove(a))}return n}transformationAtIndex(t){let e=this.kpuzzle.identityTransformation();for(const n of this.animLeaves.slice(0,t)){const r=n.animLeaf.as(w);r!==null&&(e=e.applyMove(r))}return e}algDuration(){let t=0;for(const e of this.animLeaves)t=Math.max(t,e.end);return t}numAnimatedLeaves(){return this.animLeaves.length}moveDuration(t){const e=this.getAnimLeafWithRange(t);return e.end-e.start}},sr=class{constructor(t,e,n,r,i=[]){this.moveCount=t,this.duration=e,this.forward=n,this.backward=r,this.children=i}},R3=class extends Ur{constructor(e){super();k(this,"identity");k(this,"dummyLeaf");k(this,"durationFn",new M1(pr));k(this,"cache",{});this.kpuzzle=e,this.identity=e.identityTransformation(),this.dummyLeaf=new sr(0,0,this.identity,this.identity,[])}traverseAlg(e){let n=0,r=0,i=this.identity;const a=[];for(const s of e.childAlgNodes()){const o=this.traverseAlgNode(s);n+=o.moveCount,r+=o.duration,i===this.identity?i=o.forward:i=i.applyTransformation(o.forward),a.push(o)}return new sr(n,r,i,i.invert(),a)}traverseGrouping(e){const n=this.traverseAlg(e.alg);return this.mult(n,e.amount,[n])}traverseMove(e){const n=e.toString();let r=this.cache[n];if(r)return r;const i=this.kpuzzle.moveToTransformation(e);return r=new sr(1,this.durationFn.traverseAlgNode(e),i,i.invert()),this.cache[n]=r,r}traverseCommutator(e){const n=this.traverseAlg(e.A),r=this.traverseAlg(e.B),i=n.forward.applyTransformation(r.forward),a=n.backward.applyTransformation(r.backward),s=i.applyTransformation(a),o=new sr(2*(n.moveCount+r.moveCount),2*(n.duration+r.duration),s,s.invert(),[n,r]);return this.mult(o,1,[o,n,r])}traverseConjugate(e){const n=this.traverseAlg(e.A),r=this.traverseAlg(e.B),a=n.forward.applyTransformation(r.forward).applyTransformation(n.backward),s=new sr(2*n.moveCount+r.moveCount,2*n.duration+r.duration,a,a.invert(),[n,r]);return this.mult(s,1,[s,n,r])}traversePause(e){return e.experimentalNISSGrouping?this.dummyLeaf:new sr(1,this.durationFn.traverseAlgNode(e),this.identity,this.identity)}traverseNewline(e){return this.dummyLeaf}traverseLineComment(e){return this.dummyLeaf}mult(e,n,r){const i=Math.abs(n),a=e.forward.selfMultiply(n);return new sr(e.moveCount*i,e.duration*i,a,a.invert(),r)}},Ee=class{constructor(t,e){this.apd=t,this.back=e}},A3=class extends Hi{constructor(e,n,r){super();k(this,"move");k(this,"moveDuration");k(this,"back");k(this,"st");k(this,"root");k(this,"i");k(this,"dur");k(this,"goali");k(this,"goaldur");this.kpuzzle=e,this.algOrAlgNode=n,this.apd=r,this.i=-1,this.dur=-1,this.goali=-1,this.goaldur=-1,this.move=void 0,this.back=!1,this.moveDuration=0,this.st=this.kpuzzle.identityTransformation(),this.root=new Ee(this.apd,!1)}moveByIndex(e){return this.i>=0&&this.i===e?this.move!==void 0:this.dosearch(e,1/0)}moveByDuration(e){return this.dur>=0&&this.dur<e&&this.dur+this.moveDuration>=e?this.move!==void 0:this.dosearch(1/0,e)}dosearch(e,n){return this.goali=e,this.goaldur=n,this.i=0,this.dur=0,this.move=void 0,this.moveDuration=0,this.back=!1,this.st=this.kpuzzle.identityTransformation(),this.algOrAlgNode.is(B)?this.traverseAlg(this.algOrAlgNode,this.root):this.traverseAlgNode(this.algOrAlgNode,this.root)}traverseAlg(e,n){if(!this.firstcheck(n))return!1;let r=n.back?e.experimentalNumChildAlgNodes()-1:0;for(const i of mv(e.childAlgNodes(),n.back?-1:1)){if(this.traverseAlgNode(i,new Ee(n.apd.children[r],n.back)))return!0;r+=n.back?-1:1}return!1}traverseGrouping(e,n){if(!this.firstcheck(n))return!1;const r=this.domult(n,e.amount);return this.traverseAlg(e.alg,new Ee(n.apd.children[0],r))}traverseMove(e,n){return this.firstcheck(n)?(this.move=e,this.moveDuration=n.apd.duration,this.back=n.back,!0):!1}traverseCommutator(e,n){if(!this.firstcheck(n))return!1;const r=this.domult(n,1);return r?this.traverseAlg(e.B,new Ee(n.apd.children[2],!r))||this.traverseAlg(e.A,new Ee(n.apd.children[1],!r))||this.traverseAlg(e.B,new Ee(n.apd.children[2],r))||this.traverseAlg(e.A,new Ee(n.apd.children[1],r)):this.traverseAlg(e.A,new Ee(n.apd.children[1],r))||this.traverseAlg(e.B,new Ee(n.apd.children[2],r))||this.traverseAlg(e.A,new Ee(n.apd.children[1],!r))||this.traverseAlg(e.B,new Ee(n.apd.children[2],!r))}traverseConjugate(e,n){if(!this.firstcheck(n))return!1;const r=this.domult(n,1);return r?this.traverseAlg(e.A,new Ee(n.apd.children[1],!r))||this.traverseAlg(e.B,new Ee(n.apd.children[2],r))||this.traverseAlg(e.A,new Ee(n.apd.children[1],r)):this.traverseAlg(e.A,new Ee(n.apd.children[1],r))||this.traverseAlg(e.B,new Ee(n.apd.children[2],r))||this.traverseAlg(e.A,new Ee(n.apd.children[1],!r))}traversePause(e,n){return this.firstcheck(n)?(this.move=e,this.moveDuration=n.apd.duration,this.back=n.back,!0):!1}traverseNewline(e,n){return!1}traverseLineComment(e,n){return!1}firstcheck(e){return e.apd.moveCount+this.i<=this.goali&&e.apd.duration+this.dur<this.goaldur?this.keepgoing(e):!0}domult(e,n){let r=e.back;if(n===0)return r;n<0&&(r=!r,n=-n);const i=e.apd.children[0],a=Math.min(Math.floor((this.goali-this.i)/i.moveCount),Math.ceil((this.goaldur-this.dur)/i.duration-1));return a>0&&this.keepgoing(new Ee(i,r),a),r}keepgoing(e,n=1){return this.i+=n*e.apd.moveCount,this.dur+=n*e.apd.duration,n!==1?e.back?this.st=this.st.applyTransformation(e.apd.backward.selfMultiply(n)):this.st=this.st.applyTransformation(e.apd.forward.selfMultiply(n)):e.back?this.st=this.st.applyTransformation(e.apd.backward):this.st=this.st.applyTransformation(e.apd.forward),!1}},I3=16;function _3(t,e){const n=new Ho,r=new Ho;for(const i of t.childAlgNodes())r.push(i),r.experimentalNumAlgNodes()>=e&&(n.push(new $e(r.toAlg())),r.reset());return n.push(new $e(r.toAlg())),n.toAlg()}var N3=class extends Ur{traverseAlg(t){const e=t.experimentalNumChildAlgNodes();return e<I3?t:_3(t,Math.ceil(Math.sqrt(e)))}traverseGrouping(t){return new $e(this.traverseAlg(t.alg),t.amount)}traverseMove(t){return t}traverseCommutator(t){return new tt(this.traverseAlg(t.A),this.traverseAlg(t.B))}traverseConjugate(t){return new tt(this.traverseAlg(t.A),this.traverseAlg(t.B))}traversePause(t){return t}traverseNewline(t){return t}traverseLineComment(t){return t}},P3=mt(N3),Qf=class{constructor(t,e){k(this,"decoration");k(this,"walker");this.kpuzzle=t;const n=new R3(this.kpuzzle),r=P3(e);this.decoration=n.traverseAlg(r),this.walker=new A3(this.kpuzzle,r,this.decoration)}getAnimLeaf(t){if(this.walker.moveByIndex(t)){if(!this.walker.move)throw new Error("`this.walker.mv` missing");const e=this.walker.move;return this.walker.back?e.invert():e}return null}indexToMoveStartTimestamp(t){if(this.walker.moveByIndex(t)||this.walker.i===t)return this.walker.dur;throw new Error(`Out of algorithm: index ${t}`)}indexToMovesInProgress(t){if(this.walker.moveByIndex(t)||this.walker.i===t)return this.walker.dur;throw new Error(`Out of algorithm: index ${t}`)}patternAtIndex(t,e){return this.walker.moveByIndex(t),(e??this.kpuzzle.defaultPattern()).applyTransformation(this.walker.st)}transformationAtIndex(t){return this.walker.moveByIndex(t),this.walker.st}numAnimatedLeaves(){return this.decoration.moveCount}timestampToIndex(t){return this.walker.moveByDuration(t),this.walker.i}algDuration(){return this.decoration.duration}moveDuration(t){return this.walker.moveByIndex(t),this.walker.moveDuration}},F3=1024,O3=class extends ae{derive(t){switch(t.indexerConstructorRequest){case"auto":return t.animationTimelineLeaves!==null||Cw(t.alg.alg)<=F3&&t.puzzle==="3x3x3"&&t.visualizationStrategy==="Cube3D"?Ac:Qf;case"tree":return Qf;case"simple":return z3;case"simultaneous":return Ac;default:throw new Error("Invalid indexer request!")}}},B3=class extends ee{getDefaultValue(){return"auto"}},j3=class extends ae{derive(t){return new t.indexerConstructor(t.kpuzzle,t.algWithIssues.alg,{animationTimelineLeaves:t.animationTimelineLeaves})}},U3=class extends ae{derive(t){return{pattern:t.currentPattern,movesInProgress:t.currentMoveInfo.currentMoves}}},V3=!0,qf=class extends ae{async derive(t){try{return V3&&t.kpuzzle.algToTransformation(t.algWithIssues.alg),t.algWithIssues}catch(e){return{alg:new B,issues:new Qa({errors:[`Invalid alg for puzzle: ${e.toString()}`]})}}}},W3=class extends ee{getDefaultValue(){return"start"}},G3=class extends ee{getDefaultValue(){return null}},$3=class extends ae{async derive(t){return t.puzzleLoader.kpuzzle()}},H3=class extends ee{getDefaultValue(){return Wa}},Q3=class extends ae{async derive(t){return t.puzzleLoader.id}},q3=class extends ee{getDefaultValue(){return Wa}},Y3=class extends ae{derive(t){if(t.puzzleIDRequest&&t.puzzleIDRequest!==Wa){const e=ad[t.puzzleIDRequest];return e||this.userVisibleErrorTracker.set({errors:[`Invalid puzzle ID: ${t.puzzleIDRequest}`]}),e}return t.puzzleDescriptionRequest&&t.puzzleDescriptionRequest!==Wa?ew(t.puzzleDescriptionRequest):qi}},K3=class extends ae{derive(t){return{playing:t.playingInfo.playing,atStart:t.detailedTimelineInfo.atStart,atEnd:t.detailedTimelineInfo.atEnd}}canReuseValue(t,e){return t.playing===e.playing&&t.atStart===e.atStart&&t.atEnd===e.atEnd}},Ll,z1,qh,X3=(qh=class extends ae{constructor(){super(...arguments);C(this,Ll)}derive(e){let n=H(this,Ll,z1).call(this,e),r=!1,i=!1;return n>=e.timeRange.end&&(i=!0,n=Math.min(e.timeRange.end,n)),n<=e.timeRange.start&&(r=!0,n=Math.max(e.timeRange.start,n)),{timestamp:n,timeRange:e.timeRange,atStart:r,atEnd:i}}canReuseValue(e,n){return e.timestamp===n.timestamp&&e.timeRange.start===n.timeRange.start&&e.timeRange.end===n.timeRange.end&&e.atStart===n.atStart&&e.atEnd===n.atEnd}},Ll=new WeakSet,z1=function(e){switch(e.timestampRequest){case"auto":return e.setupAnchor==="start"&&e.setupAlg.alg.experimentalIsEmpty()?e.timeRange.end:e.timeRange.start;case"start":return e.timeRange.start;case"end":return e.timeRange.end;case"anchor":return e.setupAnchor==="start"?e.timeRange.start:e.timeRange.end;case"opposite-anchor":return e.setupAnchor==="start"?e.timeRange.end:e.timeRange.start;default:return e.timestampRequest}},qh),Z3=class extends ir{async getDefaultValue(){return{direction:1,playing:!1,untilBoundary:"entire-timeline",loop:!1}}async derive(t,e){const n=await e,r=Object.assign({},n);return Object.assign(r,t),r}canReuseValue(t,e){return t.direction===e.direction&&t.playing===e.playing&&t.untilBoundary===e.untilBoundary&&t.loop===e.loop}},J3=class extends ir{getDefaultValue(){return 1}derive(t){return t<0?1:t}},eb={auto:!0,start:!0,end:!0,anchor:!0,"opposite-anchor":!0},tb=class extends ee{getDefaultValue(){return"auto"}set(t){const e=this.get();super.set((async()=>this.validInput(await t)?t:e)())}validInput(t){return!!(typeof t=="number"||eb[t])}},nb=class extends ee{getDefaultValue(){return"auto"}},rb=class extends ae{derive(t){return{start:0,end:t.indexer.algDuration()}}},ib=class extends ee{getDefaultValue(){return"auto"}},ab=class extends ee{getDefaultValue(){return"auto"}},sb=class extends ae{derive(t){switch(t.puzzleID){case"clock":case"square1":case"redi_cube":case"melindas2x2x2x2":case"tri_quad":case"loopover":return"2D";case"3x3x3":switch(t.visualizationRequest){case"auto":case"3D":return"Cube3D";default:return t.visualizationRequest}default:switch(t.visualizationRequest){case"auto":case"3D":return"PG3D";case"experimental-2D-LL":case"experimental-2D-LL-face":return["2x2x2","4x4x4","megaminx"].includes(t.puzzleID)?"experimental-2D-LL":"2D";default:return t.visualizationRequest}}}},ob=class extends ee{getDefaultValue(){return"auto"}},lb=class extends ee{getDefaultValue(){return"auto"}},cb=class extends ee{getDefaultValue(){return"auto"}},ub=null;async function db(){return ub??(ub=new(await Kt()).ThreeTextureLoader)}var Yf=class extends ae{async derive(t){const{spriteURL:e}=t;return e===null?null:new Promise(async(n,r)=>{const i=()=>{console.warn("Could not load sprite:",e.toString()),n(null)};try{(await db()).load(e.toString(),n,i,i)}catch{i()}})}},fb={facelets:["regular","regular","regular","regular","regular"]};async function hb(t){const{definition:e}=await t.kpuzzle(),n={orbits:{}};for(const r of e.orbits)n.orbits[r.orbitName]={pieces:new Array(r.numPieces).fill(fb)};return n}var xb=class extends ae{getDefaultValue(){return{orbits:{}}}async derive(t){var e,n;return t.stickeringMaskRequest?t.stickeringMaskRequest:t.stickeringRequest==="picture"?{specialBehaviour:"picture",orbits:{}}:((n=(e=t.puzzleLoader).stickeringMask)==null?void 0:n.call(e,t.stickeringRequest??"full"))??hb(t.puzzleLoader)}},pb={"-":"Regular",D:"Dim",I:"Ignored",X:"Invisible",O:"IgnoreNonPrimary",P:"PermuteNonPrimary",o:"Ignoriented","?":"OrientationWithoutPermutation",M:"Mystery","@":"Regular"};function mb(t){const e={orbits:{}},n=t.split(",");for(const r of n){const[i,a,...s]=r.split(":");if(s.length>0)throw new Error(`Invalid serialized orbit stickering mask (too many colons): \`${r}\``);const o=[];e.orbits[i]={pieces:o};for(const l of a){const c=pb[l];o.push(Dm(c))}}return e}var gb=class extends ir{getDefaultValue(){return null}derive(t){return t===null?null:typeof t=="string"?mb(t):t}},yb=class extends ee{getDefaultValue(){return null}},vb=class extends ee{getDefaultValue(){return"auto"}},wb=class extends ee{getDefaultValue(){return{}}},bb=class extends ee{getDefaultValue(){return"auto"}},Sb=class extends ee{getDefaultValue(){return"auto"}},kb=class extends ae{derive(t){return t.colorSchemeRequest==="dark"?"dark":"light"}},Eb=class extends ee{getDefaultValue(){return"auto"}},Mb=class extends ee{getDefaultValue(){return null}},zb=35,Tb=class extends ee{getDefaultValue(){return zb}};function T1(t,e){return t.latitude===e.latitude&&t.longitude===e.longitude&&t.distance===e.distance}var Db=class extends ir{getDefaultValue(){return"auto"}canReuseValue(t,e){return t===e||T1(t,e)}async derive(t,e){if(t==="auto")return"auto";let n=await e;n==="auto"&&(n={});const r=Object.assign({},n);return Object.assign(r,t),typeof r.latitude<"u"&&(r.latitude=Math.min(Math.max(r.latitude,-90),90)),typeof r.longitude<"u"&&(r.longitude=Hu(r.longitude,180,-180)),r}},Cb=class extends ae{canReuseValue(t,e){return T1(t,e)}async derive(t){if(t.orbitCoordinatesRequest==="auto")return Xf(t.puzzleID,t.strategy);const e=Object.assign(Object.assign({},Xf(t.puzzleID,t.strategy),t.orbitCoordinatesRequest));if(Math.abs(e.latitude)<=t.latitudeLimit)return e;{const{latitude:n,longitude:r,distance:i}=e;return{latitude:t.latitudeLimit*Math.sign(n),longitude:r,distance:i}}}},Lb={latitude:31.717474411461005,longitude:0,distance:5.877852522924731},Rb={latitude:35,longitude:30,distance:6},Kf={latitude:35,longitude:30,distance:6.25},Ab={latitude:Math.atan(1/2)*Ga,longitude:0,distance:6.7},Ib={latitude:26.56505117707799,longitude:0,distance:6};function Xf(t,e){if(t[1]==="x")return e==="Cube3D"?Rb:Kf;switch(t){case"megaminx":case"gigaminx":return Ab;case"pyraminx":case"master_tetraminx":return Ib;case"skewb":return Kf;default:return Lb}}var _b=class{constructor(t){k(this,"background",new Sb);k(this,"colorSchemeRequest",new Eb);k(this,"dragInput",new vb);k(this,"foundationDisplay",new lb);k(this,"foundationStickerSpriteURL",new Yu);k(this,"fullscreenElement",new Mb);k(this,"hintFacelet",new iw);k(this,"hintStickerSpriteURL",new Yu);k(this,"initialHintFaceletsAnimation",new cb);k(this,"latitudeLimit",new Tb);k(this,"movePressInput",new bb);k(this,"movePressCancelOptions",new wb);k(this,"orbitCoordinatesRequest",new Db);k(this,"stickeringMaskRequest",new gb);k(this,"stickeringRequest",new yb);k(this,"faceletScale",new ob);k(this,"colorScheme",new kb({colorSchemeRequest:this.colorSchemeRequest}));k(this,"foundationStickerSprite",new Yf({spriteURL:this.foundationStickerSpriteURL}));k(this,"hintStickerSprite",new Yf({spriteURL:this.hintStickerSpriteURL}));k(this,"orbitCoordinates");k(this,"stickeringMask");this.twistyPlayerModel=t,this.orbitCoordinates=new Cb({orbitCoordinatesRequest:this.orbitCoordinatesRequest,latitudeLimit:this.latitudeLimit,puzzleID:t.puzzleID,strategy:t.visualizationStrategy}),this.stickeringMask=new xb({stickeringMaskRequest:this.stickeringMaskRequest,stickeringRequest:this.stickeringRequest,puzzleLoader:t.puzzleLoader})}},Nb={errors:[]},Pb=class extends ee{getDefaultValue(){return Nb}reset(){this.set(this.getDefaultValue())}canReuseValue(t,e){return $u(t.errors,e.errors)}},Fb=class{constructor(){k(this,"userVisibleErrorTracker",new Pb);k(this,"alg",new $f);k(this,"backView",new nb);k(this,"controlPanel",new o3);k(this,"catchUpMove",new S3);k(this,"indexerConstructorRequest",new B3);k(this,"playingInfo",new Z3);k(this,"puzzleDescriptionRequest",new H3);k(this,"puzzleIDRequest",new q3);k(this,"setupAnchor",new W3);k(this,"setupAlg",new $f);k(this,"setupTransformation",new G3);k(this,"tempoScale",new J3);k(this,"timestampRequest",new tb);k(this,"viewerLink",new ib);k(this,"visualizationFormat",new ab);k(this,"title",new Gf);k(this,"videoURL",new Yu);k(this,"competitionID",new Gf);k(this,"animationTimelineLeavesRequest",new b3);k(this,"puzzleLoader",new Y3({puzzleIDRequest:this.puzzleIDRequest,puzzleDescriptionRequest:this.puzzleDescriptionRequest},this.userVisibleErrorTracker));k(this,"kpuzzle",new $3({puzzleLoader:this.puzzleLoader}));k(this,"puzzleID",new Q3({puzzleLoader:this.puzzleLoader}));k(this,"puzzleAlg",new qf({algWithIssues:this.alg,kpuzzle:this.kpuzzle}));k(this,"puzzleSetupAlg",new qf({algWithIssues:this.setupAlg,kpuzzle:this.kpuzzle}));k(this,"visualizationStrategy",new sb({visualizationRequest:this.visualizationFormat,puzzleID:this.puzzleID}));k(this,"indexerConstructor",new O3({alg:this.alg,puzzle:this.puzzleID,visualizationStrategy:this.visualizationStrategy,indexerConstructorRequest:this.indexerConstructorRequest,animationTimelineLeaves:this.animationTimelineLeavesRequest}));k(this,"setupAlgTransformation",new v3({setupAlg:this.puzzleSetupAlg,kpuzzle:this.kpuzzle}));k(this,"indexer",new j3({indexerConstructor:this.indexerConstructor,algWithIssues:this.puzzleAlg,kpuzzle:this.kpuzzle,animationTimelineLeaves:this.animationTimelineLeavesRequest}));k(this,"anchorTransformation",new w3({setupTransformation:this.setupTransformation,setupAnchor:this.setupAnchor,setupAlgTransformation:this.setupAlgTransformation,indexer:this.indexer}));k(this,"timeRange",new rb({indexer:this.indexer}));k(this,"detailedTimelineInfo",new X3({timestampRequest:this.timestampRequest,timeRange:this.timeRange,setupAnchor:this.setupAnchor,setupAlg:this.setupAlg}));k(this,"coarseTimelineInfo",new K3({detailedTimelineInfo:this.detailedTimelineInfo,playingInfo:this.playingInfo}));k(this,"currentMoveInfo",new E3({indexer:this.indexer,detailedTimelineInfo:this.detailedTimelineInfo,catchUpMove:this.catchUpMove}));k(this,"buttonAppearance",new m3({coarseTimelineInfo:this.coarseTimelineInfo,viewerLink:this.viewerLink}));k(this,"currentLeavesSimplified",new k3({currentMoveInfo:this.currentMoveInfo}));k(this,"currentPattern",new M3({anchoredStart:this.anchorTransformation,currentLeavesSimplified:this.currentLeavesSimplified,indexer:this.indexer}));k(this,"legacyPosition",new U3({currentMoveInfo:this.currentMoveInfo,currentPattern:this.currentPattern}));k(this,"twistySceneModel",new _b(this))}async twizzleLink(){const[t,e,n,r,i,a,s,o]=await Promise.all([this.viewerLink.get(),this.puzzleID.get(),this.puzzleDescriptionRequest.get(),this.alg.get(),this.setupAlg.get(),this.setupAnchor.get(),this.twistySceneModel.stickeringRequest.get(),this.twistySceneModel.twistyPlayerModel.title.get()]),l=t==="experimental-twizzle-explorer",c=new URL(`https://alpha.twizzle.net/${l?"explore":"edit"}/`);return r.alg.experimentalIsEmpty()||c.searchParams.set("alg",r.alg.toString()),i.alg.experimentalIsEmpty()||c.searchParams.set("setup-alg",i.alg.toString()),a!=="start"&&c.searchParams.set("setup-anchor",a),s!=="full"&&s!==null&&c.searchParams.set("experimental-stickering",s),l&&n!==Wa?c.searchParams.set("puzzle-description",n):e!=="3x3x3"&&c.searchParams.set("puzzle",e),o&&c.searchParams.set("title",o),c.toString()}experimentalAddAlgLeaf(t,e){const n=t.as(w);n?this.experimentalAddMove(n,e):this.alg.set((async()=>{const i=(await this.alg.get()).alg.concat(new B([t]));return this.timestampRequest.set("end"),i})())}experimentalAddMove(t,e){const n=typeof t=="string"?new w(t):t;this.alg.set((async()=>{const[{alg:r},i]=await Promise.all([this.alg.get(),this.puzzleLoader.get()]),a=Mm(r,n,{...e,...await Yv(i)});return this.timestampRequest.set("end"),this.catchUpMove.set({move:n,amount:0}),a})())}experimentalRemoveFinalChild(){this.alg.set((async()=>{const t=(await this.alg.get()).alg,e=Array.from(t.childAlgNodes()),[n]=e.splice(-1);if(!n)return t;this.timestampRequest.set("end");const r=n.as(w);return r&&this.catchUpMove.set({move:r.invert(),amount:0}),new B(e)})())}};function X(t){return new Error(`Cannot get \`.${t}\` directly from a \`TwistyPlayer\`.`)}var Ob=class extends Tt{constructor(){super(...arguments);k(this,"experimentalModel",new Fb);k(this,"experimentalGet",new Bb(this.experimentalModel))}set alg(e){this.experimentalModel.alg.set(e)}get alg(){throw X("alg")}set experimentalSetupAlg(e){this.experimentalModel.setupAlg.set(e)}get experimentalSetupAlg(){throw X("setup")}set experimentalSetupAnchor(e){this.experimentalModel.setupAnchor.set(e)}get experimentalSetupAnchor(){throw X("anchor")}set puzzle(e){this.experimentalModel.puzzleIDRequest.set(e)}get puzzle(){throw X("puzzle")}set experimentalPuzzleDescription(e){this.experimentalModel.puzzleDescriptionRequest.set(e)}get experimentalPuzzleDescription(){throw X("experimentalPuzzleDescription")}set timestamp(e){this.experimentalModel.timestampRequest.set(e)}get timestamp(){throw X("timestamp")}set hintFacelets(e){this.experimentalModel.twistySceneModel.hintFacelet.set(e)}get hintFacelets(){throw X("hintFacelets")}set experimentalStickering(e){this.experimentalModel.twistySceneModel.stickeringRequest.set(e)}get experimentalStickering(){throw X("experimentalStickering")}set experimentalStickeringMaskOrbits(e){this.experimentalModel.twistySceneModel.stickeringMaskRequest.set(e)}get experimentalStickeringMaskOrbits(){throw X("experimentalStickeringMaskOrbits")}set experimentalFaceletScale(e){this.experimentalModel.twistySceneModel.faceletScale.set(e)}get experimentalFaceletScale(){throw X("experimentalFaceletScale")}set backView(e){this.experimentalModel.backView.set(e)}get backView(){throw X("backView")}set background(e){this.experimentalModel.twistySceneModel.background.set(e)}get background(){throw X("background")}set colorScheme(e){this.experimentalModel.twistySceneModel.colorSchemeRequest.set(e)}get colorScheme(){throw X("colorScheme")}set controlPanel(e){this.experimentalModel.controlPanel.set(e)}get controlPanel(){throw X("controlPanel")}set visualization(e){this.experimentalModel.visualizationFormat.set(e)}get visualization(){throw X("visualization")}set experimentalTitle(e){this.experimentalModel.title.set(e)}get experimentalTitle(){throw X("experimentalTitle")}set experimentalVideoURL(e){this.experimentalModel.videoURL.set(e)}get experimentalVideoURL(){throw X("experimentalVideoURL")}set experimentalCompetitionID(e){this.experimentalModel.competitionID.set(e)}get experimentalCompetitionID(){throw X("experimentalCompetitionID")}set viewerLink(e){this.experimentalModel.viewerLink.set(e)}get viewerLink(){throw X("viewerLink")}set experimentalMovePressInput(e){this.experimentalModel.twistySceneModel.movePressInput.set(e)}get experimentalMovePressInput(){throw X("experimentalMovePressInput")}set experimentalMovePressCancelOptions(e){this.experimentalModel.twistySceneModel.movePressCancelOptions.set(e)}get experimentalMovePressCancelOptions(){throw X("experimentalMovePressCancelOptions")}set cameraLatitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({latitude:e})}get cameraLatitude(){throw X("cameraLatitude")}set cameraLongitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({longitude:e})}get cameraLongitude(){throw X("cameraLongitude")}set cameraDistance(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({distance:e})}get cameraDistance(){throw X("cameraDistance")}set cameraLatitudeLimit(e){this.experimentalModel.twistySceneModel.latitudeLimit.set(e)}get cameraLatitudeLimit(){throw X("cameraLatitudeLimit")}set indexer(e){this.experimentalModel.indexerConstructorRequest.set(e)}get indexer(){throw X("indexer")}set tempoScale(e){this.experimentalModel.tempoScale.set(e)}get tempoScale(){throw X("tempoScale")}set experimentalSprite(e){this.experimentalModel.twistySceneModel.foundationStickerSpriteURL.set(e)}get experimentalSprite(){throw X("experimentalSprite")}set experimentalHintSprite(e){this.experimentalModel.twistySceneModel.hintStickerSpriteURL.set(e)}get experimentalHintSprite(){throw X("experimentalHintSprite")}set fullscreenElement(e){this.experimentalModel.twistySceneModel.fullscreenElement.set(e)}get fullscreenElement(){throw X("fullscreenElement")}set experimentalInitialHintFaceletsAnimation(e){this.experimentalModel.twistySceneModel.initialHintFaceletsAnimation.set(e)}get experimentalInitialHintFaceletsAnimation(){throw X("experimentalInitialHintFaceletsAnimation")}set experimentalDragInput(e){this.experimentalModel.twistySceneModel.dragInput.set(e)}get experimentalDragInput(){throw X("experimentalDragInput")}},Bb=class{constructor(t){this.model=t}async alg(){return(await this.model.alg.get()).alg}async setupAlg(){return(await this.model.setupAlg.get()).alg}puzzleID(){return this.model.puzzleID.get()}async timestamp(){return(await this.model.detailedTimelineInfo.get()).timestamp}},Ic="data-",Ko={alg:"alg","experimental-setup-alg":"experimentalSetupAlg","experimental-setup-anchor":"experimentalSetupAnchor",puzzle:"puzzle","experimental-puzzle-description":"experimentalPuzzleDescription",visualization:"visualization","hint-facelets":"hintFacelets","experimental-stickering":"experimentalStickering","experimental-stickering-mask-orbits":"experimentalStickeringMaskOrbits",background:"background","color-scheme":"colorScheme","control-panel":"controlPanel","back-view":"backView","experimental-initial-hint-facelets-animation":"experimentalInitialHintFaceletsAnimation","viewer-link":"viewerLink","experimental-move-press-input":"experimentalMovePressInput","experimental-drag-input":"experimentalDragInput","experimental-title":"experimentalTitle","experimental-video-url":"experimentalVideoURL","experimental-competition-id":"experimentalCompetitionID","camera-latitude":"cameraLatitude","camera-longitude":"cameraLongitude","camera-distance":"cameraDistance","camera-latitude-limit":"cameraLatitudeLimit","tempo-scale":"tempoScale","experimental-sprite":"experimentalSprite","experimental-hint-sprite":"experimentalHintSprite"},jb=Object.fromEntries(Object.values(Ko).map(t=>[t,!0])),Ub={experimentalMovePressCancelOptions:!0},Zf,D1=Symbol("intersectedCallback");function Vb(t){Zf??(Zf=new IntersectionObserver((e,n)=>{for(const r of e)r.isIntersecting&&r.intersectionRect.height>0&&(r.target[D1](),n.unobserve(r.target))})),Zf.observe(t)}var Rl,ls,Li,cs,us,sn,ds,fs,Al,C1,Yh,Es=(Yh=class extends Ob{constructor(e={}){super();C(this,Al);k(this,"controller",new a3(this.experimentalModel,this));k(this,"buttons");k(this,"experimentalCanvasClickCallback",()=>{});C(this,Rl,new ec(this,"controls-",["auto"].concat(Object.keys(s3))));C(this,ls,document.createElement("div"));C(this,Li,document.createElement("div"));C(this,cs,!1);C(this,us,"auto");C(this,sn,null);C(this,ds,new u1);C(this,fs,null);for(const[n,r]of Object.entries(e)){if(!(jb[n]||Ub[n])){console.warn(`Invalid config passed to TwistyPlayer: ${n}`);break}this[n]=r}}async connectedCallback(){this.addCSS(S1),Vb(this)}async[D1](){if(x(this,cs))return;N(this,cs,!0),this.addElement(x(this,ls)).classList.add("visualization-wrapper"),this.addElement(x(this,Li)).classList.add("error-elem"),x(this,Li).textContent="Error",this.experimentalModel.userVisibleErrorTracker.addFreshListener(n=>{const r=n.errors[0]??null;this.contentWrapper.classList.toggle("error",!!r),r&&(x(this,Li).textContent=r)});const e=new v1(this.experimentalModel,this.controller);this.contentWrapper.appendChild(e),this.buttons=new x1(this.experimentalModel,this.controller,this),this.contentWrapper.appendChild(this.buttons),this.experimentalModel.twistySceneModel.background.addFreshListener(n=>{this.contentWrapper.classList.toggle("checkered",["auto","checkered"].includes(n)),this.contentWrapper.classList.toggle("checkered-transparent",n==="checkered-transparent")}),this.experimentalModel.twistySceneModel.colorScheme.addFreshListener(n=>{this.contentWrapper.classList.toggle("dark-mode",["dark"].includes(n))}),this.experimentalModel.controlPanel.addFreshListener(n=>{x(this,Rl).setValue(n)}),this.experimentalModel.visualizationStrategy.addFreshListener(H(this,Al,C1).bind(this)),this.experimentalModel.puzzleID.addFreshListener(this.flash.bind(this))}experimentalSetFlashLevel(e){N(this,us,e)}flash(){var e;x(this,us)==="auto"&&((e=x(this,sn))==null||e.animate([{opacity:.25},{opacity:1}],{duration:250,easing:"ease-out"}))}async experimentalCurrentVantages(){this.connectedCallback();const e=x(this,sn);return e instanceof qu?e.experimentalVantages():[]}async experimentalCurrentCanvases(){const e=await this.experimentalCurrentVantages(),n=[];for(const r of e)n.push((await r.canvasInfo()).canvas);return n}async experimentalCurrentThreeJSPuzzleObject(e){this.connectedCallback();const r=await(await x(this,ds).promise).experimentalTwisty3DPuzzleWrapper(),i=r.twisty3DPuzzle(),a=(async()=>{await i,await new Promise(s=>setTimeout(s,0))})();if(e){const s=new Qi(async()=>{});r.addEventListener("render-scheduled",async()=>{s.requestIsPending()||(s.requestAnimFrame(),await a,e())})}return i}jumpToStart(e){this.controller.jumpToStart(e)}jumpToEnd(e){this.controller.jumpToEnd(e)}play(){this.controller.togglePlay(!0)}pause(){this.controller.togglePlay(!1)}togglePlay(e){this.controller.togglePlay(e)}experimentalAddMove(e,n){this.experimentalModel.experimentalAddMove(e,n)}experimentalAddAlgLeaf(e,n){this.experimentalModel.experimentalAddAlgLeaf(e,n)}static get observedAttributes(){const e=[];for(const n of Object.keys(Ko))e.push(n,Ic+n);return e}experimentalRemoveFinalChild(){this.experimentalModel.experimentalRemoveFinalChild()}attributeChangedCallback(e,n,r){e.startsWith(Ic)&&(e=e.slice(Ic.length));const i=Ko[e];i&&(this[i]=r)}async experimentalScreenshot(e){return(await Wf(this.experimentalModel,e)).dataURL}async experimentalDownloadScreenshot(e){if(["2D","experimental-2D-LL","experimental-2D-LL-face"].includes(await this.experimentalModel.visualizationStrategy.get())){const r=await x(this,sn).currentTwisty2DPuzzleWrapper().twisty2DPuzzle(),i=new XMLSerializer().serializeToString(r.svgWrapper.svgElement),a=URL.createObjectURL(new Blob([i]));b1(a,e??await w1(this.experimentalModel),"svg")}else await(await Wf(this.experimentalModel)).download(e)}},Rl=new WeakMap,ls=new WeakMap,Li=new WeakMap,cs=new WeakMap,us=new WeakMap,sn=new WeakMap,ds=new WeakMap,fs=new WeakMap,Al=new WeakSet,C1=function(e){var n,r;if(e!==x(this,fs)){(n=x(this,sn))==null||n.remove(),(r=x(this,sn))==null||r.disconnect();let i;switch(e){case"2D":case"experimental-2D-LL":case"experimental-2D-LL-face":{i=new c1(this.experimentalModel.twistySceneModel,e);break}case"Cube3D":case"PG3D":{i=new qu(this.experimentalModel),x(this,ds).handleNewValue(i);break}default:throw new Error("Invalid visualization")}x(this,ls).appendChild(i),N(this,sn,i),N(this,fs,e)}},Yh);Ue.define("twisty-player",Es);var L1=new ht;L1.replaceSync(`
:host {
  display: inline;
}

.wrapper {
  display: inline;
}

a:not(:hover) {
  color: inherit;
  text-decoration: none;
}

twisty-alg-leaf-elem.twisty-alg-comment {
  color: rgba(0, 0, 0, 0.4);
}

.wrapper.current-move {
  background: rgba(66, 133, 244, 0.3);
  margin-left: -0.1em;
  margin-right: -0.1em;
  padding-left: 0.1em;
  padding-right: 0.1em;
  border-radius: 0.1em;
}
`);async function Wb(t){return new Promise((e,n)=>{const r=document.getElementById(t);r&&e(r);const i=new MutationObserver(a=>{for(const s of a)s.attributeName==="id"&&s.target instanceof Element&&s.target.getAttribute("id")===t&&(e(s.target),i.disconnect())});i.observe(document.body,{attributeFilter:["id"],subtree:!0})})}var Gb=.25,Hr=class extends Tt{constructor(t,e,n,r,i,a){if(super({mode:"open"}),this.algOrAlgNode=r,this.classList.add(t),this.addCSS(L1),a){const s=this.contentWrapper.appendChild(document.createElement("a"));s.href="#",s.textContent=e,s.addEventListener("click",o=>{o.preventDefault(),n.twistyAlgViewer.jumpToIndex(n.earliestMoveIndex,i)})}else this.contentWrapper.appendChild(document.createElement("span")).textContent=e}pathToIndex(t){return[]}setCurrentMove(t){this.contentWrapper.classList.toggle("current-move",t)}};Ue.define("twisty-alg-leaf-elem",Hr);var Qr=class extends $a{constructor(e,n){super();k(this,"queue",[]);this.algOrAlgNode=n,this.classList.add(e)}addString(e){this.queue.push(document.createTextNode(e))}addElem(e){return this.queue.push(e.element),e.moveCount}flushQueue(e=1){for(const n of R1(this.queue,e))this.append(n);this.queue=[]}pathToIndex(e){return[]}};Ue.define("twisty-alg-wrapper-elem",Qr);function $b(t){return t===1?-1:1}function Hb(t,e){return e<0?$b(t):t}function R1(t,e){if(e===1)return t;const n=Array.from(t);return n.reverse(),n}var Qb=class extends Hi{traverseAlg(t,e){var a,s,o;let n=0;const r=new Qr("twisty-alg-alg",t);let i=!0;for(const l of pm(t.childAlgNodes(),e.direction))i||r.addString(" "),i=!1,(a=l.as(Qe))!=null&&a.experimentalNISSGrouping&&r.addString("^("),(s=l.as($e))!=null&&s.experimentalNISSPlaceholder||(n+=r.addElem(this.traverseAlgNode(l,{earliestMoveIndex:e.earliestMoveIndex+n,twistyAlgViewer:e.twistyAlgViewer,direction:e.direction}))),(o=l.as(Qe))!=null&&o.experimentalNISSGrouping&&r.addString(")");return r.flushQueue(e.direction),{moveCount:n,element:r}}traverseGrouping(t,e){const n=t.experimentalAsSquare1Tuple(),r=Hb(e.direction,t.amount);let i=0;const a=new Qr("twisty-alg-grouping",t);return a.addString("("),n?(i+=a.addElem({moveCount:1,element:new Hr("twisty-alg-move",n[0].amount.toString(),e,n[0],!0,!0)}),a.addString(", "),i+=a.addElem({moveCount:1,element:new Hr("twisty-alg-move",n[1].amount.toString(),e,n[1],!0,!0)})):i+=a.addElem(this.traverseAlg(t.alg,{earliestMoveIndex:e.earliestMoveIndex+i,twistyAlgViewer:e.twistyAlgViewer,direction:r})),a.addString(`)${t.experimentalRepetitionSuffix}`),a.flushQueue(),{moveCount:i*Math.abs(t.amount),element:a}}traverseMove(t,e){const n=new Hr("twisty-alg-move",t.toString(),e,t,!0,!0);return e.twistyAlgViewer.highlighter.addMove(t[dt],n),{moveCount:1,element:n}}traverseCommutator(t,e){let n=0;const r=new Qr("twisty-alg-commutator",t);r.addString("["),r.flushQueue();const[i,a]=R1([t.A,t.B],e.direction);return n+=r.addElem(this.traverseAlg(i,{earliestMoveIndex:e.earliestMoveIndex+n,twistyAlgViewer:e.twistyAlgViewer,direction:e.direction})),r.addString(", "),n+=r.addElem(this.traverseAlg(a,{earliestMoveIndex:e.earliestMoveIndex+n,twistyAlgViewer:e.twistyAlgViewer,direction:e.direction})),r.flushQueue(e.direction),r.addString("]"),r.flushQueue(),{moveCount:n*2,element:r}}traverseConjugate(t,e){let n=0;const r=new Qr("twisty-alg-conjugate",t);r.addString("[");const i=r.addElem(this.traverseAlg(t.A,{earliestMoveIndex:e.earliestMoveIndex+n,twistyAlgViewer:e.twistyAlgViewer,direction:e.direction}));return n+=i,r.addString(": "),n+=r.addElem(this.traverseAlg(t.B,{earliestMoveIndex:e.earliestMoveIndex+n,twistyAlgViewer:e.twistyAlgViewer,direction:e.direction})),r.addString("]"),r.flushQueue(),{moveCount:n+i,element:r}}traversePause(t,e){return t.experimentalNISSGrouping?this.traverseAlg(t.experimentalNISSGrouping.alg,e):{moveCount:1,element:new Hr("twisty-alg-pause",".",e,t,!0,!0)}}traverseNewline(t,e){const n=new Qr("twisty-alg-newline",t);return n.append(document.createElement("br")),{moveCount:0,element:n}}traverseLineComment(t,e){return{moveCount:0,element:new Hr("twisty-alg-line-comment",`//${t.text}`,e,t,!1,!1)}}},qb=mt(Qb),Yb=class{constructor(){k(this,"moveCharIndexMap",new Map);k(this,"currentElem",null)}addMove(t,e){this.moveCharIndexMap.set(t,e)}set(t){var n,r;const e=t?this.moveCharIndexMap.get(t[dt])??null:null;this.currentElem!==e&&((n=this.currentElem)==null||n.classList.remove("twisty-alg-current-move"),(r=this.currentElem)==null||r.setCurrentMove(!1),e==null||e.classList.add("twisty-alg-current-move"),e==null||e.setCurrentMove(!0),this.currentElem=e)}},hs,on,Il,I1,Kh,A1=(Kh=class extends $a{constructor(e){super();C(this,Il);k(this,"highlighter",new Yb);C(this,hs);C(this,on,null);k(this,"lastClickTimestamp",null);e!=null&&e.twistyPlayer&&(this.twistyPlayer=e==null?void 0:e.twistyPlayer)}connectedCallback(){}setAlg(e){N(this,hs,qb(e,{earliestMoveIndex:0,twistyAlgViewer:this,direction:1}).element),this.textContent="",this.appendChild(x(this,hs))}get twistyPlayer(){return x(this,on)}set twistyPlayer(e){H(this,Il,I1).call(this,e)}async jumpToIndex(e,n){const r=x(this,on);if(r){r.pause();const i=(async()=>{const a=await r.experimentalModel.indexer.get(),s=n?a.moveDuration(e)*Gb:0;return a.indexToMoveStartTimestamp(e)+a.moveDuration(e)-s})();r.experimentalModel.timestampRequest.set(await i),this.lastClickTimestamp===await i?(r.play(),this.lastClickTimestamp=null):this.lastClickTimestamp=await i}}async attributeChangedCallback(e,n,r){if(e==="for"){let i=document.getElementById(r);if(i||console.info("for= elem does not exist, waiting for one"),await customElements.whenDefined("twisty-player"),i=await Wb(r),!(i instanceof Es)){console.warn("for= elem is not a twisty-player");return}this.twistyPlayer=i}}static get observedAttributes(){return["for"]}},hs=new WeakMap,on=new WeakMap,Il=new WeakSet,I1=async function(e){if(x(this,on)){console.warn("twisty-player reassignment is not supported");return}if(e===null)throw new Error("clearing twistyPlayer is not supported");N(this,on,e),x(this,on).experimentalModel.alg.addFreshListener(i=>{this.setAlg(i.alg)});const n=(await x(this,on).experimentalModel.alg.get()).alg,r=dt in n?n:B.fromString(n.toString());this.setAlg(r),e.experimentalModel.currentMoveInfo.addFreshListener(i=>{let a=i.currentMoves[0];if(a??(a=i.movesStarting[0]),a??(a=i.movesFinishing[0]),!a)this.highlighter.set(null);else{const s=a.move;this.highlighter.set(s)}}),e.experimentalModel.detailedTimelineInfo.addFreshListener(i=>{i.timestamp!==this.lastClickTimestamp&&(this.lastClickTimestamp=null)})},Kh);Ue.define("twisty-alg-viewer",A1);var Kb=class extends Hi{traverseAlg(t,e){const n=[];let r=0;for(const i of t.childAlgNodes()){const a=this.traverseAlgNode(i,{numMovesSofar:e.numMovesSofar+r});n.push(a.tokens),r+=a.numLeavesInside}return{tokens:Array.prototype.concat(...n),numLeavesInside:r}}traverseGrouping(t,e){const n=this.traverseAlg(t.alg,e);return{tokens:n.tokens,numLeavesInside:n.numLeavesInside*t.amount}}traverseMove(t,e){return{tokens:[{leaf:t,idx:e.numMovesSofar}],numLeavesInside:1}}traverseCommutator(t,e){const n=this.traverseAlg(t.A,e),r=this.traverseAlg(t.B,{numMovesSofar:e.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:n.numLeavesInside*2+r.numLeavesInside}}traverseConjugate(t,e){const n=this.traverseAlg(t.A,e),r=this.traverseAlg(t.B,{numMovesSofar:e.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:n.numLeavesInside*2+r.numLeavesInside*2}}traversePause(t,e){return{tokens:[{leaf:t,idx:e.numMovesSofar}],numLeavesInside:1}}traverseNewline(t,e){return{tokens:[],numLeavesInside:0}}traverseLineComment(t,e){return{tokens:[],numLeavesInside:0}}},Xb=mt(Kb),Zb=class extends ee{getDefaultValue(){return""}},Jb=class extends ae{derive(t){return E1(t.value)}},e4=class extends ir{getDefaultValue(){return{selectionStart:0,selectionEnd:0,endChangedMostRecently:!1}}async derive(t,e){const{selectionStart:n,selectionEnd:r}=t,i=await e,a=t.selectionStart===i.selectionStart&&t.selectionEnd!==(await e).selectionEnd;return{selectionStart:n,selectionEnd:r,endChangedMostRecently:a}}},t4=class extends ae{derive(t){return t.selectionInfo.endChangedMostRecently?t.selectionInfo.selectionEnd:t.selectionInfo.selectionStart}},n4=class extends ae{derive(t){return Xb(t.algWithIssues.alg,{numMovesSofar:0}).tokens}},r4=class extends ae{derive(t){function e(r){if(r===null)return null;let i;return t.targetChar<r.leaf[dt]?i="before":t.targetChar===r.leaf[dt]?i="start":t.targetChar<r.leaf[qt]?i="inside":t.targetChar===r.leaf[qt]?i="end":i="after",{leafInfo:r,where:i}}let n=null;for(const r of t.leafTokens){if(t.targetChar<r.leaf[dt]&&n!==null)return e(n);if(t.targetChar<=r.leaf[qt])return e(r);n=r}return e(n)}},i4=class{constructor(){k(this,"valueProp",new Zb);k(this,"selectionProp",new e4);k(this,"targetCharProp",new t4({selectionInfo:this.selectionProp}));k(this,"algEditorAlgWithIssues",new Jb({value:this.valueProp}));k(this,"leafTokensProp",new n4({algWithIssues:this.algEditorAlgWithIssues}));k(this,"leafToHighlight",new r4({leafTokens:this.leafTokensProp,targetChar:this.targetCharProp}))}},a4="//";function s4(t){try{return B.fromString(t)}catch{return null}}function _1(t,e){const n=t.indexOf(e);return n===-1?[t,""]:[t.slice(0,n),t.slice(n)]}function Jf(t){const e=[];for(const n of t.split(`
`)){let[r,i]=_1(n,a4);r=r.replaceAll("","'"),e.push(r+i)}return e.join(`
`)}function o4(t,e){const{value:n}=t,{selectionStart:r,selectionEnd:i}=t,a=n.slice(0,r),s=n.slice(i);e=e.replaceAll(`\r
`,`
`);const o=a.match(/\/\/[^\n]*$/),l=n[r-1]==="/"&&e[0]==="/",c=o||l,u=e.match(/\/\/[^\n]*$/);let f=e;if(c){const[L,m]=_1(e,`
`);f=L+Jf(m)}else f=Jf(e);const d=!c&&r!==0&&![`
`," "].includes(f[0])&&![`
`," "].includes(n[r-1]),h=!u&&i!==n.length&&![`
`," "].includes(f.at(-1))&&![`
`," "].includes(n[i]);function p(L,m){const g=L+f+m,v=!!s4(a+g+s);return v&&(f=g),v}d&&h&&p(" "," ")||d&&p(" ","")||h&&p(""," "),(oe==null?void 0:oe.execCommand("insertText",!1,f))||t.setRangeText(f,r,i,"end")}var N1=new ht;N1.replaceSync(`
:host {
  width: 384px;
  display: grid;
}

.wrapper {
  /*overflow: hidden;
  resize: horizontal;*/

  background: var(--background, none);
  display: grid;
}

textarea, .carbon-copy {
  grid-area: 1 / 1 / 2 / 2;

  width: 100%;
  font-family: sans-serif;
  line-height: 1.2em;

  font-size: var(--font-size, inherit);
  font-family: var(--font-family, sans-serif);

  box-sizing: border-box;

  padding: var(--padding, 0.5em);
  /* Prevent horizontal growth. */
  overflow-x: hidden;
}

textarea {
  resize: none;
  background: none;
  z-index: 2;
  border: 1px solid var(--border-color, rgba(0, 0, 0, 0.25));
  overflow: hidden;
}

.carbon-copy {
  white-space: pre-wrap;
  word-wrap: break-word;
  color: transparent;
  user-select: none;
  pointer-events: none;

  z-index: 1;
}

.carbon-copy .highlight {
  background: var(--highlight-color, rgba(255, 128, 0, 0.5));
  padding: 0.1em 0.2em;
  margin: -0.1em -0.2em;
  border-radius: 0.2em;
}

.wrapper.issue-warning textarea,
.wrapper.valid-for-puzzle-warning textarea {
  outline: none;
  border: 1px solid rgba(200, 200, 0, 0.5);
  background: rgba(255, 255, 0, 0.1);
}

.wrapper.issue-error textarea,
.wrapper.valid-for-puzzle-error textarea {
  outline: none;
  border: 1px solid red;
  background: rgba(255, 0, 0, 0.1);
}
`);var qs="for-twisty-player",eh="placeholder",th="twisty-player-prop",me,Pn,Mr,ln,zr,_l,Vt,Fn,hn,go,xs,Ku,ps,Xh,l4=(Xh=class extends Tt{constructor(e){super();C(this,hn);k(this,"model",new i4);C(this,me,document.createElement("textarea"));C(this,Pn,document.createElement("div"));C(this,Mr,document.createElement("span"));C(this,ln,document.createElement("span"));C(this,zr,document.createElement("span"));C(this,_l,new ec(this,"valid-for-puzzle-",["none","warning","error"]));C(this,Vt,null);C(this,Fn);k(this,"debugNeverRequestTimestamp",!1);C(this,xs,!1);C(this,ps,null);x(this,Pn).classList.add("carbon-copy"),this.addElement(x(this,Pn)),x(this,me).rows=1,this.addElement(x(this,me)),x(this,Mr).classList.add("prefix"),x(this,Pn).appendChild(x(this,Mr)),x(this,ln).classList.add("highlight"),x(this,Pn).appendChild(x(this,ln)),x(this,zr).classList.add("suffix"),x(this,Pn).appendChild(x(this,zr)),x(this,me).placeholder="Alg",x(this,me).setAttribute("spellcheck","false"),this.addCSS(N1),x(this,me).addEventListener("input",()=>{N(this,xs,!0),this.onInput()}),x(this,me).addEventListener("blur",()=>this.onBlur()),document.addEventListener("selectionchange",()=>this.onSelectionChange()),e!=null&&e.twistyPlayer&&(this.twistyPlayer=e.twistyPlayer),N(this,Fn,(e==null?void 0:e.twistyPlayerProp)??"alg"),(e==null?void 0:e.twistyPlayerProp)==="alg"&&this.model.leafToHighlight.addFreshListener(n=>{n&&this.highlightLeaf(n.leafInfo.leaf)})}connectedCallback(){x(this,me).addEventListener("paste",e=>{var r;const n=(r=e.clipboardData)==null?void 0:r.getData("text");n&&(o4(x(this,me),n),e.preventDefault(),this.onInput())})}set algString(e){x(this,me).value=e,this.onInput()}get algString(){return x(this,me).value}set placeholder(e){x(this,me).placeholder=e}onInput(){var n;x(this,ln).hidden=!0,this.highlightLeaf(null);const e=x(this,me).value.trimEnd();this.model.valueProp.set(e),(n=x(this,hn,go))==null||n.set(e)}async onSelectionChange(){if(document.activeElement!==this||this.shadow.activeElement!==x(this,me)||x(this,Fn)!=="alg")return;const{selectionStart:e,selectionEnd:n}=x(this,me);this.model.selectionProp.set({selectionStart:e,selectionEnd:n})}async onBlur(){}setAlgIssueClassForPuzzle(e){x(this,_l).setValue(e)}highlightLeaf(e){if(e===null){x(this,Mr).textContent="",x(this,ln).textContent="",x(this,zr).textContent=H(this,hn,Ku).call(this,x(this,me).value);return}e!==x(this,ps)&&(N(this,ps,e),x(this,Mr).textContent=x(this,me).value.slice(0,e[dt]),x(this,ln).textContent=x(this,me).value.slice(e[dt],e[qt]),x(this,zr).textContent=H(this,hn,Ku).call(this,x(this,me).value.slice(e[qt])),x(this,ln).hidden=!1)}get twistyPlayer(){return x(this,Vt)}set twistyPlayer(e){var n;if(x(this,Vt)){console.warn("twisty-player reassignment/clearing is not supported");return}N(this,Vt,e),e&&((async()=>this.algString=x(this,hn,go)?(await x(this,hn,go).get()).alg.toString():"")(),x(this,Fn)==="alg"&&((n=x(this,Vt))==null||n.experimentalModel.puzzleAlg.addFreshListener(r=>{if(r.issues.errors.length===0){this.setAlgIssueClassForPuzzle(r.issues.warnings.length===0?"none":"warning");const i=r.alg,a=B.fromString(this.algString);i.isIdentical(a)||(this.algString=i.toString(),this.onInput())}else this.setAlgIssueClassForPuzzle("error")}),this.model.leafToHighlight.addFreshListener(async r=>{if(r===null)return;const[i,a]=await Promise.all([await e.experimentalModel.indexer.get(),await e.experimentalModel.timestampRequest.get()]);if(a==="auto"&&!x(this,xs))return;const s=i.indexToMoveStartTimestamp(r.leafInfo.idx),o=i.moveDuration(r.leafInfo.idx);let l;switch(r.where){case"before":{l=s;break}case"start":case"inside":{l=s+o/4;break}case"end":case"after":{l=s+o;break}default:throw console.log("invalid where"),new Error("Invalid where!")}this.debugNeverRequestTimestamp||e.experimentalModel.timestampRequest.set(l)}),e.experimentalModel.currentLeavesSimplified.addFreshListener(async r=>{const a=(await e.experimentalModel.indexer.get()).getAnimLeaf(r.patternIndex);this.highlightLeaf(a)})))}attributeChangedCallback(e,n,r){switch(e){case qs:{const i=document.getElementById(r);if(!i){console.warn(`${qs}= elem does not exist`);return}if(!(i instanceof Es)){console.warn(`${qs}=is not a twisty-player`);return}this.twistyPlayer=i;return}case eh:{this.placeholder=r;return}case th:{if(x(this,Vt))throw console.log("cannot set prop"),new Error("cannot set prop after twisty player");N(this,Fn,r);return}}}static get observedAttributes(){return[qs,eh,th]}},me=new WeakMap,Pn=new WeakMap,Mr=new WeakMap,ln=new WeakMap,zr=new WeakMap,_l=new WeakMap,Vt=new WeakMap,Fn=new WeakMap,hn=new WeakSet,go=function(){return x(this,Vt)===null?null:x(this,Vt).experimentalModel[x(this,Fn)]},xs=new WeakMap,Ku=function(e){return e.endsWith(`
`)?`${e} `:e},ps=new WeakMap,Xh);Ue.define("twisty-alg-editor",l4);var yo=new ht;yo.replaceSync(`
.wrapper {
  background: rgb(255, 245, 235);
  border: 1px solid rgba(0, 0, 0, 0.25);

  /* Workaround from https://stackoverflow.com/questions/40010597/how-do-i-apply-opacity-to-a-css-color-variable */
  --text-color: 0, 0, 0;
  --heading-background: 255, 230, 210;

  color: rgb(var(--text-color));
}

.setup-alg, twisty-alg-viewer {
  padding: 0.5em 1em;
}

.heading {
  background: rgba(var(--heading-background), 1);
  color: rgba(var(--text-color), 1);
  font-weight: bold;
  padding: 0.25em 0.5em;
  display: grid;
  grid-template-columns: auto 1fr;

  /* For the move count hover elems. */
  position: sticky;
}

.heading.title {
  background: rgb(255, 245, 235);
  font-size: 150%;
  white-space: pre-wrap;
}

.heading .move-count {
  font-weight: initial;
  text-align: right;
  color: rgba(var(--text-color), 0.4);
}

.wrapper.dark-mode .heading .move-count {
  color: rgba(var(--text-color), 0.7);
}

.heading a {
  text-decoration: none;
  color: inherit;
}

twisty-player {
  width: 100%;
  min-height: 128px;
  height: 288px;
  resize: vertical;
  overflow-y: hidden;
}

twisty-player + .heading {
  padding-top: 0.5em;
}

twisty-alg-viewer {
  display: inline-block;
}

.wrapper {
  container-type: inline-size;
}

.scrollable-region {
  border-top: 1px solid rgba(0, 0, 0, 0.25);
}

.scrollable-region {
  max-height: 18em;
  overflow-y: auto;
}

@container (min-width: 512px) {
  .responsive-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
  twisty-player {
    height: 320px
  }
  .scrollable-region {
    border-top: none;
    border-left: 1px solid rgba(0, 0, 0, 0.25);
    contain: strict;
    max-height: 100cqh;
  }
}

.wrapper:fullscreen,
.wrapper:fullscreen .responsive-wrapper {
  width: 100%;
  height: 100%;
}

.wrapper:fullscreen twisty-player,
.wrapper:fullscreen .scrollable-region {
  height: 50%;
}

@container (min-width: 512px) {
  .wrapper:fullscreen twisty-player,
  .wrapper:fullscreen .scrollable-region {
    height: 100%;
  }
}

/* TODO: dedup with Twizzle Editor */
.move-count > span:hover:before {
  background-color: rgba(var(--heading-background), 1);
  color: rgba(var(--text-color), 1);
  backdrop-filter: blur(4px);
  z-index: 100;
  position: absolute;
  padding: 0.5em;
  top: 1.5em;
  right: 0;
  content: attr(data-before);
  white-space: pre-wrap;
  text-align: left;
}

.move-count > span:hover {
  color: rgba(var(--text-color), 1);
  cursor: help;
}
`);var P1=new ht;P1.replaceSync(`
.wrapper {
  background: white;
  --heading-background: 232, 239, 253
}

.wrapper.dark-mode {
  --text-color: 236, 236, 236;
  --heading-background: 29, 29, 29;
}

.scrollable-region {
  overflow-y: auto;
}

.wrapper.dark-mode {
  background: #262626;
  --text-color: 142, 142, 142;
  border-color: #FFFFFF44;
  color-scheme: dark;
}

.wrapper.dark-mode .heading:not(.title) {
  background: #1d1d1d;
}

.heading.title {
  background: none;
}
`);function c4(t="",e=location.href){const n={alg:"alg","setup-alg":"experimental-setup-alg","setup-anchor":"experimental-setup-anchor",puzzle:"puzzle",stickering:"experimental-stickering","puzzle-description":"experimental-puzzle-description",title:"experimental-title","video-url":"experimental-video-url",competition:"experimental-competition-id"},r=new URL(e).searchParams,i={};for(const[a,s]of Object.entries(n)){const o=r.get(t+a);if(o!==null){const l=Ko[s];i[l]=o}}return i}var Ys="outer block moves (e.g. R, Rw, or 4r)",Ks="inner block moves (e.g. M or 2-5r)",nh={OBTM:`HTM = OBTM ("Outer Block Turn Metric"):
 ${Ks} count as 2 turns
 ${Ys} count as 1 turn
 rotations (e.g. x) count as 0 turns`,OBQTM:`QTM = OBQTM ("Outer Block Quantum Turn Metric"):
 ${Ks} count as 2 turns per quantum (e.g. M2 counts as 4)
 ${Ys} count as 1 turn per quantum (e.g. R2 counts as 2)
 rotations (e.g. x) count as 0 turns`,RBTM:`STM = RBTM ("Range Block Turn Metric"):
 ${Ks} count as 1 turn
 ${Ys} count as 1 turn
 rotations (e.g. x) count as 0 turns`,RBQTM:`SQTM = RBQTM ("Range Block Quantum Turn Metric"):
 ${Ks} count as 1 turn per quantum (e.g. M2 counts as 2)
 ${Ys} count as 1 turn per quantum (e.g. R2 counts as 2)
 rotations (e.g. x) count as 0 turns`,ETM:`ETM ("Execution Turn Metric"):
 all moves (including rotations) count as 1 turn`},u4={OBTM:"OB",OBQTM:"OBQ",RBTM:"RB",RBQTM:"RBQ",ETM:"E"},xn,Xu,Nl,On,Tr,ms,vo,Zh,d4=(Zh=class extends Tt{constructor(e){super({mode:"open"});C(this,xn);k(this,"twistyPlayer",null);k(this,"a",null);C(this,Nl);C(this,On);C(this,Tr);C(this,ms);this.options=e}async connectedCallback(){var a,s,o,l,c;if(N(this,Tr,this.addElement(document.createElement("div"))),x(this,Tr).classList.add("responsive-wrapper"),((a=this.options)==null?void 0:a.colorScheme)==="dark"&&this.contentWrapper.classList.add("dark-mode"),this.addCSS(yo),(s=this.options)!=null&&s.cdnForumTweaks&&this.addCSS(P1),this.a=this.querySelector("a"),!this.a)return;const e=c4("",this.a.href),n=(o=this.a)==null?void 0:o.href,{hostname:r,pathname:i}=new URL(n);if(r!=="alpha.twizzle.net"){H(this,xn,Xu).call(this);return}if(["/edit/","/explore/"].includes(i)){const u=i==="/explore/";if(e.puzzle&&!(e.puzzle in ad)){const h=(await Z(async()=>{const{getPuzzleDescriptionString:p}=await import("./index.BMFe2pge.js");return{getPuzzleDescriptionString:p}},[])).getPuzzleDescriptionString(e.puzzle);delete e.puzzle,e.experimentalPuzzleDescription=h}if(this.twistyPlayer=x(this,Tr).appendChild(new Es({background:(l=this.options)!=null&&l.cdnForumTweaks?"checkered-transparent":"checkered",colorScheme:((c=this.options)==null?void 0:c.colorScheme)==="dark"?"dark":"light",...e,viewerLink:u?"experimental-twizzle-explorer":"auto"})),this.twistyPlayer.fullscreenElement=this.contentWrapper,e.experimentalTitle&&(this.twistyPlayer.experimentalTitle=e.experimentalTitle),N(this,On,x(this,Tr).appendChild(document.createElement("div"))),x(this,On).classList.add("scrollable-region"),e.experimentalTitle&&H(this,xn,vo).call(this,e.experimentalTitle).classList.add("title"),e.experimentalSetupAlg){H(this,xn,vo).call(this,"Setup",async()=>{var p,y;return((y=await((p=this.twistyPlayer)==null?void 0:p.experimentalModel.setupAlg.get()))==null?void 0:y.alg.toString())??null});const h=x(this,On).appendChild(document.createElement("div"));h.classList.add("setup-alg"),h.textContent=new B(e.experimentalSetupAlg).toString()}const f=H(this,xn,vo).call(this,"Moves",async()=>{var h,p;return((p=await((h=this.twistyPlayer)==null?void 0:h.experimentalModel.alg.get()))==null?void 0:p.alg.toString())??null});N(this,ms,f.appendChild(f4(this.twistyPlayer.experimentalModel))),x(this,ms).classList.add("move-count"),x(this,On).appendChild(new A1({twistyPlayer:this.twistyPlayer})).part.add("twisty-alg-viewer")}else H(this,xn,Xu).call(this)}},xn=new WeakSet,Xu=function(){var n;if(this.contentWrapper.textContent="",this.a){const r=this.contentWrapper.appendChild(document.createElement("span"));r.textContent="",r.title="Could not show a player for link",this.addElement(this.a)}this.removeCSS(yo);const e=this.shadow.adoptedStyleSheets.indexOf(yo);typeof e<"u"&&this.shadow.adoptedStyleSheets.splice(e,e+1),(n=x(this,Nl))==null||n.remove()},Nl=new WeakMap,On=new WeakMap,Tr=new WeakMap,ms=new WeakMap,vo=function(e,n){const r=x(this,On).appendChild(document.createElement("div"));r.classList.add("heading");const i=r.appendChild(document.createElement("span"));if(i.textContent=e,n){i.textContent+=" ";const a=i.appendChild(document.createElement("a"));a.textContent="",a.href="#",a.title="Copy to clipboard";async function s(o){a.textContent=o,await new Promise(l=>setTimeout(l,2e3)),a.textContent===o&&(a.textContent="")}a.addEventListener("click",async o=>{o.preventDefault(),a.textContent="";const l=await n();if(l)try{await navigator.clipboard.writeText(l),s("")}catch(c){throw s(""),c}else s("")})}return r},Zh);Ue.define("twizzle-link",d4);function f4(t,e=document.createElement("span")){async function n(){const[r,i]=await Promise.all([t.puzzleAlg.get(),t.puzzleLoader.get()]);if(r.issues.errors.length!==0){e.textContent="";return}let a=!0;function s(o){a?a=!1:e.append(")(");const l=e.appendChild(document.createElement("span")),c=Lw(i,o,r.alg);l.append(`${u4[o]}: `);const u=l.appendChild(document.createElement("span"));u.textContent=c.toString(),u.classList.add("move-number"),l.setAttribute("data-before",nh[o]??""),l.setAttribute("title",nh[o]??"")}e.textContent="(",i.id==="3x3x3"?(s("OBTM"),s("OBQTM"),s("RBTM")):i.pg&&(s("RBTM"),s("RBQTM")),s("ETM"),e.append(")")}return t.puzzleAlg.addFreshListener(n),t.puzzleID.addFreshListener(n),e}const Ie=Object.freeze({IDLE:0,READY:1,RUNNING:2,STOPPED:3}),F1=V.createContext(null),h4=new Es({puzzle:"3x3x3",visualization:"PG3D",alg:"",experimentalSetupAnchor:"start",background:"none",controlPanel:"none",hintFacelets:"none",experimentalDragInput:"none",cameraLatitude:0,cameraLongitude:0,cameraLatitudeLimit:0,tempoScale:5}),x4=({children:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState({}),[a,s]=V.useState(""),[o,l]=V.useState(""),[c,u]=V.useState(0),[f,d]=V.useState([]),[h,p]=V.useState(Ie.IDLE),[y,L]=V.useState([]),[m,g]=V.useState(!1),v=V.useRef(h4),E=V.useRef(e),z=V.useRef(h),D=V.useRef([]),[A,F]=V.useState([]),P=V.useRef(f),O=V.useRef(c),Q=V.useRef(r),he=V.useRef(a),xe=V.useRef(o),[De,Ke]=V.useState([]),[be,Pe]=V.useState(!1);return V.useEffect(()=>{E.current=e},[e]),V.useEffect(()=>{z.current=h},[h]),b.jsx(F1.Provider,{value:{connection:e,hardwareInfo:r,batteryLevel:c,scramble:f,lastScrambleRef:P,showScramble:m,scrambleDisplay:De,timerState:h,lastMoves:y,results:A,connectionRef:E,timerStateRef:z,twistyPlayerRef:v,solutionMovesRef:D,batteryLevelRef:O,hardwareInfoRef:Q,deviceMacRef:xe,deviceNameRef:he,setConnection:n,setHardwareInfo:i,setBatteryLevel:u,setScramble:d,setShowScramble:g,setScrambleDisplay:Ke,setTimerState:p,setLastMoves:L,setResults:F,isAnimating:be,setIsAnimating:Pe,setDeviceMac:l,setDeviceName:s},children:t})},tc=()=>V.useContext(F1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const O1="176",Xs=2e3,rh=2001;function Ge(t,e,n){return Math.max(e,Math.min(n,t))}class Ms{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=a[s+0],h=a[s+1],p=a[s+2],y=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(o===1){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=y;return}if(f!==y||l!==d||c!==h||u!==p){let L=1-o;const m=l*d+c*h+u*p+f*y,g=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){const z=Math.sqrt(v),D=Math.atan2(z,m*g);L=Math.sin(L*D)/z,o=Math.sin(o*D)/z}const E=o*g;if(l=l*L+d*E,c=c*L+h*E,u=u*L+p*E,f=f*L+y*E,L===1-o){const z=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=z,c*=z,u*=z,f*=z}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=a[s],d=a[s+1],h=a[s+2],p=a[s+3];return e[n]=o*p+u*f+l*h-c*d,e[n+1]=l*p+u*d+c*f-o*h,e[n+2]=c*p+u*h+o*d-l*f,e[n+3]=u*p-o*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),f=o(a/2),d=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"YXZ":this._x=d*u*f+c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"ZXY":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f-d*h*p;break;case"ZYX":this._x=d*u*f-c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f+d*h*p;break;case"YZX":this._x=d*u*f+c*h*p,this._y=c*h*f+d*u*p,this._z=c*u*p-d*h*f,this._w=c*u*f-d*h*p;break;case"XZY":this._x=d*u*f-c*h*p,this._y=c*h*f-d*u*p,this._z=c*u*p+d*h*f,this._w=c*u*f+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+o+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>f){const h=2*Math.sqrt(1+r-o-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>f){const h=2*Math.sqrt(1+o-r-f);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ge(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=s*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=a*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Sn{constructor(e=0,n=0,r=0){Sn.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ih.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ih.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*n-a*i),f=2*(a*r-s*n);return this.x=n+l*c+s*f-o*u,this.y=r+l*u+o*c-a*f,this.z=i+l*f+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Ge(this.x,e.x,n.x),this.y=Ge(this.y,e.y,n.y),this.z=Ge(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Ge(this.x,e,n),this.y=Ge(this.y,e,n),this.z=Ge(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ge(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return _c.copy(this).projectOnVector(e),this.sub(_c)}reflect(e){return this.sub(_c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ge(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _c=new Sn,ih=new Ms;class qa{constructor(e,n,r,i,a,s,o,l,c,u,f,d,h,p,y,L){qa.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c,u,f,d,h,p,y,L)}set(e,n,r,i,a,s,o,l,c,u,f,d,h,p,y,L){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=a,m[5]=s,m[9]=o,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=d,m[3]=h,m[7]=p,m[11]=y,m[15]=L,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qa().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/$r.setFromMatrixColumn(e,0).length(),a=1/$r.setFromMatrixColumn(e,1).length(),s=1/$r.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const d=s*u,h=s*f,p=o*u,y=o*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+p*c,n[5]=d-y*c,n[9]=-o*l,n[2]=y-d*c,n[6]=p+h*c,n[10]=s*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,p=c*u,y=c*f;n[0]=d+y*o,n[4]=p*o-h,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-o,n[2]=h*o-p,n[6]=y+d*o,n[10]=s*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,p=c*u,y=c*f;n[0]=d-y*o,n[4]=-s*f,n[8]=p+h*o,n[1]=h+p*o,n[5]=s*u,n[9]=y-d*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const d=s*u,h=s*f,p=o*u,y=o*f;n[0]=l*u,n[4]=p*c-h,n[8]=d*c+y,n[1]=l*f,n[5]=y*c+d,n[9]=h*c-p,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const d=s*l,h=s*c,p=o*l,y=o*c;n[0]=l*u,n[4]=y-d*f,n[8]=p*f+h,n[1]=f,n[5]=s*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*f+p,n[10]=d-y*f}else if(e.order==="XZY"){const d=s*l,h=s*c,p=o*l,y=o*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+y,n[5]=s*u,n[9]=h*f-p,n[2]=p*f-h,n[6]=o*u,n[10]=y*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(p4,e,m4)}lookAt(e,n,r){const i=this.elements;return st.subVectors(e,n),st.lengthSq()===0&&(st.z=1),st.normalize(),Tn.crossVectors(r,st),Tn.lengthSq()===0&&(Math.abs(r.z)===1?st.x+=1e-4:st.z+=1e-4,st.normalize(),Tn.crossVectors(r,st)),Tn.normalize(),Zs.crossVectors(st,Tn),i[0]=Tn.x,i[4]=Zs.x,i[8]=st.x,i[1]=Tn.y,i[5]=Zs.y,i[9]=st.y,i[2]=Tn.z,i[6]=Zs.z,i[10]=st.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],p=r[2],y=r[6],L=r[10],m=r[14],g=r[3],v=r[7],E=r[11],z=r[15],D=i[0],A=i[4],F=i[8],P=i[12],O=i[1],Q=i[5],he=i[9],xe=i[13],De=i[2],Ke=i[6],be=i[10],Pe=i[14],j=i[3],G=i[7],$=i[11],S=i[15];return a[0]=s*D+o*O+l*De+c*j,a[4]=s*A+o*Q+l*Ke+c*G,a[8]=s*F+o*he+l*be+c*$,a[12]=s*P+o*xe+l*Pe+c*S,a[1]=u*D+f*O+d*De+h*j,a[5]=u*A+f*Q+d*Ke+h*G,a[9]=u*F+f*he+d*be+h*$,a[13]=u*P+f*xe+d*Pe+h*S,a[2]=p*D+y*O+L*De+m*j,a[6]=p*A+y*Q+L*Ke+m*G,a[10]=p*F+y*he+L*be+m*$,a[14]=p*P+y*xe+L*Pe+m*S,a[3]=g*D+v*O+E*De+z*j,a[7]=g*A+v*Q+E*Ke+z*G,a[11]=g*F+v*he+E*be+z*$,a[15]=g*P+v*xe+E*Pe+z*S,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],p=e[3],y=e[7],L=e[11],m=e[15];return p*(+a*l*f-i*c*f-a*o*d+r*c*d+i*o*h-r*l*h)+y*(+n*l*h-n*c*d+a*s*d-i*s*h+i*c*u-a*l*u)+L*(+n*c*f-n*o*h-a*s*f+r*s*h+a*o*u-r*c*u)+m*(-i*o*u-n*l*f+n*o*d+i*s*f-r*s*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],y=e[13],L=e[14],m=e[15],g=f*L*c-y*d*c+y*l*h-o*L*h-f*l*m+o*d*m,v=p*d*c-u*L*c-p*l*h+s*L*h+u*l*m-s*d*m,E=u*y*c-p*f*c+p*o*h-s*y*h-u*o*m+s*f*m,z=p*f*l-u*y*l-p*o*d+s*y*d+u*o*L-s*f*L,D=n*g+r*v+i*E+a*z;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/D;return e[0]=g*A,e[1]=(y*d*a-f*L*a-y*i*h+r*L*h+f*i*m-r*d*m)*A,e[2]=(o*L*a-y*l*a+y*i*c-r*L*c-o*i*m+r*l*m)*A,e[3]=(f*l*a-o*d*a-f*i*c+r*d*c+o*i*h-r*l*h)*A,e[4]=v*A,e[5]=(u*L*a-p*d*a+p*i*h-n*L*h-u*i*m+n*d*m)*A,e[6]=(p*l*a-s*L*a-p*i*c+n*L*c+s*i*m-n*l*m)*A,e[7]=(s*d*a-u*l*a+u*i*c-n*d*c-s*i*h+n*l*h)*A,e[8]=E*A,e[9]=(p*f*a-u*y*a-p*r*h+n*y*h+u*r*m-n*f*m)*A,e[10]=(s*y*a-p*o*a+p*r*c-n*y*c-s*r*m+n*o*m)*A,e[11]=(u*o*a-s*f*a-u*r*c+n*f*c+s*r*h-n*o*h)*A,e[12]=z*A,e[13]=(u*y*i-p*f*i+p*r*d-n*y*d-u*r*L+n*f*L)*A,e[14]=(p*o*i-s*y*i-p*r*l+n*y*l+s*r*L-n*o*L)*A,e[15]=(s*f*i-u*o*i+u*r*l-n*f*l-s*r*d+n*o*d)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,u=s+s,f=o+o,d=a*c,h=a*u,p=a*f,y=s*u,L=s*f,m=o*f,g=l*c,v=l*u,E=l*f,z=r.x,D=r.y,A=r.z;return i[0]=(1-(y+m))*z,i[1]=(h+E)*z,i[2]=(p-v)*z,i[3]=0,i[4]=(h-E)*D,i[5]=(1-(d+m))*D,i[6]=(L+g)*D,i[7]=0,i[8]=(p+v)*A,i[9]=(L-g)*A,i[10]=(1-(d+y))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=$r.set(i[0],i[1],i[2]).length();const s=$r.set(i[4],i[5],i[6]).length(),o=$r.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Lt.copy(this);const c=1/a,u=1/s,f=1/o;return Lt.elements[0]*=c,Lt.elements[1]*=c,Lt.elements[2]*=c,Lt.elements[4]*=u,Lt.elements[5]*=u,Lt.elements[6]*=u,Lt.elements[8]*=f,Lt.elements[9]*=f,Lt.elements[10]*=f,n.setFromRotationMatrix(Lt),r.x=a,r.y=s,r.z=o,this}makePerspective(e,n,r,i,a,s,o=Xs){const l=this.elements,c=2*a/(n-e),u=2*a/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,p;if(o===Xs)h=-(s+a)/(s-a),p=-2*s*a/(s-a);else if(o===rh)h=-s/(s-a),p=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,s,o=Xs){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(s-a),d=(n+e)*c,h=(r+i)*u;let p,y;if(o===Xs)p=(s+a)*f,y=-2*f;else if(o===rh)p=a*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=y,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const $r=new Sn,Lt=new qa,p4=new Sn(0,0,0),m4=new Sn(1,1,1),Tn=new Sn,Zs=new Sn,st=new Sn,ah=new qa,sh=new Ms;class zs{constructor(e=0,n=0,r=0,i=zs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Ge(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ge(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(Ge(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Ge(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Ge(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Ge(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return ah.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ah,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return sh.setFromEuler(this),this.setFromQuaternion(sh,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zs.DEFAULT_ORDER="XYZ";typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O1);let B1;qi.kpuzzle().then(t=>B1=t);const Zu="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",j1="UF UR UB UL DF DR DB DL FR FL BR BL".split(" "),U1="UFR URB UBL ULF DRF DFL DLB DBR".split(" "),g4="U L F R B D".split(" "),y4=new Ms().setFromEuler(new zs(15*Math.PI/180,-20*Math.PI/180,0)),V1=new Ms().setFromEuler(new zs(30*Math.PI/180,-30*Math.PI/180,0)),v4=[[1,2,0],[0,2,0],[1,1,0],[0,3,0],[2,0,0],[0,1,0],[1,3,0],[0,0,0],[1,0,0],[1,0,2],[0,1,1],[1,1,1],[0,8,1],[2,3,0],[0,10,1],[1,4,1],[0,5,1],[1,7,2],[1,3,2],[0,0,1],[1,0,1],[0,9,0],[2,2,0],[0,8,0],[1,5,1],[0,4,1],[1,4,2],[1,5,0],[0,4,0],[1,4,0],[0,7,0],[2,5,0],[0,5,0],[1,6,0],[0,6,0],[1,7,0],[1,2,2],[0,3,1],[1,3,1],[0,11,1],[2,1,0],[0,9,1],[1,6,1],[0,7,1],[1,5,2],[1,1,2],[0,2,1],[1,2,1],[0,10,0],[2,4,0],[0,11,0],[1,7,1],[0,6,1],[1,6,2]],w4=[[0,21,15],[5,13,47],[7,45,39],[2,37,23],[29,10,16],[31,18,32],[26,34,40],[24,42,8]],b4=[[1,22],[3,14],[6,46],[4,38],[30,17],[27,9],[25,41],[28,33],[19,12],[20,35],[44,11],[43,36]],Nc="URFDLB",Xo={};j1.forEach((t,e)=>{for(let n=0;n<2;n++)Xo[Zo(t,n)]={piece:e,orientation:n}});U1.forEach((t,e)=>{for(let n=0;n<3;n++)Xo[Zo(t,n)]={piece:e,orientation:n}});function Zo(t,e){return t.slice(e)+t.slice(0,e)}function S4(t){const e=[[],[]];for(let n=0;n<6;n++)if(t.patternData.CENTERS.pieces[n]!==n)throw new Error("non-oriented puzzles are not supported");for(let n=0;n<12;n++)e[0].push(Zo(j1[t.patternData.EDGES.pieces[n]],t.patternData.EDGES.orientation[n]));for(let n=0;n<8;n++)e[1].push(Zo(U1[t.patternData.CORNERS.pieces[n]],t.patternData.CORNERS.orientation[n]));return e.push(g4),e}function k4(t){const e=S4(t);return v4.map(([n,r,i])=>e[n][r][i]).join("")}function E4(t){var r;const e=[];(r=t.match(/.{9}/g))==null||r.forEach(i=>{i.split("").reverse().forEach((a,s)=>{s!=4&&e.push(Nc.indexOf(a))})});const n={CORNERS:{pieces:[],orientation:[]},EDGES:{pieces:[],orientation:[]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}};for(const i of w4){const a=Xo[i.map(s=>Nc[e[s]]).join("")];n.CORNERS.pieces.push(a.piece),n.CORNERS.orientation.push(a.orientation)}for(const i of b4){const a=Xo[i.map(s=>Nc[e[s]]).join("")];n.EDGES.pieces.push(a.piece),n.EDGES.orientation.push(a.orientation)}return new Oi(B1,n)}const M4=t=>{const e=t.join(" ");return new B(e).experimentalSimplify({cancel:!0,puzzleLoader:qi}).toString().split(" ")},z4=()=>{const t=V.useRef(!1),e=V.useRef(null),n=V.useRef(-1),[r,i]=V.useState(!1),{twistyPlayerRef:a,hardwareInfo:s,connection:o,batteryLevel:l}=tc(),c=()=>i(!r),u=async()=>{try{if(!a.current)return;const f=await a.current.experimentalCurrentVantages();if(!f||f.size===0){n.current=requestAnimationFrame(u);return}const d=[...f][0];if(!(d!=null&&d.scene)){n.current=requestAnimationFrame(u);return}const h=await d.scene.scene();if(!(h!=null&&h.quaternion)){n.current=requestAnimationFrame(u);return}h.quaternion.slerp(V1,.25),d.render(),n.current=requestAnimationFrame(u)}catch(f){console.error("Error in animation loop:",f)}};return V.useEffect(()=>{if(!t.current)return e.current&&a.current&&(e.current.appendChild(a.current),t.current=!0,n.current=requestAnimationFrame(u)),()=>{n.current&&cancelAnimationFrame(n.current)}},[a]),b.jsx(b.Fragment,{children:b.jsx("div",{className:"relative",id:"cube",ref:e,children:o&&b.jsxs("div",{className:"absolute flex",style:{flexDirection:"column",right:"-0.80rem",top:"1.25rem"},children:[b.jsx("button",{onClick:c,className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Cube info",children:b.jsx(sv,{size:18})}),b.jsx("button",{className:"p-1.5 rounded-full my-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Settings",children:b.jsx(lv,{size:18})}),b.jsx(dv,{info:{...s,batteryLevel:l,deviceMAC:o==null?void 0:o.deviceMAC,deviceName:o==null?void 0:o.deviceName},isOpen:r,onClose:c})]})})})};var T4={expose:!0};function D4(t){const e=new WeakMap;return{postMessage:t.postMessage.bind(t),addEventListener:(n,r)=>{const i=a=>{"handleEvent"in r?r.handleEvent({data:a}):r({data:a})};t.on("message",i),e.set(r,i)},removeEventListener:(n,r)=>{const i=e.get(r);i&&(t.off("message",i),e.delete(r))},nodeWorker:t,terminate:()=>{t.terminate()}}}var C4=D4,W1=2**53,L4=2097152,R4=11,Pc=new Uint32Array(2);function A4(){globalThis.crypto.getRandomValues(Pc);const t=Pc[0],e=Pc[1];return Math.floor(t*L4)+(e>>R4)}function I4(t){if(typeof t!="number"||t<0||Math.floor(t)!==t)throw new Error("randomUIntBelow() not called with a positive integer value.");if(t>W1)throw new Error(`Called randomUIntBelow() with max === ${t}, which is larger than JavaScript can handle with integer precision.`)}function G1(t){I4(t);for(var e,n,r;;)if(e=A4(),n=Math.floor(e/t),r=n*t,r<=W1-t)return e-r}function $1(t){return t[G1(t.length)]}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H1=Symbol("Comlink.proxy"),_4=Symbol("Comlink.endpoint"),N4=Symbol("Comlink.releaseProxy"),Fc=Symbol("Comlink.finalizer"),wo=Symbol("Comlink.thrown"),Q1=t=>typeof t=="object"&&t!==null||typeof t=="function",P4={canHandle:t=>Q1(t)&&t[H1],serialize(t){const{port1:e,port2:n}=new MessageChannel;return Y1(t,e),[n,[n]]},deserialize(t){return t.start(),X1(t)}},F4={canHandle:t=>Q1(t)&&wo in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},q1=new Map([["proxy",P4],["throw",F4]]);function O4(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function Y1(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!O4(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(dr);let c;try{const u=o.slice(0,-1).reduce((d,h)=>d[h],t),f=o.reduce((d,h)=>d[h],t);switch(s){case"GET":c=f;break;case"SET":u[o.slice(-1)[0]]=dr(i.data.value),c=!0;break;case"APPLY":c=f.apply(u,l);break;case"CONSTRUCT":{const d=new f(...l);c=G4(d)}break;case"ENDPOINT":{const{port1:d,port2:h}=new MessageChannel;Y1(t,h),c=W4(d,[d])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[wo]:0}}Promise.resolve(c).catch(u=>({value:u,[wo]:0})).then(u=>{const[f,d]=tl(u);e.postMessage(Object.assign(Object.assign({},f),{id:a}),d),s==="RELEASE"&&(e.removeEventListener("message",r),K1(e),Fc in t&&typeof t[Fc]=="function"&&t[Fc]())}).catch(u=>{const[f,d]=tl({value:new TypeError("Unserializable return value"),[wo]:0});e.postMessage(Object.assign(Object.assign({},f),{id:a}),d)})}),e.start&&e.start()}function B4(t){return t.constructor.name==="MessagePort"}function K1(t){B4(t)&&t.close()}function X1(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:a}=i;if(!a||!a.id)return;const s=n.get(a.id);if(s)try{s(a)}finally{n.delete(a.id)}}),Ju(t,n,[],e)}function Js(t){if(t)throw new Error("Proxy has been released and is not useable")}function Z1(t){return qr(t,new Map,{type:"RELEASE"}).then(()=>{K1(t)})}const Jo=new WeakMap,el="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Jo.get(t)||0)-1;Jo.set(t,e),e===0&&Z1(t)});function j4(t,e){const n=(Jo.get(e)||0)+1;Jo.set(e,n),el&&el.register(t,e,t)}function U4(t){el&&el.unregister(t)}function Ju(t,e,n=[],r=function(){}){let i=!1;const a=new Proxy(r,{get(s,o){if(Js(i),o===N4)return()=>{U4(a),Z1(t),e.clear(),i=!0};if(o==="then"){if(n.length===0)return{then:()=>a};const l=qr(t,e,{type:"GET",path:n.map(c=>c.toString())}).then(dr);return l.then.bind(l)}return Ju(t,e,[...n,o])},set(s,o,l){Js(i);const[c,u]=tl(l);return qr(t,e,{type:"SET",path:[...n,o].map(f=>f.toString()),value:c},u).then(dr)},apply(s,o,l){Js(i);const c=n[n.length-1];if(c===_4)return qr(t,e,{type:"ENDPOINT"}).then(dr);if(c==="bind")return Ju(t,e,n.slice(0,-1));const[u,f]=oh(l);return qr(t,e,{type:"APPLY",path:n.map(d=>d.toString()),argumentList:u},f).then(dr)},construct(s,o){Js(i);const[l,c]=oh(o);return qr(t,e,{type:"CONSTRUCT",path:n.map(u=>u.toString()),argumentList:l},c).then(dr)}});return j4(a,t),a}function V4(t){return Array.prototype.concat.apply([],t)}function oh(t){const e=t.map(tl);return[e.map(n=>n[0]),V4(e.map(n=>n[1]))]}const J1=new WeakMap;function W4(t,e){return J1.set(t,e),t}function G4(t){return Object.assign(t,{[H1]:!0})}function tl(t){for(const[e,n]of q1)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},J1.get(t)||[]]}function dr(t){switch(t.type){case"HANDLER":return q1.get(t.name).deserialize(t.value);case"RAW":return t.value}}function qr(t,e,n,r){return new Promise(i=>{const a=$4();e.set(a,i),t.start&&t.start(),t.postMessage(Object.assign({id:a},n),r)})}function $4(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var eg=["U","R","D","L","ALL"],H4=["UR","DR","DL","UL"].concat(eg);function tg(){let t=0;function e(){const i=G1(12);return i!==0&&t++,i<=6?`${i}+`:`${12-i}-`}const n=[];function r(i){for(const a of i)n.push(`${a}${e()}`)}return r(H4),n.push("y2"),r(eg),t<2?tg():n.join(" ")}var Q4=typeof globalThis.Worker>"u"&&typeof globalThis.WorkerNavigator>"u";async function q4(t,e){const{Worker:n}=globalThis.process.getBuiltinModule("node:worker_threads"),r=new n(t,e);return r.unref(),C4(r)}async function Y4(t,e){let n;return Q4?q4(t):(n=new globalThis.Worker(t,{type:e?e.type:void 0}),n)}async function K4(){return import.meta.resolve("./search-worker-entry.js")}function X4(){return new URL("data:text/javascript;base64,aW1wb3J0IHsKICBub2RlRW5kcG9pbnRQb3J0Cn0gZnJvbSAiLi9jaHVuay02V1lSTjI3Qy5qcyI7CmltcG9ydCB7CiAgZXhwb3NlQVBJCn0gZnJvbSAiLi9jaHVuay03R1VMM09CUS5qcyI7CmltcG9ydCAiLi9jaHVuay1SRFNRUlczRy5qcyI7CgovLyBzcmMvY3ViaW5nL3NlYXJjaC93b3JrZXItd29ya2Fyb3VuZHMvc2VhcmNoLXdvcmtlci1lbnRyeS5qcwppZiAoZXhwb3NlQVBJLmV4cG9zZSkgewogIChhc3luYyAoKSA9PiB7CiAgICBhd2FpdCBpbXBvcnQoIi4vaW5zaWRlLUtBVkFaRVRULmpzIik7CiAgICBjb25zdCBtZXNzYWdlUG9ydCA9IGdsb2JhbFRoaXMucG9zdE1lc3NhZ2UgPyBnbG9iYWxUaGlzIDogYXdhaXQgbm9kZUVuZHBvaW50UG9ydCgpOwogICAgbWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoImNvbWxpbmstZXhwb3NlZCIpOwogIH0pKCk7Cn0KdmFyIFdPUktFUl9FTlRSWV9GSUxFX1VSTCA9IGltcG9ydC5tZXRhLnVybDsKZXhwb3J0IHsKICBXT1JLRVJfRU5UUllfRklMRV9VUkwKfTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLXdvcmtlci1lbnRyeS5qcy5tYXAK",import.meta.url)}async function Z4(){return T4.expose=!1,(await Z(async()=>{const{WORKER_ENTRY_FILE_URL:t}=await import("./search-worker-entry.uJAupFH8.js").then(e=>e.s);return{WORKER_ENTRY_FILE_URL:t}},[])).WORKER_ENTRY_FILE_URL}function J4(){return new Worker(new URL("/smart-cube-timer/worker/search-worker-entry.D3NNVlZV.js",import.meta.url),{type:"module"})}function e5(t){var e;try{const n=(e=globalThis.location)==null?void 0:e.origin,r=t.origin;return!!n&&!!r&&n!==r}catch{return!1}}async function Oc(t){const e=new URL(t,import.meta.url),n=e5(e);try{return lh(e,n)}catch{return lh(e,!n)}}async function lh(t,e){return new Promise(async(n,r)=>{var i;try{t||r(new Error("Could not get worker entry file URL."));let a=t;if(e){const c=`import ${JSON.stringify(t.toString())};`,u=new Blob([c],{type:"text/javascript"});a=new URL(URL.createObjectURL(u))}const s=await Y4(a,{type:"module"});(i=s.unref)==null||i.call(s);const o=c=>{r(c)},l=c=>{c==="comlink-exposed"?n(ng(s)):r(new Error(`wrong module instantiation message ${c}`))};s.nodeWorker?s.nodeWorker.once("message",l):(s.addEventListener("error",o,{once:!0}),s.addEventListener("message",c=>l(c.data),{once:!0}))}catch(a){r(a)}})}async function t5(){return new Promise(async(t,e)=>{try{const n=J4(),r=a=>{e(a)},i=a=>{a==="comlink-exposed"?t(ng(n)):e(new Error(`wrong module instantiation message ${a}`))};n.addEventListener("error",r,{once:!0}),n.addEventListener("message",a=>i(a.data),{once:!0})}catch(n){e(n)}})}function ng(t){const e=X1(t),n=t.terminate.bind(t);return{insideAPI:e,outsideAPI:{terminate:n}}}async function n5(){const t=r5(),{insideAPI:e}=await t;return e.setDebugMeasurePerf(e0.logPerf),e.setScramblePrefetchLevel(e0.scramblePrefetchLevel),t}async function r5(){var n;((n=globalThis.location)==null?void 0:n.protocol)==="file:"&&console.warn("This current web page is loaded from the local filesystem (a URL that starts with `file://`). In this situation, `cubing.js` may be unable to generate scrambles or perform searches in some browsers. See: https://js.cubing.net/cubing/scramble/#file-server-required");function t(r){return`Module worker instantiation${r?` ${r}`:""} failed`}const e=[[async()=>Oc(await K4()),"using `import.meta.resolve()",null],[t5,"using inline `new URL(, import.meta.url)`","may"],[async()=>Oc(X4()),"using `new URL(, import.meta.url)`","will"],[async()=>Oc(await Z4()),"using the `esbuild` workaround","will"]];for(const[r,i,a]of e)try{const s=await r();return a&&e0.showWorkerInstantiationWarnings&&console.warn(`Module worker instantiation required ${i}. \`cubing.js\` ${a} not support this fallback in the future.`),s}catch{console.warn(`${t(i)}, falling back.`)}throw new Error(`${t()}. There are no more fallbacks available.`)}var i5;function rg(){return i5??(i5=n5())}async function a5(t){switch(t){case"clock":return B.fromString(await tg())}const n=await s5(t);return B.fromString(n)}async function s5(t){return(await rg()).insideAPI.randomScrambleStringForEvent(t)}async function o5(t){const e=await rg();return B.fromString(await e.insideAPI.solve333ToString(t.patternData))}var e0={logPerf:!0,scramblePrefetchLevel:"auto",disableStringWorker:!1,forceNewWorkerForEveryScramble:!1,showWorkerInstantiationWarnings:!0},ig=!1;function N6(t){ig=t}function l5(){if(!ig)throw new Error("Must be called from inside a worker, to avoid impact on page performance. Try importing from the top level of `cubing/solve`?")}function c5(t,e){const n=new Ho;n.experimentalPushAlg(t);for(const r of e){const i=$1(r);i!==null&&n.push(w.fromString(i))}return n.toAlg()}var ag=td(()=>Z(()=>import("./search-dynamic-solve-3x3x3-QHRLSVAC.Cj-80CHJ.js"),[])),u5="UF UR UB UL DF DR DB DL FR FL BR BL".split(" "),d5="UFR URB UBL ULF DRF DFL DLB DBR".split(" "),f5="U L F R B D".split(" "),h5=[[1,2,0],[0,2,0],[1,1,0],[0,3,0],[2,0,0],[0,1,0],[1,3,0],[0,0,0],[1,0,0],[1,0,2],[0,1,1],[1,1,1],[0,8,1],[2,3,0],[0,10,1],[1,4,1],[0,5,1],[1,7,2],[1,3,2],[0,0,1],[1,0,1],[0,9,0],[2,2,0],[0,8,0],[1,5,1],[0,4,1],[1,4,2],[1,5,0],[0,4,0],[1,4,0],[0,7,0],[2,5,0],[0,5,0],[1,6,0],[0,6,0],[1,7,0],[1,2,2],[0,3,1],[1,3,1],[0,11,1],[2,1,0],[0,9,1],[1,6,1],[0,7,1],[1,5,2],[1,1,2],[0,2,1],[1,2,1],[0,10,0],[2,4,0],[0,11,0],[1,7,1],[0,6,1],[1,6,2]];function ch(t,e){return t.slice(e)+t.slice(0,e)}function x5(t){const e=[[],[]];for(let n=0;n<6;n++)if(t.patternData.CENTERS.pieces[n]!==n)throw new Error("non-oriented puzzles are not supported");for(let n=0;n<12;n++)e[0].push(ch(u5[t.patternData.EDGES.pieces[n]],t.patternData.EDGES.orientation[n]));for(let n=0;n<8;n++)e[1].push(ch(d5[t.patternData.CORNERS.pieces[n]],t.patternData.CORNERS.orientation[n]));return e.push(f5),e}function p5(t){const e=x5(t);return h5.map(([n,r,i])=>e[n][r][i]).join("")}function uh(t,e){const n=new Oi(t.kpuzzle,{EDGES:t.patternData.EDGES,CORNERS:t.patternData.CORNERS,CENTERS:{pieces:t.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation(),r=new Oi(e.kpuzzle,{EDGES:e.patternData.EDGES,CORNERS:e.patternData.CORNERS,CENTERS:{pieces:e.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}}).experimentalToTransformation();return n.isIdentical(r)}function m5(t,e){if(uh(t.defaultPattern(),e))return!1;for(const n of"ULFRBD")for(let r=1;r<4;r++){const i=t.moveToTransformation(new w(n,r)).toKPattern();if(uh(i,e))return!1}return!0}var g5=[["R U'","R2 B","D2 B2","D' L B'","R' U'","B","D B2","R' B","L' U","L2 B'","B2","D L B'","L U","B'","U'","R B","D' B2","L B'","U2","U L' B'","","U' L' B'","U","L' B'"],["F2 L2","F' L'","R' F L2","D' L2","F L2","F2 L'","R' F' L'","R2 F L2","R2 F2 L'","L2","F L'","D' L","D2 L2","R2 F' L'","D L","","L2 F L'","L F' L2","L F L'","F' L2","L'","D L2","D F L'","L"],["R B U2 B'","R2 B U' B'","F2 B U B'","F B2 L' B2","B2 L B2","B U' B'","R2 B U2 B'","R' B U' B'","B2 L' B2","F B U B'","B2 U' B2","B' L B","L F' B D' B'","B' U' B2 D B'","B U2 B'","R B U' B'","B2 L2 B2","D' B' L B","B U B'","F' B2 L' B2","","B2 L' B' U' B'"],["U F2 L2 U'","F' U L' U'","F2 U L' U'","U F L2 U'","U2 B2 U2","R' U' B U","D2 U L U'","D U2 B' U2","U L2 U'","F U L' U'","D U L U'","U2 B' U2","","U2 B' U' L' U'","U2 L' U2","U' B U","U L U'","D' U2 B' U2","U L' U'","U2 B U2"],["R' D' F2","F'","F2","D R F'","R D' F2","R2 F'","D' F2","R F'","F2 R' D' F2","F","D2 F2","D' R F'","R2 D' F2","R' F'","D F2","D2 R F'","","F R' D' F2"],["R' D2 F' D F","R F2 R2 F2","R2 F' D2 F","F' R2 D2 F","L D' L'","D F' D2 F","F2 R2 F2","R F' D2 F","F' R2 D' F","F' R' D2 F","F2 R' F2","L D L'","F' R D' F","F2 R F2","F' D2 F","","L D2 R D' L'","F' D2 F' R F2","D2 R2 F2 R2 F2","D F' D' F","F' D F"],["U F2 U'","R U F' U'","D R U F2 U'","U F U'","R2 U F2 U'","R' U F' U'","R U F2 U'","R2 U F' U'","","U L D L' F U'","F2 D' R D F2","D2 U F U'","R' U F2 U'","U F' U'","F2 D2 R D2 F2","D U F U'"],["R2","R' B' D B","D R'","F' R2 F","","R B' D B","R'","B' D B","D' R'","D2 F' R2 F","R","R2 B' D B","D2 R'","B' D' B"],["R2 D' R2","F' R' F R","R D' R2 D R'","D2 R2 D2 R2","R' D' F' R F","U F D F' U'","","R2 D2 B R' B' R'","R' F D' F2 R F","R2 D R2","F2 U F U' F","R' D F' R F","D R2 D2 R2","U F D' F' U'","D R' D2 F' R F","R2 D2 R2","U F D2 F' U'","R' D2 F' R F"],["B R B'","F D F' B R2 B'","D B R2 B'","D2 B R' B'","B R2 B'","D B R' B'","D' B R2 B'","B R' B'","","B R2 B' D B R' B'","D2 B R2 B'","D' B R' B'"],["","R' D R F D2 F'","R' D R","D F D' F'","R F' R' F","F D' F'","R' D' R","F D2 F'","R' D2 R","F D F'"],["","F2 D2 R F' R' D2 F' D2 F'","F2 D2 F' D' F D' F' D2 F'","F2 D F2 D F2 D2 F2","D2 F L D2 L' D2 F'","D F D2 L D2 L' F'","R' D B' D2 B D' R","R' D2 B' D2 B R","F D2 F' D F D F'","F D' L D2 L' D F'","B D' F D B' D' F'","F D2 L D2 L' F'","F D' L D L' D F'","F L D2 L' D2 F'","R' B' D2 B D2 R"],["D'","F L D L' D' F'","D2","L B D B' D' L'","D","B' L' D' L D B","","D F L D L' D' F'"],["F' D2 F D F' D F","F' D' R' D R F","F' R' D' R D F","B D R D' R' B'","","D B' D' L' D L B"],["D F D F' D F D2 F'","F' U2 B' R' B U2 F' L F' L' F'","","D2 L D L2 F L F2 D F"],["L B' L' F L B L' F'","F2 U F' D2 F U' F' D2 F'","D' F' D B D' F D B'","F L2 F R2 F' L2 F R2 F2","D B D' F' D B' D' F","R F L F' R' F L' F'","","D2 B L' U2 L B' D2 B L' U2 L B'","D2 F R' U2 R F' D2 F R' U2 R F'","R F L' F' R' F L F'","D F D' B' D F' D' B","L2 F2 L' B2 L F2 L' B2 L'"],["L B R' B' L' B R B'","R' B R F' R' B' R F","L D2 L U L' D2 L U' L2","","D2 B' D2 F D' L2 F L2 F' D2 B D' F'","D2 F' R' F R2 B' D2 B D2 R' F D2 F'","L B L' F L B' L' F'","F' D2 F' U' F D2 F' U F2","D' B' D F D' B D F'"],["","D2 F' L U2 L' F D2 F' L U2 L' F","D2 B' R U2 R' B D2 B' R U2 R' B"]];async function sg(){const t=await ad["3x3x3"].kpuzzle();let e=t.defaultPattern();for(const n of g5)e=e.applyAlg(B.fromString($1(n)));return m5(t,e)?e:sg()}async function y5(t){return l5(),B.fromString((await ag).solvePattern(p5(t)))}async function v5(){return y5(await sg())}async function P6(){(await ag).initialize()}var w5=[[null,"Rw","Rw2","Rw'","Fw","Fw'"],[null,"Dw","Dw2","Dw'"]];async function F6(){return c5(await v5(),w5)}var t0=function(t,e){return t0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},t0(t,e)};function Vr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function n0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function rl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Yt(t){return typeof t=="function"}function og(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bc=og(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function il(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ts=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=n0(s),l=o.next();!l.done;l=o.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else s.remove(this);var u=this.initialTeardown;if(Yt(u))try{u()}catch(y){a=y instanceof Bc?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=n0(f),h=d.next();!h.done;h=d.next()){var p=h.value;try{dh(p)}catch(y){a=a??[],y instanceof Bc?a=rl(rl([],nl(a)),nl(y.errors)):a.push(y)}}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(a)throw new Bc(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)dh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&il(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&il(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),lg=Ts.EMPTY;function cg(t){return t instanceof Ts||t&&"closed"in t&&Yt(t.remove)&&Yt(t.add)&&Yt(t.unsubscribe)}function dh(t){Yt(t)?t():t.unsubscribe()}var b5={Promise:void 0},S5={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,rl([t,e],nl(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function k5(t){S5.setTimeout(function(){throw t})}function fh(){}function bo(t){t()}var ug=function(t){Vr(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,cg(n)&&n.add(r)):r.destination=z5,r}return e.create=function(n,r,i){return new r0(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ts),E5=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){eo(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){eo(r)}else eo(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){eo(n)}},t}(),r0=function(t){Vr(e,t);function e(n,r,i){var a=t.call(this)||this,s;return Yt(n)||!n?s={next:n??void 0,error:r??void 0,complete:i??void 0}:s=n,a.destination=new E5(s),a}return e}(ug);function eo(t){k5(t)}function M5(t){throw t}var z5={closed:!0,next:fh,error:M5,complete:fh},T5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function D5(t){return t}function C5(t){return t.length===0?D5:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var i0=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=R5(e)?e:new r0(e,n,r);return bo(function(){var s=i,o=s.operator,l=s.source;a.add(o?o.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=hh(n),new n(function(i,a){var s=new r0({next:function(o){try{e(o)}catch(l){a(l),s.unsubscribe()}},error:a,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[T5]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return C5(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=hh(e),new e(function(r,i){var a;n.subscribe(function(s){return a=s},function(s){return i(s)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function hh(t){var e;return(e=t??b5.Promise)!==null&&e!==void 0?e:Promise}function L5(t){return t&&Yt(t.next)&&Yt(t.error)&&Yt(t.complete)}function R5(t){return t&&t instanceof ug||L5(t)&&cg(t)}var A5=og(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),dg=function(t){Vr(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new xh(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new A5},e.prototype.next=function(n){var r=this;bo(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=n0(r.currentObservers),o=s.next();!o.done;o=s.next()){var l=o.value;l.next(n)}}catch(c){i={error:c}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;bo(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;bo(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,s=i.isStopped,o=i.observers;return a||s?lg:(this.currentObservers=null,o.push(n),new Ts(function(){r.currentObservers=null,il(o,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,s=r.isStopped;i?n.error(a):s&&n.complete()},e.prototype.asObservable=function(){var n=new i0;return n.source=this,n},e.create=function(n,r){return new xh(n,r)},e}(i0),xh=function(t){Vr(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:lg},e}(dg),I5={now:function(){return Date.now()}},_5=function(t){Vr(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Ts),ph={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,rl([t,e],nl(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},N5=function(t){Vr(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,s=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(s,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),ph.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&ph.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(s){i=!0,a=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,il(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(_5),mh=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=I5.now,t}(),P5=function(t){Vr(e,t);function e(n,r){r===void 0&&(r=mh.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(mh),fg=new P5(N5),F5=fg;function O5(t){return Yt(t.schedule)}function B5(t){return t instanceof Date&&!isNaN(t)}function j5(t,e,n){n===void 0&&(n=F5);var r=-1;return O5(e)?n=e:r=e,new i0(function(i){var a=B5(t)?30-n.now():t;a<0&&(a=0);var s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function U5(t,e){return e===void 0&&(e=fg),j5(t,t,e)}var hg={exports:{}};/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */(function(t,e){(function(n){function r(S){return parseInt(S)===S}function i(S){if(!r(S.length))return!1;for(var M=0;M<S.length;M++)if(!r(S[M])||S[M]<0||S[M]>255)return!1;return!0}function a(S,M){if(S.buffer&&S.name==="Uint8Array")return M&&(S.slice?S=S.slice():S=Array.prototype.slice.call(S)),S;if(Array.isArray(S)){if(!i(S))throw new Error("Array contains invalid value: "+S);return new Uint8Array(S)}if(r(S.length)&&i(S))return new Uint8Array(S);throw new Error("unsupported array-like object")}function s(S){return new Uint8Array(S)}function o(S,M,_,R,T){(R!=null||T!=null)&&(S.slice?S=S.slice(R,T):S=Array.prototype.slice.call(S,R,T)),M.set(S,_)}var l=function(){function S(_){var R=[],T=0;for(_=encodeURI(_);T<_.length;){var q=_.charCodeAt(T++);q===37?(R.push(parseInt(_.substr(T,2),16)),T+=2):R.push(q)}return a(R)}function M(_){for(var R=[],T=0;T<_.length;){var q=_[T];q<128?(R.push(String.fromCharCode(q)),T++):q>191&&q<224?(R.push(String.fromCharCode((q&31)<<6|_[T+1]&63)),T+=2):(R.push(String.fromCharCode((q&15)<<12|(_[T+1]&63)<<6|_[T+2]&63)),T+=3)}return R.join("")}return{toBytes:S,fromBytes:M}}(),c=function(){function S(R){for(var T=[],q=0;q<R.length;q+=2)T.push(parseInt(R.substr(q,2),16));return T}var M="0123456789abcdef";function _(R){for(var T=[],q=0;q<R.length;q++){var de=R[q];T.push(M[(de&240)>>4]+M[de&15])}return T.join("")}return{toBytes:S,fromBytes:_}}(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],L=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],E=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],z=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],D=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],A=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],P=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function O(S){for(var M=[],_=0;_<S.length;_+=4)M.push(S[_]<<24|S[_+1]<<16|S[_+2]<<8|S[_+3]);return M}var Q=function(S){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(S,!0)}),this._prepare()};Q.prototype._prepare=function(){var S=u[this.key.length];if(S==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var M=0;M<=S;M++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var _=(S+1)*4,R=this.key.length/4,T=O(this.key),q,M=0;M<R;M++)q=M>>2,this._Ke[q][M%4]=T[M],this._Kd[S-q][M%4]=T[M];for(var de=0,Ce=R,Ve;Ce<_;){if(Ve=T[R-1],T[0]^=d[Ve>>16&255]<<24^d[Ve>>8&255]<<16^d[Ve&255]<<8^d[Ve>>24&255]^f[de]<<24,de+=1,R!=8)for(var M=1;M<R;M++)T[M]^=T[M-1];else{for(var M=1;M<R/2;M++)T[M]^=T[M-1];Ve=T[R/2-1],T[R/2]^=d[Ve&255]^d[Ve>>8&255]<<8^d[Ve>>16&255]<<16^d[Ve>>24&255]<<24;for(var M=R/2+1;M<R;M++)T[M]^=T[M-1]}for(var M=0,kn,En;M<R&&Ce<_;)kn=Ce>>2,En=Ce%4,this._Ke[kn][En]=T[M],this._Kd[S-kn][En]=T[M++],Ce++}for(var kn=1;kn<S;kn++)for(var En=0;En<4;En++)Ve=this._Kd[kn][En],this._Kd[kn][En]=D[Ve>>24&255]^A[Ve>>16&255]^F[Ve>>8&255]^P[Ve&255]},Q.prototype.encrypt=function(S){if(S.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var M=this._Ke.length-1,_=[0,0,0,0],R=O(S),T=0;T<4;T++)R[T]^=this._Ke[0][T];for(var q=1;q<M;q++){for(var T=0;T<4;T++)_[T]=p[R[T]>>24&255]^y[R[(T+1)%4]>>16&255]^L[R[(T+2)%4]>>8&255]^m[R[(T+3)%4]&255]^this._Ke[q][T];R=_.slice()}for(var de=s(16),Ce,T=0;T<4;T++)Ce=this._Ke[M][T],de[4*T]=(d[R[T]>>24&255]^Ce>>24)&255,de[4*T+1]=(d[R[(T+1)%4]>>16&255]^Ce>>16)&255,de[4*T+2]=(d[R[(T+2)%4]>>8&255]^Ce>>8)&255,de[4*T+3]=(d[R[(T+3)%4]&255]^Ce)&255;return de},Q.prototype.decrypt=function(S){if(S.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var M=this._Kd.length-1,_=[0,0,0,0],R=O(S),T=0;T<4;T++)R[T]^=this._Kd[0][T];for(var q=1;q<M;q++){for(var T=0;T<4;T++)_[T]=g[R[T]>>24&255]^v[R[(T+3)%4]>>16&255]^E[R[(T+2)%4]>>8&255]^z[R[(T+1)%4]&255]^this._Kd[q][T];R=_.slice()}for(var de=s(16),Ce,T=0;T<4;T++)Ce=this._Kd[M][T],de[4*T]=(h[R[T]>>24&255]^Ce>>24)&255,de[4*T+1]=(h[R[(T+3)%4]>>16&255]^Ce>>16)&255,de[4*T+2]=(h[R[(T+2)%4]>>8&255]^Ce>>8)&255,de[4*T+3]=(h[R[(T+1)%4]&255]^Ce)&255;return de};var he=function(S){if(!(this instanceof he))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Q(S)};he.prototype.encrypt=function(S){if(S=a(S),S.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=s(S.length),_=s(16),R=0;R<S.length;R+=16)o(S,_,0,R,R+16),_=this._aes.encrypt(_),o(_,M,R);return M},he.prototype.decrypt=function(S){if(S=a(S),S.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=s(S.length),_=s(16),R=0;R<S.length;R+=16)o(S,_,0,R,R+16),_=this._aes.decrypt(_),o(_,M,R);return M};var xe=function(S,M){if(!(this instanceof xe))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!M)M=s(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(M,!0),this._aes=new Q(S)};xe.prototype.encrypt=function(S){if(S=a(S),S.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=s(S.length),_=s(16),R=0;R<S.length;R+=16){o(S,_,0,R,R+16);for(var T=0;T<16;T++)_[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(_),o(this._lastCipherblock,M,R)}return M},xe.prototype.decrypt=function(S){if(S=a(S),S.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=s(S.length),_=s(16),R=0;R<S.length;R+=16){o(S,_,0,R,R+16),_=this._aes.decrypt(_);for(var T=0;T<16;T++)M[R+T]=_[T]^this._lastCipherblock[T];o(S,this._lastCipherblock,0,R,R+16)}return M};var De=function(S,M,_){if(!(this instanceof De))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!M)M=s(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");_||(_=1),this.segmentSize=_,this._shiftRegister=a(M,!0),this._aes=new Q(S)};De.prototype.encrypt=function(S){if(S.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var M=a(S,!0),_,R=0;R<M.length;R+=this.segmentSize){_=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)M[R+T]^=_[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(M,this._shiftRegister,16-this.segmentSize,R,R+this.segmentSize)}return M},De.prototype.decrypt=function(S){if(S.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var M=a(S,!0),_,R=0;R<M.length;R+=this.segmentSize){_=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)M[R+T]^=_[T];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(S,this._shiftRegister,16-this.segmentSize,R,R+this.segmentSize)}return M};var Ke=function(S,M){if(!(this instanceof Ke))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!M)M=s(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(M,!0),this._lastPrecipherIndex=16,this._aes=new Q(S)};Ke.prototype.encrypt=function(S){for(var M=a(S,!0),_=0;_<M.length;_++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),M[_]^=this._lastPrecipher[this._lastPrecipherIndex++];return M},Ke.prototype.decrypt=Ke.prototype.encrypt;var be=function(S){if(!(this instanceof be))throw Error("Counter must be instanitated with `new`");S!==0&&!S&&(S=1),typeof S=="number"?(this._counter=s(16),this.setValue(S)):this.setBytes(S)};be.prototype.setValue=function(S){if(typeof S!="number"||parseInt(S)!=S)throw new Error("invalid counter value (must be an integer)");if(S>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var M=15;M>=0;--M)this._counter[M]=S%256,S=parseInt(S/256)},be.prototype.setBytes=function(S){if(S=a(S,!0),S.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=S},be.prototype.increment=function(){for(var S=15;S>=0;S--)if(this._counter[S]===255)this._counter[S]=0;else{this._counter[S]++;break}};var Pe=function(S,M){if(!(this instanceof Pe))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",M instanceof be||(M=new be(M)),this._counter=M,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Q(S)};Pe.prototype.encrypt=function(S){for(var M=a(S,!0),_=0;_<M.length;_++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),M[_]^=this._remainingCounter[this._remainingCounterIndex++];return M},Pe.prototype.decrypt=Pe.prototype.encrypt;function j(S){S=a(S,!0);var M=16-S.length%16,_=s(S.length+M);o(S,_);for(var R=S.length;R<_.length;R++)_[R]=M;return _}function G(S){if(S=a(S,!0),S.length<16)throw new Error("PKCS#7 invalid length");var M=S[S.length-1];if(M>16)throw new Error("PKCS#7 padding byte out of range");for(var _=S.length-M,R=0;R<M;R++)if(S[_+R]!==M)throw new Error("PKCS#7 invalid padding byte");var T=s(_);return o(S,T,0,0,_),T}var $={AES:Q,Counter:be,ModeOfOperation:{ecb:he,cbc:xe,cfb:De,ofb:Ke,ctr:Pe},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:j,strip:G}},_arrayTest:{coerceArray:a,createArray:s,copyArray:o}};t.exports=$})()})(hg);var gh=hg.exports,yh;(function(t){t[t.DISCONNECT=0]="DISCONNECT",t[t.GET_SET=1]="GET_SET",t[t.HANDS_OFF=2]="HANDS_OFF",t[t.RUNNING=3]="RUNNING",t[t.STOPPED=4]="STOPPED",t[t.IDLE=5]="IDLE",t[t.HANDS_ON=6]="HANDS_ON",t[t.FINISHED=7]="FINISHED"})(yh||(yh={}));function V5(t,e,n){return{minutes:t,seconds:e,milliseconds:n,asTimestamp:6e4*t+1e3*e+n,toString:()=>`${t.toString(10)}:${e.toString(10).padStart(2,"0")}.${n.toString(10).padStart(3,"0")}`}}function W5(t){var e=Math.trunc(t/6e4),n=Math.trunc(t%6e4/1e3),r=Math.trunc(t%1e3);return V5(e,n,r)}const vh="6e400001-b5a3-f393-e0a9-e50e24dc4179",G5="28be4a4a-cd67-11e9-a32f-2a2ae2dbcce4",$5="28be4cb6-cd67-11e9-a32f-2a2ae2dbcce4",wh="8653000a-43e6-47b7-9cb0-5fc21d4ae340",H5="8653000c-43e6-47b7-9cb0-5fc21d4ae340",Q5="8653000b-43e6-47b7-9cb0-5fc21d4ae340",bh="00000010-0000-fff7-fff6-fff5fff4fff0",q5="0000fff5-0000-1000-8000-00805f9b34fb",Y5="0000fff6-0000-1000-8000-00805f9b34fb",xg=Array(256).fill(void 0).map((t,e)=>e<<8|1),to=[{key:[1,2,66,40,49,145,22,7,32,5,24,84,66,17,18,83],iv:[17,3,50,40,33,1,118,39,32,149,120,20,50,18,2,67]},{key:[5,18,2,69,2,1,41,86,18,120,18,118,129,1,8,3],iv:[1,68,40,6,134,33,34,40,81,5,8,49,130,2,33,6]}];class od{constructor(e,n,r){if(e.length!=16)throw new Error("Key must be 16 bytes (128-bit) long");if(n.length!=16)throw new Error("Iv must be 16 bytes (128-bit) long");if(r.length!=6)throw new Error("Salt must be 6 bytes (48-bit) long");this._key=new Uint8Array(e),this._iv=new Uint8Array(n);for(let i=0;i<6;i++)this._key[i]=(e[i]+r[i])%255,this._iv[i]=(n[i]+r[i])%255}encryptChunk(e,n){var r=new gh.ModeOfOperation.cbc(this._key,this._iv),i=r.encrypt(e.subarray(n,n+16));e.set(i,n)}decryptChunk(e,n){var r=new gh.ModeOfOperation.cbc(this._key,this._iv),i=r.decrypt(e.subarray(n,n+16));e.set(i,n)}encrypt(e){if(e.length<16)throw Error("Data must be at least 16 bytes long");var n=new Uint8Array(e);return this.encryptChunk(n,0),n.length>16&&this.encryptChunk(n,n.length-16),n}decrypt(e){if(e.length<16)throw Error("Data must be at least 16 bytes long");var n=new Uint8Array(e);return n.length>16&&this.decryptChunk(n,n.length-16),this.decryptChunk(n,0),n}}class K5 extends od{}class X5 extends od{}var Jh,ex;const nc=typeof window<"u"&&typeof((Jh=window.performance)==null?void 0:Jh.now)=="function"?()=>Math.floor(window.performance.now()):typeof process<"u"&&typeof((ex=process.hrtime)==null?void 0:ex.bigint)=="function"?()=>Number(process.hrtime.bigint()/1000000n):()=>Date.now();function Z5(t,e){for(var n=0,r=0,i=0,a=0,s=0,o=0;o<t.length;o++){var l=t[o],c=e[o];l==null||c==null||(s++,n+=l,r+=c,i+=l*c,a+=l*l)}var u=s*a-n*n,f=s*i-n*r,d=u<.001?1:f/u,h=s<1?0:r/s-d*n/s;return[d,h]}function J5(t){var e=[];if(t.length>=2){for(let a=t.length-1;a>0;a--)t[a].cubeTimestamp!=null&&t[a-1].cubeTimestamp==null&&(t[a-1].cubeTimestamp=t[a].cubeTimestamp-50);for(let a=0;a<t.length-1;a++)t[a].cubeTimestamp!=null&&t[a+1].cubeTimestamp==null&&(t[a+1].cubeTimestamp=t[a].cubeTimestamp+50)}if(t.length>0){var[n,r]=Z5(t.map(a=>a.cubeTimestamp),t.map(a=>a.localTimestamp)),i=Math.round(n*t[0].cubeTimestamp+r);t.forEach(a=>{e.push({face:a.face,direction:a.direction,move:a.move,localTimestamp:a.localTimestamp,cubeTimestamp:Math.round(n*a.cubeTimestamp+r)-i})})}return e}const Sh=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],kh=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];function ld(t,e,n,r){var i="URFDLB",a=[];for(let s=0;s<54;s++)a[s]=i[~~(s/9)];for(let s=0;s<8;s++)for(let o=0;o<3;o++)a[Sh[s][(o+e[s])%3]]=i[~~(Sh[t[s]][o]/9)];for(let s=0;s<12;s++)for(let o=0;o<2;o++)a[kh[s][(o+r[s])%2]]=i[~~(kh[n[s]][o]/9)];return a.join("")}const St=t=>t.reduce((e,n)=>e+n,0);class ka{constructor(e,n,r,i,a){this.onStateUpdate=async s=>{var o=s.target,l=o.value;if(l&&l.byteLength>=16){var c=this.encrypter.decrypt(new Uint8Array(l.buffer)),u=await this.driver.handleStateEvent(this,c);u.forEach(f=>this.events$.next(f))}},this.onDisconnect=async()=>(this.device.removeEventListener("gattserverdisconnected",this.onDisconnect),this.stateCharacteristic.removeEventListener("characteristicvaluechanged",this.onStateUpdate),this.events$.next({timestamp:nc(),type:"DISCONNECT"}),this.events$.unsubscribe(),this.stateCharacteristic.stopNotifications().catch(()=>{})),this.device=e,this.commandCharacteristic=n,this.stateCharacteristic=r,this.encrypter=i,this.driver=a,this.events$=new dg}static async create(e,n,r,i,a){var s=new ka(e,n,r,i,a);return s.device.addEventListener("gattserverdisconnected",s.onDisconnect),s.stateCharacteristic.addEventListener("characteristicvaluechanged",s.onStateUpdate),await s.stateCharacteristic.startNotifications(),s}get deviceName(){return this.device.name||"GAN-XXXX"}get deviceMAC(){return this.device.mac||"00:00:00:00:00:00"}async sendCommandMessage(e){var n=this.encrypter.encrypt(e);return this.commandCharacteristic.writeValue(n)}async sendCubeCommand(e){var n=this.driver.createCommandMessage(e);if(n)return this.sendCommandMessage(n)}async disconnect(){var e,n;await this.onDisconnect(),(e=this.device.gatt)!=null&&e.connected&&((n=this.device.gatt)==null||n.disconnect())}}class cd{constructor(e){this.bits=Array.from(e).map(n=>(n+256).toString(2).slice(1)).join("")}getBitWord(e,n,r=!1){if(n<=8)return parseInt(this.bits.slice(e,e+n),2);if(n==16||n==32){let i=new Uint8Array(n/8);for(let s=0;s<i.length;s++)i[s]=parseInt(this.bits.slice(8*s+e,8*s+e+8),2);let a=new DataView(i.buffer);return n==16?a.getUint16(0,r):a.getUint32(0,r)}else throw new Error("Unsupproted bit word length")}}class e6{constructor(){this.lastSerial=-1,this.lastMoveTimestamp=0,this.cubeTimestamp=0}createCommandMessage(e){var n=new Uint8Array(20).fill(0);switch(e.type){case"REQUEST_FACELETS":n[0]=4;break;case"REQUEST_HARDWARE":n[0]=5;break;case"REQUEST_BATTERY":n[0]=9;break;case"REQUEST_RESET":n.set([10,5,57,119,0,0,1,35,69,103,137,171,0,0,0,0,0,0,0,0]);break;default:n=void 0}return n}async handleStateEvent(e,n){var r=nc(),i=[],a=new cd(n),s=a.getBitWord(0,4);if(s==1){let l=a.getBitWord(4,16),c=a.getBitWord(20,16),u=a.getBitWord(36,16),f=a.getBitWord(52,16),d=a.getBitWord(68,4),h=a.getBitWord(72,4),p=a.getBitWord(76,4);i.push({type:"GYRO",timestamp:r,quaternion:{x:(1-(c>>15)*2)*(c&32767)/32767,y:(1-(u>>15)*2)*(u&32767)/32767,z:(1-(f>>15)*2)*(f&32767)/32767,w:(1-(l>>15)*2)*(l&32767)/32767},velocity:{x:(1-(d>>3)*2)*(d&7),y:(1-(h>>3)*2)*(h&7),z:(1-(p>>3)*2)*(p&7)}})}else if(s==2){if(this.lastSerial!=-1){let l=a.getBitWord(4,8),c=Math.min(l-this.lastSerial&255,7);if(this.lastSerial=l,c>0){for(let u=c-1;u>=0;u--){let f=a.getBitWord(12+5*u,4),d=a.getBitWord(16+5*u,1),h="URFDLB".charAt(f)+" '".charAt(d),p=a.getBitWord(47+16*u,16);p==0&&(p=r-this.lastMoveTimestamp),this.cubeTimestamp+=p,i.push({type:"MOVE",serial:l-u&255,timestamp:r,localTimestamp:u==0?r:null,cubeTimestamp:this.cubeTimestamp,face:f,direction:d,move:h.trim()})}this.lastMoveTimestamp=r}}}else if(s==4){let l=a.getBitWord(4,8);this.lastSerial==-1&&(this.lastSerial=l);let c=[],u=[],f=[],d=[];for(let h=0;h<7;h++)c.push(a.getBitWord(12+h*3,3)),u.push(a.getBitWord(33+h*2,2));c.push(28-St(c)),u.push((3-St(u)%3)%3);for(let h=0;h<11;h++)f.push(a.getBitWord(47+h*4,4)),d.push(a.getBitWord(91+h,1));f.push(66-St(f)),d.push((2-St(d)%2)%2),i.push({type:"FACELETS",serial:l,timestamp:r,facelets:ld(c,u,f,d),state:{CP:c,CO:u,EP:f,EO:d}})}else if(s==5){let l=a.getBitWord(8,8),c=a.getBitWord(16,8),u=a.getBitWord(24,8),f=a.getBitWord(32,8),d=a.getBitWord(104,1),h="";for(var o=0;o<8;o++)h+=String.fromCharCode(a.getBitWord(o*8+40,8));i.push({type:"HARDWARE",timestamp:r,hardwareName:h,hardwareVersion:`${l}.${c}`,softwareVersion:`${u}.${f}`,gyroSupported:!!d})}else if(s==9){let l=a.getBitWord(8,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(l,100)})}else s==13&&e.disconnect();return i}}class t6{constructor(){this.serial=-1,this.lastSerial=-1,this.lastLocalTimestamp=null,this.moveBuffer=[]}createCommandMessage(e){var n=new Uint8Array(16).fill(0);switch(e.type){case"REQUEST_FACELETS":n.set([104,1]);break;case"REQUEST_HARDWARE":n.set([104,4]);break;case"REQUEST_BATTERY":n.set([104,7]);break;case"REQUEST_RESET":n.set([104,5,5,57,119,0,0,1,35,69,103,137,171,0,0,0]);break;default:n=void 0}return n}async requestMoveHistory(e,n,r){var i=new Uint8Array(16).fill(0);return n%2==0&&(n=n-1&255),r%2==1&&r++,r=Math.min(r,n+1),i.set([104,3,n,0,r,0]),e.sendCommandMessage(i).catch(()=>{})}async evictMoveBuffer(e){for(var n=[];this.moveBuffer.length>0;){let r=this.moveBuffer[0],i=this.lastSerial==-1?1:r.serial-this.lastSerial&255;if(i>1){e&&await this.requestMoveHistory(e,r.serial,i);break}else n.push(this.moveBuffer.shift()),this.lastSerial=r.serial}return e&&this.moveBuffer.length>16&&e.disconnect(),n}isSerialInRange(e,n,r,i=!1,a=!1){return(n-e&255)>=(r-e&255)&&(i||(e-r&255)>0)&&(a||(n-r&255)>0)}injectMissedMoveToBuffer(e){if(e.type=="MOVE")if(this.moveBuffer.length>0){var n=this.moveBuffer[0];if(this.moveBuffer.some(r=>r.type=="MOVE"&&r.serial==e.serial)||!this.isSerialInRange(this.lastSerial,n.serial,e.serial))return;e.serial==(n.serial-1&255)&&this.moveBuffer.unshift(e)}else this.isSerialInRange(this.lastSerial,this.serial,e.serial,!1,!0)&&this.moveBuffer.unshift(e)}async checkIfMoveMissed(e){let n=this.serial-this.lastSerial&255;if(n>0&&this.serial!=0){let r=this.moveBuffer[0],i=r?r.serial:this.serial+1&255;await this.requestMoveHistory(e,i,n+1)}}async handleStateEvent(e,n){var r=nc(),i=[],a=new cd(n),s=a.getBitWord(0,8),o=a.getBitWord(8,8),l=a.getBitWord(16,8);if(s==85&&l>0)if(o==1){if(this.lastSerial!=-1){this.lastLocalTimestamp=r;let u=a.getBitWord(24,32,!0),f=this.serial=a.getBitWord(56,16,!0),d=a.getBitWord(72,2),h=[2,32,8,1,16,4].indexOf(a.getBitWord(74,6)),p="URFDLB".charAt(h)+" '".charAt(d);h>=0&&this.moveBuffer.push({type:"MOVE",serial:f,timestamp:r,localTimestamp:r,cubeTimestamp:u,face:h,direction:d,move:p.trim()}),i=await this.evictMoveBuffer(e)}}else if(o==6){let u=a.getBitWord(24,8),f=(l-1)*2;for(let d=0;d<f;d++){let h=[1,5,3,0,4,2].indexOf(a.getBitWord(32+4*d,3)),p=a.getBitWord(35+4*d,1);if(h>=0){let y="URFDLB".charAt(h)+" '".charAt(p);this.injectMissedMoveToBuffer({type:"MOVE",serial:u-d&255,timestamp:r,localTimestamp:null,cubeTimestamp:null,face:h,direction:p,move:y.trim()})}}i=await this.evictMoveBuffer()}else if(o==2){let u=this.serial=a.getBitWord(24,16,!0);this.lastSerial!=-1&&this.lastLocalTimestamp!=null&&r-this.lastLocalTimestamp>500&&await this.checkIfMoveMissed(e),this.lastSerial==-1&&(this.lastSerial=u);let f=[],d=[],h=[],p=[];for(let y=0;y<7;y++)f.push(a.getBitWord(40+y*3,3)),d.push(a.getBitWord(61+y*2,2));f.push(28-St(f)),d.push((3-St(d)%3)%3);for(let y=0;y<11;y++)h.push(a.getBitWord(77+y*4,4)),p.push(a.getBitWord(121+y,1));h.push(66-St(h)),p.push((2-St(p)%2)%2),i.push({type:"FACELETS",serial:u,timestamp:r,facelets:ld(f,d,h,p),state:{CP:f,CO:d,EP:h,EO:p}})}else if(o==7){let u=a.getBitWord(72,4),f=a.getBitWord(76,4),d=a.getBitWord(80,4),h=a.getBitWord(84,4),p="";for(var c=0;c<5;c++)p+=String.fromCharCode(a.getBitWord(c*8+32,8));i.push({type:"HARDWARE",timestamp:r,hardwareName:p,hardwareVersion:`${d}.${h}`,softwareVersion:`${u}.${f}`,gyroSupported:!1})}else if(o==16){let u=a.getBitWord(24,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(u,100)})}else o==17&&e.disconnect();return i}}class n6{constructor(){this.serial=-1,this.lastSerial=-1,this.lastLocalTimestamp=null,this.moveBuffer=[],this.hwInfo={}}createCommandMessage(e){var n=new Uint8Array(20).fill(0);switch(e.type){case"REQUEST_FACELETS":n.set([221,4,0,237,0,0]);break;case"REQUEST_HARDWARE":this.hwInfo={},n.set([223,3,0,0,0]);break;case"REQUEST_BATTERY":n.set([221,4,0,239,0,0]);break;case"REQUEST_RESET":n.set([210,13,5,57,119,0,0,1,35,69,103,137,171,0,0,0]);break;default:n=void 0}return n}async requestMoveHistory(e,n,r){var i=new Uint8Array(20).fill(0);return n%2==0&&(n=n-1&255),r%2==1&&r++,r=Math.min(r,n+1),i.set([209,4,n,0,r,0]),e.sendCommandMessage(i).catch(()=>{})}async evictMoveBuffer(e){for(var n=[];this.moveBuffer.length>0;){let r=this.moveBuffer[0],i=this.lastSerial==-1?1:r.serial-this.lastSerial&255;if(i>1){e&&await this.requestMoveHistory(e,r.serial,i);break}else n.push(this.moveBuffer.shift()),this.lastSerial=r.serial}return e&&this.moveBuffer.length>16&&e.disconnect(),n}isSerialInRange(e,n,r,i=!1,a=!1){return(n-e&255)>=(r-e&255)&&(i||(e-r&255)>0)&&(a||(n-r&255)>0)}injectMissedMoveToBuffer(e){if(e.type=="MOVE")if(this.moveBuffer.length>0){var n=this.moveBuffer[0];if(this.moveBuffer.some(r=>r.type=="MOVE"&&r.serial==e.serial)||!this.isSerialInRange(this.lastSerial,n.serial,e.serial))return;e.serial==(n.serial-1&255)&&this.moveBuffer.unshift(e)}else this.isSerialInRange(this.lastSerial,this.serial,e.serial,!1,!0)&&this.moveBuffer.unshift(e)}async checkIfMoveMissed(e){let n=this.serial-this.lastSerial&255;if(n>0&&this.serial!=0){let r=this.moveBuffer[0],i=r?r.serial:this.serial+1&255;await this.requestMoveHistory(e,i,n+1)}}async handleStateEvent(e,n){var r=nc(),i=[],a=new cd(n),s=a.getBitWord(0,8),o=a.getBitWord(8,8);if(s==1){if(this.lastSerial!=-1){this.lastLocalTimestamp=r;let c=a.getBitWord(16,32,!0),u=this.serial=a.getBitWord(48,16,!0),f=a.getBitWord(64,2),d=[2,32,8,1,16,4].indexOf(a.getBitWord(66,6)),h="URFDLB".charAt(d)+" '".charAt(f);d>=0&&this.moveBuffer.push({type:"MOVE",serial:u,timestamp:r,localTimestamp:r,cubeTimestamp:c,face:d,direction:f,move:h.trim()}),i=await this.evictMoveBuffer(e)}}else if(s==209){let c=a.getBitWord(16,8),u=(o-1)*2;for(let f=0;f<u;f++){let d=[1,5,3,0,4,2].indexOf(a.getBitWord(24+4*f,3)),h=a.getBitWord(27+4*f,1);if(d>=0){let p="URFDLB".charAt(d)+" '".charAt(h);this.injectMissedMoveToBuffer({type:"MOVE",serial:c-f&255,timestamp:r,localTimestamp:null,cubeTimestamp:null,face:d,direction:h,move:p.trim()})}}i=await this.evictMoveBuffer()}else if(s==237){let c=this.serial=a.getBitWord(16,16,!0);this.lastSerial!=-1&&this.lastLocalTimestamp!=null&&r-this.lastLocalTimestamp>500&&await this.checkIfMoveMissed(e),this.lastSerial==-1&&(this.lastSerial=c);let u=[],f=[],d=[],h=[];for(let p=0;p<7;p++)u.push(a.getBitWord(32+p*3,3)),f.push(a.getBitWord(53+p*2,2));u.push(28-St(u)),f.push((3-St(f)%3)%3);for(let p=0;p<11;p++)d.push(a.getBitWord(69+p*4,4)),h.push(a.getBitWord(113+p,1));d.push(66-St(d)),h.push((2-St(h)%2)%2),i.push({type:"FACELETS",serial:c,timestamp:r,facelets:ld(u,f,d,h),state:{CP:u,CO:f,EP:d,EO:h}})}else if(s>=250&&s<=254){switch(s){case 250:let c=a.getBitWord(24,16,!0),u=a.getBitWord(40,8),f=a.getBitWord(48,8);this.hwInfo[s]=`${c.toString().padStart(4,"0")}-${u.toString().padStart(2,"0")}-${f.toString().padStart(2,"0")}`;break;case 252:this.hwInfo[s]="";for(var l=0;l<o-1;l++)this.hwInfo[s]+=String.fromCharCode(a.getBitWord(l*8+24,8));break;case 253:let d=a.getBitWord(24,4),h=a.getBitWord(28,4);this.hwInfo[s]=`${d}.${h}`;break;case 254:let p=a.getBitWord(24,4),y=a.getBitWord(28,4);this.hwInfo[s]=`${p}.${y}`;break}Object.keys(this.hwInfo).length==4&&i.push({type:"HARDWARE",timestamp:r,hardwareName:this.hwInfo[252],hardwareVersion:this.hwInfo[254],softwareVersion:this.hwInfo[253],productDate:this.hwInfo[250],gyroSupported:["GAN12uiM"].indexOf(this.hwInfo[252])!=-1})}else if(s==236){let c=a.getBitWord(16,16),u=a.getBitWord(32,16),f=a.getBitWord(48,16),d=a.getBitWord(64,16),h=a.getBitWord(80,4),p=a.getBitWord(84,4),y=a.getBitWord(88,4);i.push({type:"GYRO",timestamp:r,quaternion:{x:(1-(u>>15)*2)*(u&32767)/32767,y:(1-(f>>15)*2)*(f&32767)/32767,z:(1-(d>>15)*2)*(d&32767)/32767,w:(1-(c>>15)*2)*(c&32767)/32767},velocity:{x:(1-(h>>3)*2)*(h&7),y:(1-(p>>3)*2)*(p&7),z:(1-(y>>3)*2)*(y&7)}})}else if(s==239){let c=a.getBitWord(8+o*8,8);i.push({type:"BATTERY",timestamp:r,batteryLevel:Math.min(c,100)})}else s==234&&e.disconnect();return i}}function r6(t){if(t instanceof DataView)return new DataView(t.buffer.slice(2,11));for(var e of xg)if(t.has(e))return new DataView(t.get(e).buffer.slice(0,9))}function i6(t){var e=[],n=r6(t);if(n&&n.byteLength>=6)for(let r=1;r<=6;r++)e.push(n.getUint8(n.byteLength-r).toString(16).toUpperCase().padStart(2,"0"));return e.join(":")}async function a6(t){return new Promise(e=>{typeof t.watchAdvertisements!="function"&&e(null);var n=new AbortController,r=a=>{t.removeEventListener("advertisementreceived",r),n.abort();var s=i6(a.manufacturerData);e(s||null)},i=()=>{t.removeEventListener("advertisementreceived",r),n.abort(),e(null)};t.addEventListener("advertisementreceived",r),t.watchAdvertisements({signal:n.signal}).catch(i),setTimeout(i,1e4)})}async function s6(t){var o;var e=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"GAN"},{namePrefix:"MG"},{namePrefix:"AiCube"}],optionalServices:[vh,wh,bh],optionalManufacturerData:xg}),n=t&&await t(e,!1)||await a6(e)||t&&await t(e,!0);if(!n)throw new Error("Unable to determine cube MAC address, connection is not possible!");e.mac=n;var r=new Uint8Array(e.mac.split(/[:-\s]+/).map(l=>parseInt(l,16)).reverse()),i=await e.gatt.connect(),a=await i.getPrimaryServices(),s=null;for(let l of a){let c=l.uuid.toLowerCase();if(c==vh){let u=await l.getCharacteristic(G5),f=await l.getCharacteristic($5),d=(o=e.name)!=null&&o.startsWith("AiCube")?to[1]:to[0],h=new od(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new e6;s=await ka.create(e,u,f,h,p);break}else if(c==wh){let u=await l.getCharacteristic(H5),f=await l.getCharacteristic(Q5),d=to[0],h=new K5(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new t6;s=await ka.create(e,u,f,h,p);break}else if(c==bh){let u=await l.getCharacteristic(q5),f=await l.getCharacteristic(Y5),d=to[0],h=new X5(new Uint8Array(d.key),new Uint8Array(d.iv),r),p=new n6;s=await ka.create(e,u,f,h,p);break}}if(!s)throw new Error("Can't find target BLE services - wrong or unsupported cube device model");return s}const li=Object.freeze({RED:"red",GREEN:"green",YELLOW:"#E49B0F",WHITE:"white",GRAY:"gray"});class ur{constructor(e,n,r=li.WHITE,i=!1){this.move=e,this.index=n,this.color=r,this.isCurrent=i}}const o6=(t,e)=>new B(t.slice(e).join(" ")).experimentalSimplify({cancel:!0,puzzleLoader:qi}).invert().toString().split(" ").map((n,r)=>new ur(n,r,li.RED)),a0=(t=20)=>{const e=["R","L","U","D","F","B"],n=["","'","2"];let r=[],i=null,a=null;for(let s=0;s<t;s++){let o;do o=e[Math.floor(Math.random()*e.length)];while(o===i||o===a&&i&&l6(o,i));const l=n[Math.floor(Math.random()*n.length)];r.push(`${o}${l}`),a=i,i=o}return r.join(" ")},l6=(t,e)=>({R:"L",L:"R",U:"D",D:"U",F:"B",B:"F"})[t]===e,sa=Object.freeze({RESET:{type:"REQUEST_RESET"},HARDWARE:{type:"REQUEST_HARDWARE"},FACELETS:{type:"REQUEST_FACELETS"},BATTERY:{type:"REQUEST_BATTERY"}}),Zt=Object.freeze({FACELETS:"FACELETS",MOVE:"MOVE",GYRO:"GYRO",BATTERY:"BATTERY",HARDWARE:"HARDWARE"}),c6=async(t,e)=>e?prompt(`Unable do determine cube MAC address!
Please enter MAC address manually:`):typeof t.watchAdvertisements=="function"?null:prompt(`Seems like your browser does not support Web Bluetooth watchAdvertisements() API. Enable following flag in Chrome:

chrome://flags/#enable-experimental-web-platform-features

or enter cube MAC address manually:`),u6=()=>{const{connection:t,twistyPlayerRef:e,setConnection:n,timerState:r,setTimerState:i,timerStateRef:a,lastMoves:s,setLastMoves:o,solutionMovesRef:l,batteryLevelRef:c,hardwareInfoRef:u,setHardwareInfo:f,setBatteryLevel:d,connectionRef:h}=tc(),p=V.useRef(null),y=V.useRef(null),L=async()=>{var P;if(t)await m();else{y.current&&(clearInterval(y.current),y.current=null);const O=await s6(c6);n(O),(P=O==null?void 0:O.events$)==null||P.subscribe(v),y.current=setInterval(()=>{console.log("send battery command"),O==null||O.sendCubeCommand(sa.BATTERY).catch(Q=>console.error("Battery poll error:",Q))},6e4),await(O==null?void 0:O.sendCubeCommand(sa.HARDWARE)),await(O==null?void 0:O.sendCubeCommand(sa.FACELETS)),await(O==null?void 0:O.sendCubeCommand(sa.BATTERY))}};async function m(){await t.disconnect().catch(()=>console.log("no connection")),n(null),h.current=null,o([]),a0()}const g=()=>{t==null||t.sendCubeCommand(sa.RESET),e.current.alg=""},v=async P=>{switch(P.type){case Zt.GYRO:await E(P);break;case Zt.MOVE:await z(P);break;case Zt.FACELETS:await A(P);break;case Zt.BATTERY:console.log("level",P.batteryLevel),d(P.batteryLevel),c.current=P.batteryLevel;break;case Zt.HARDWARE:await F(P);break}};async function E(P){if(P.type===Zt.GYRO){let{x:O,y:Q,z:he,w:xe}=P.quaternion,De=new Ms(O,he,-Q,xe).normalize();p.current||(p.current=De.clone().conjugate()),V1.copy(De.premultiply(p.current).premultiply(y4))}}async function z(P){P.type===Zt.MOVE&&(e.current.experimentalAddMove(P.move,{cancel:!1}),o(O=>[...O,P]),a.current!==Ie.IDLE&&(l.current=[...l.current,P]),s.length>10)}let D=!1;async function A(P){if(P.type===Zt.FACELETS&&P.facelets===Zu&&o([]),P.type===Zt.FACELETS&&!D){if(P.facelets!==Zu){const O=E4(P.facelets),Q=await o5(O);e.current.alg=Q.invert()}else e.current.alg="";D=!0,console.log("Initial cube state is applied successfully",P.facelets)}}async function F(P){console.log(P);const O={hardwareName:(P==null?void 0:P.hardwareName)||"- n/a -",hardwareVersion:(P==null?void 0:P.hardwareVersion)||"- n/a -",softwareVersion:(P==null?void 0:P.softwareVersion)||"- n/a -",productDate:(P==null?void 0:P.productDate)||"- n/a -",gyroSupported:P!=null&&P.gyroSupported?"YES":"NO"};u.current=O,f(O)}return V.useEffect(()=>{console.log("controls initialize")},[]),V.useEffect(()=>{s.length>256&&o(s.slice(-256)),a.current===Ie.READY&&i(Ie.RUNNING)},[s]),b.jsxs("div",{className:"controls",children:[b.jsx("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:L,children:t?"Disconnect":"Connect"}),t&&b.jsxs(b.Fragment,{children:[r===Ie.IDLE&&b.jsx("button",{onClick:g,className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Reset State"}),b.jsx("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:()=>p.current=null,children:"Reset Gyro"})]})]})};var pg={exports:{}},d6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f6=d6,h6=f6;function mg(){}function gg(){}gg.resetWarningCache=mg;var x6=function(){function t(r,i,a,s,o,l){if(l!==h6){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gg,resetWarningCache:mg};return n.PropTypes=n,n};pg.exports=x6();var p6=pg.exports;const ud=Mg(p6),yg=({className:t=""})=>b.jsx("footer",{className:`py-4 px-4 text-center text-sm text-gray-500 dark:text-gray-400 ${t}`,children:b.jsx("div",{className:"container mx-auto",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[b.jsxs("div",{className:"mb-2 md:mb-0",children:[" ",new Date().getFullYear()," SmartTimer. All rights reserved."]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("a",{href:"#",className:"inline-flex items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors",target:"https://github.com/Sheshkon/smart-cube-timer",rel:"noopener noreferrer",children:[b.jsx(av,{size:16,className:"mr-1"}),b.jsx("span",{children:"GitHub"})]}),b.jsxs("a",{href:"#",className:"inline-flex items-center hover:text-amber-500 dark:hover:text-amber-400 transition-colors",target:"_blank",rel:"noopener noreferrer",children:[b.jsx(rv,{size:16,className:"mr-1"}),b.jsx("span",{children:"Support"})]})]})]})})});yg.propTypes={className:ud.string};const vg=V.createContext(),wg=({children:t})=>{const[e,n]=V.useState("light");V.useEffect(()=>{const i=localStorage.getItem("theme");if(i)n(i);else{const a=window.matchMedia("(prefers-color-scheme: dark)").matches;n(a?"dark":"light")}},[]),V.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return b.jsx(vg.Provider,{value:{theme:e,toggleTheme:r},children:t})};wg.propTypes={children:ud.node.isRequired};const m6=()=>{const t=V.useContext(vg);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},bg=({className:t=""})=>{const{theme:e,toggleTheme:n}=m6();return b.jsx(b.Fragment,{children:b.jsx("header",{className:`bg-white dark:bg-gray-800 shadow-sm px-4 py-3 ${t}`,children:b.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"SmartTimer"})}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsx("button",{onClick:()=>n(),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",title:e==="dark"?"Switch to light mode":"Switch to dark mode",children:e==="dark"?b.jsx(cv,{size:20}):b.jsx(ov,{size:20})})})]})})})};bg.propTypes={className:ud.string};const g6=(t,e,n,r)=>t===0&&e.length>1&&n.length===e.length&&n.every((i,a)=>i===e[a])&&r!==Ie.RUNNING,y6=({className:t=""})=>{const{scramble:e,connection:n,setTimerState:r,showScramble:i,setShowScramble:a,timerState:s,setScramble:o,lastMoves:l,scrambleDisplay:c,setScrambleDisplay:u,lastScrambleRef:f}=tc(),d=async()=>{const p=await a5("333"),y=p.toString().split(" ").map((L,m)=>new ur(L,m));f.current=e,o(p),u(y)},h=async p=>{const y=e==null?void 0:e.toString().split(" ");if(s!==Ie.IDLE)return;let L=0,m=0;const g=y==null?void 0:y.map((z,D)=>z===p[D]&&L===0?new ur(z,D,li.GRAY):D>p.length-1||p[D]===""||z.includes("2")&&z.replace("2","")===p[D].replace(/'/g,"")?new ur(z,D):(z!==p[D]&&L===0&&(L++,m=D,z.replace(/'/g,""),p[D].replace(/'/g,"")),L>0?(L++,new ur(z,D,li.RED)):new ur(z,D))),v=g?g.findIndex(z=>z.color===li.WHITE):0,E=g==null?void 0:g.map((z,D)=>new ur(z.move,D,z.color,D===v));L>1?u(o6(p,m)):u(E),g6(L,y,p,s)&&(r(Ie.READY),a(!1),console.log("timer ready"),await d())};return V.useEffect(()=>{s===Ie.IDLE&&h(M4(l.map(p=>p.move))).then(()=>console.log("Check Scramble"))},[l,s]),V.useEffect(()=>{d().then(()=>console.log("Scramble generated"))},[]),V.useEffect(()=>{a(!!n)},[n]),b.jsx(b.Fragment,{children:i&&s===Ie.IDLE&&b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${t}`,children:[b.jsx("div",{className:"flex justify-between items-center mb-2",children:b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Scramble"})}),b.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-md font-mono text-sm md:text-base overflow-x-auto",children:b.jsx("span",{className:"whitespace-normal break-all leading-relaxed text-gray-900 dark:text-gray-50 truncate-multiline",children:c.length>35?b.jsx("div",{className:"text-red-500 px-10 py-2",children:"Cube should be solved"}):c.map(p=>b.jsx("span",{style:p.color!==li.WHITE?{color:p.color}:{},className:`${p.isCurrent?"is-current-move text-gray-50":""} inline-block px-1 text-black-700`,children:p.move},p.index))})})]})})},Ya=t=>{if(!t)return"00:00.000";const e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60,i=t%1e3,a=n.toString().padStart(2,"0"),s=r.toString().padStart(2,"0"),o=i.toString().padStart(3,"0");return`${a}:${s}.${o}`},v6=t=>t.minutes*60*1e3+t.seconds*1e3+t.milliseconds;class w6{constructor(e,n,r,i,a){this.originalTime=e,this.formattedTime=n,this.scramble=r,this.solution=i,this.plainSolution=a}toString(){return`Original Time: ${this.originalTime}, Time: ${this.formattedTime}, Scramble: ${this.scramble}, Solution: ${this.solution}, Plain Solution: ${this.plainSolution}`}}const b6=(t,e)=>{var s,o;const n=t.originalTime.asTimestamp-e.originalTime.asTimestamp,r={formattedTime:Ya(Math.abs(n)),sign:Math.sign(n)},i=(o=(s=t.solution)==null?void 0:s.split(" "))==null?void 0:o.length,a=Sg(t.originalTime.asTimestamp,i);return{formattedTimeDiff:r,movesCount:i,tps:a}},S6=t=>{console.log(t);const e=t.solution.split(" ").length,n=Sg(t.originalTime.asTimestamp,e),i=new Date(t.date).toLocaleString();return`Time: ${t.formattedTime}
Date: ${i}
Scramble: ${t.scramble}
Solution: ${t==null?void 0:t.solution}
Moves: ${e}
TPS: ${n}`},Sg=(t,e)=>(e*1/Math.floor(t/1e3)).toFixed(1),k6=({times:t,className:e=""})=>{const n=()=>{if(console.log("calculating stats"),t.length===0)return{current:0,best:0,avg5:0,avg12:0,avg100:0};const o=[...t].sort((h,p)=>h.originalTime.asTimestamp-p.originalTime.asTimestamp)[0],l=t[t.length-1],c=r(t.slice(-5)),u=r(t.slice(-12)),f=r(t.slice(-100)),d=t.length>1?b6(l,t[t.length-2]):{};return console.log(d),{current:l,best:o,avg5:c,avg12:u,avg100:f,diff:d}},r=s=>{if(s.length===0)return 0;if(s.length<3)return s.reduce((c,u)=>c+u.originalTime.asTimestamp,0)/s.length;const l=[...s].sort((c,u)=>c.originalTime.asTimestamp-u.originalTime.asTimestamp).slice(1,-1);return l.reduce((c,u)=>c+u.originalTime.asTimestamp,0)/l.length},i=n(),a=[{label:"Current",value:i.current.formattedTime,icon:b.jsx(nv,{size:18})},{label:"Best",value:i.best.formattedTime,icon:b.jsx(ev,{size:18})},{label:"Avg5",value:Ya(i.avg5.toFixed(0)),icon:b.jsx(uv,{size:18})},{label:"Avg12",value:Ya(i.avg12.toFixed(0)),icon:b.jsx(tv,{size:18})}];return b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${e}`,children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Statistics"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.map((s,o)=>{var l,c,u;return b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-md flex flex-col items-center justify-center",children:[b.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 mb-1",children:[s.icon,b.jsx("span",{className:"ml-1 text-xs font-medium",children:s.label})]}),b.jsxs("div",{className:"font-mono font-semibold flex-col text-lg text-gray-900 dark:text-white",children:[b.jsx("div",{className:"flex justify-center",children:s.value}),s.label==="Current"&&((l=i==null?void 0:i.diff)==null?void 0:l.formattedTimeDiff)&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:i.diff.formattedTimeDiff.sign===1?"text-red-600 dark:text-red-400 text-xs flex justify-center":"text-green-600 dark:text-green-400 text-xs flex justify-center",children:b.jsx("p",{children:`(${i.diff.formattedTimeDiff.sign===1?"+":"-"}${i.diff.formattedTimeDiff.formattedTime})`})}),b.jsxs("div",{className:"flex justify-center ml-1 text-xs text-gray-500 dark:text-gray-400",children:["Moves: ",b.jsx("p",{className:"text-gray-900 dark:text-white text-xs",children:(c=i.diff)==null?void 0:c.movesCount})]}),b.jsxs("div",{className:"flex justify-center ml-1 text-xs text-gray-500 dark:text-gray-400",children:["TPS: ",b.jsx("p",{className:"text-gray-900 text-xs dark:text-white",children:(u=i.diff)==null?void 0:u.tps})]})]})]})]},o)})})]})},E6=t=>{const e=t.split(" "),n=[];let r=e[0],i=1;for(let a=1;a<=e.length;a++)e[a]===r?i++:(n.push(i>1?`${r}${i}`:r),r=e[a],i=1);return n.join(" ")},M6=({onSaveTime:t})=>{const{twistyPlayerRef:e,timerState:n,setTimerState:r,timerStateRef:i,solutionMovesRef:a,setShowScramble:s,setLastMoves:o,lastScrambleRef:l,connection:c,connectionRef:u}=tc(),f=V.useRef(null),[d,h]=V.useState(!1),[p,y]=V.useState(""),L=V.useRef(null),m=V.useCallback(()=>{E();const A=J5(a.current).slice(-1).pop(),{formattedTime:F,originalTime:P}=g(A?A.cubeTimestamp:0),O=a.current.map(xe=>xe.move).join(" "),Q=E6(O),he=new w6(P,F,l.current.toString(),Q);h(!1),t(he),z(),s(!0)},[t,s]),g=V.useCallback(D=>{const A=W5(D),F=Ya(v6(A));return y(F),{formattedTime:F,originalTime:A}},[]),v=V.useCallback(()=>{const D=new Date().getTime();f.current=U5(30).subscribe(()=>{if(u.current)return g(new Date().getTime()-D);h(!1),z(),E()})},[u,g]),E=V.useCallback(()=>{var D;(D=f.current)==null||D.unsubscribe(),f.current=null},[]),z=V.useCallback(()=>{o([]),a.current=[],r(Ie.IDLE),y(Ya(0))},[o,r]);return V.useEffect(()=>{const D=async A=>{const F=k4(A);console.log("fresh listener"),F===Zu&&i.current===Ie.RUNNING&&(r(Ie.STOPPED),e.current.alg="")};return e.current&&(L.current=e.current.experimentalModel.currentPattern.addFreshListener(D)),()=>{L.current&&e.current&&e.current.experimentalModel.currentPattern.removeFreshListener(L.current),E()}},[e,i,r,E]),V.useEffect(()=>{switch(n){case Ie.READY:g(0),h(!0);break;case Ie.RUNNING:v();break;case Ie.STOPPED:m();break;case Ie.IDLE:break}},[n,g,v,m]),b.jsx(b.Fragment,{children:d&&b.jsx("div",{id:"timer",className:"font-mono font-semibold text-lg text-gray-900 dark:text-white",children:p})})},z6=({isOpen:t,onClose:e,onDelete:n,isDeleting:r})=>{const i=()=>{e()},a=()=>{n(),i()};return b.jsx("div",{children:t&&b.jsx("dialog",{open:!0,className:"modal",children:b.jsxs("div",{className:"modal-box",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Delete All Solves"}),b.jsx("p",{className:"py-4",children:"Are you sure you want to delete session?"}),b.jsxs("div",{className:"modal-action",children:[b.jsx("button",{className:"p-2 rounded bg-red-700 dark:bg-red-700 text-gray-100 dark:text-gray-300  transition-colors",onClick:a,disabled:r,children:r?"Deleting...":"Delete All"}),b.jsx("button",{className:"p-1.5 rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",onClick:i,children:"Cancel"})]})]})})})},T6=({onDeleteTimes:t,times:e,onDeleteTime:n,className:r=""})=>{var v,E;const[i,a]=V.useState(null),[s,o]=V.useState(!1),[l,c]=V.useState(!1),[u,f]=V.useState(!1),d=()=>{c(!0)},h=()=>{c(!1)},p=[...e].sort((z,D)=>new Date(D.date).getTime()-new Date(z.date).getTime()),y=z=>new Date(z).toLocaleDateString()+" "+new Date(z).toLocaleTimeString(),L=z=>{a(z)},m=()=>{a(null)},g=z=>{navigator.clipboard.writeText(z).then(()=>{o(!0),setTimeout(()=>o(!1),1e3)})};return b.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 ${r}`,children:[b.jsxs("div",{className:"flex mb-4",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Session"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(z6,{isOpen:l,onClose:h,onDelete:()=>t(),isDeleting:u}),b.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:b.jsx("button",{onClick:d,className:"p-1 rounded text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",title:"Delete all times",children:b.jsx(Sf,{size:16})})})]})]}),e.length===0?b.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No times recorded yet"}):b.jsxs("div",{className:"overflow-x-auto",children:[b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-900 text-left",children:[b.jsx("th",{className:"px-4 py-2 rounded-tl-md dark:text-white",children:"#"}),b.jsx("th",{className:"px-4 py-2 dark:text-white",children:"Time"}),b.jsx("th",{className:"px-4 py-2 dark:text-white",children:"When"}),b.jsx("th",{className:"px-4 py-2 rounded-tr-md dark:text-white",children:"Actions"})]})}),b.jsx("tbody",{children:p.map((z,D)=>b.jsxs("tr",{className:`
                    border-t border-gray-100 dark:border-gray-700
                    ${D%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/50"}
                    hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors
                  `,children:[b.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",children:p.length-D}),b.jsx("td",{onClick:()=>L(z),className:"px-4 py-3 font-mono font-medium text-gray-900 dark:text-white",children:z.formattedTime}),b.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",children:y(z.date)}),b.jsx("td",{className:"px-4 py-3",children:b.jsx("button",{onClick:()=>n(z.id),className:"p-1 rounded text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",title:"Delete time",children:b.jsx(Sf,{size:16})})})]},z.id))})]}),i&&b.jsxs("dialog",{open:!0,className:"modal",children:[b.jsx("div",{className:"modal-box",children:b.jsxs("div",{onClick:()=>g(S6(i)),children:[b.jsxs("div",{className:"flex justify-between items-center gap-16",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"Time",children:"Time:"})}),b.jsx("input",{id:"time",type:"text",readOnly:!0,value:i.formattedTime,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1 w-full"})]}),b.jsxs("div",{className:"flex justify-between gap-8",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"Scramble",children:"Scramble:"})}),b.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.scramble,className:"bg-gray-100 dark:bg-gray-800 p-1 rounded flex-1 w-full"})]}),b.jsxs("div",{className:"flex justify-between gap-16",children:[b.jsx("b",{children:b.jsx("label",{className:"x",htmlFor:"date",children:"Date:"})}),b.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.date,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1 w-full"})]}),b.jsxs("div",{className:"flex justify-between gap-1",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"Moves count",children:"Moves count:"})}),b.jsx("input",{id:"time",type:"text",readOnly:!0,value:(E=(v=i==null?void 0:i.solution)==null?void 0:v.split(" "))==null?void 0:E.length,className:"bg-gray-100 dark:bg-gray-800 p-1 rounded flex-1 w-full"})]}),b.jsxs("div",{className:"flex justify-between gap-9",children:[b.jsx("b",{children:b.jsx("label",{htmlFor:"Solution",children:"Solution: "})}),b.jsx("input",{id:"time",type:"text",readOnly:!0,value:i==null?void 0:i.solution,className:"bg-gray-200 dark:bg-gray-900 p-1 rounded flex-1"})]}),s&&b.jsx("div",{className:"absolute center flex right-4",children:b.jsx("span",{className:"copied-message text-green-800",children:"Copied!"})})]})}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:m,children:"Close"})})]})]})]})};function D6(t,e){const n=()=>{if(typeof window>"u")return e;try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.warn(`Error reading localStorage key "${t}":`,s),e}},[r,i]=V.useState(n),a=s=>{try{const o=s instanceof Function?s(r):s;i(o),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(o))}catch(o){console.warn(`Error setting localStorage key "${t}":`,o)}};return V.useEffect(()=>{i(n())},[t]),[r,a]}function C6(){const[t,e]=V.useState(a0()),[n,r]=D6("cube-timer-times",[]),i=()=>{e(a0())},a=l=>{const c={id:Date.now(),formattedTime:l==null?void 0:l.formattedTime,originalTime:l==null?void 0:l.originalTime,scramble:l==null?void 0:l.scramble,date:new Date,solution:l.solution};r(u=>[...u,c]),i()},s=l=>{r(c=>c.filter(u=>u.id!==l))},o=()=>{r(()=>[])};return b.jsx(b.Fragment,{children:b.jsx(x4,{children:b.jsx(wg,{children:b.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col",children:[b.jsx(bg,{}),b.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:b.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute -right-16 -top-16 opacity-5 transform rotate-12",children:b.jsx(iv,{size:200})}),b.jsx("div",{className:"py-4",children:b.jsx(u6,{})}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center w-full",children:[b.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:mb-0",children:b.jsx("div",{className:"cube-container",children:b.jsx(z4,{containerId:"main"})})}),b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[b.jsx(M6,{onSaveTime:a,className:"mb-6"}),b.jsx(y6,{className:"w-full max-w-md"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[b.jsx(k6,{times:n}),b.jsx(T6,{onDeleteTimes:o,times:n,onDeleteTime:s})]})]})}),b.jsx(yg,{})]})})})})}hm(document.getElementById("root")).render(b.jsx(C6,{}));export{B as A,bn as K,w as M,fn as Q,aw as T,Z as _,T4 as a,A6 as b,Kt as c,qi as d,Y1 as e,td as f,R6 as g,I6 as h,Oi as i,y5 as j,e1 as k,Ho as l,l5 as m,C4 as n,_6 as o,ad as p,F6 as q,v5 as r,N6 as s,P6 as t,c5 as u,G1 as v};
